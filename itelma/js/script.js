"use strict";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _get2(){if(typeof Reflect!=="undefined"&&Reflect.get){_get2=Reflect.get;}else{_get2=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(arguments.length<3?target:receiver);}return desc.value;};}return _get2.apply(this,arguments);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e81){throw _e81;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e82){didErr=true;err=_e82;},f:function f(){try{if(!normalCompletion&&it["return"]!=null)it["return"]();}finally{if(didErr)throw err;}}};}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}else if(call!==void 0){throw new TypeError("Derived constructors may only return object or undefined");}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _wrapNativeSuper(Class){var _cache=typeof Map==="function"?new Map():undefined;_wrapNativeSuper=function _wrapNativeSuper(Class){if(Class===null||!_isNativeFunction(Class))return Class;if(typeof Class!=="function"){throw new TypeError("Super expression must either be null or a function");}if(typeof _cache!=="undefined"){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper);}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor);}Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:false,writable:true,configurable:true}});return _setPrototypeOf(Wrapper,Class);};return _wrapNativeSuper(Class);}function _construct(Parent,args,Class){if(_isNativeReflectConstruct()){_construct=Reflect.construct;}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor();if(Class)_setPrototypeOf(instance,Class.prototype);return instance;};}return _construct.apply(null,arguments);}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _isNativeFunction(fn){return Function.toString.call(fn).indexOf("[native code]")!==-1;}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}/**
 * Swiper 7.3.0
 * Most modern mobile touch slider and framework with hardware accelerated transitions
 * https://swiperjs.com
 *
 * Copyright 2014-2021 Vladimir Kharlampidi
 *
 * Released under the MIT License
 *
 * Released on: November 18, 2021
 */!function(e,t){"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Swiper=t();}(void 0,function(){"use strict";function e(e){return null!==e&&"object"==_typeof(e)&&"constructor"in e&&e.constructor===Object;}function t(){var s=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};Object.keys(a).forEach(function(i){void 0===s[i]?s[i]=a[i]:e(a[i])&&e(s[i])&&Object.keys(a[i]).length>0&&t(s[i],a[i]);});}var s={body:{},addEventListener:function addEventListener(){},removeEventListener:function removeEventListener(){},activeElement:{blur:function blur(){},nodeName:""},querySelector:function querySelector(){return null;},querySelectorAll:function querySelectorAll(){return[];},getElementById:function getElementById(){return null;},createEvent:function createEvent(){return{initEvent:function initEvent(){}};},createElement:function createElement(){return{children:[],childNodes:[],style:{},setAttribute:function setAttribute(){},getElementsByTagName:function getElementsByTagName(){return[];}};},createElementNS:function createElementNS(){return{};},importNode:function importNode(){return null;},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function a(){var e="undefined"!=typeof document?document:{};return t(e,s),e;}var i={document:s,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function replaceState(){},pushState:function pushState(){},go:function go(){},back:function back(){}},CustomEvent:function CustomEvent(){return this;},addEventListener:function addEventListener(){},removeEventListener:function removeEventListener(){},getComputedStyle:function getComputedStyle(){return{getPropertyValue:function getPropertyValue(){return"";}};},Image:function Image(){},Date:function Date(){},screen:{},setTimeout:function setTimeout(){},clearTimeout:function clearTimeout(){},matchMedia:function matchMedia(){return{};},requestAnimationFrame:function requestAnimationFrame(e){return"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0);},cancelAnimationFrame:function cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e);}};function r(){var e="undefined"!=typeof window?window:{};return t(e,i),e;}var n=/*#__PURE__*/function(_Array){_inherits(n,_Array);var _super=_createSuper(n);function n(e){var _this;_classCallCheck(this,n);_this=_super.call.apply(_super,[this].concat(_toConsumableArray(e||[]))),function(e){var t=e.__proto__;Object.defineProperty(e,"__proto__",{get:function get(){return t;},set:function set(e){t.__proto__=e;}});}(_assertThisInitialized(_this));return _this;}return n;}(/*#__PURE__*/_wrapNativeSuper(Array));function l(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var t=[];return e.forEach(function(e){Array.isArray(e)?t.push.apply(t,_toConsumableArray(l(e))):t.push(e);}),t;}function o(e,t){return Array.prototype.filter.call(e,t);}function d(e,t){var s=r(),i=a();var l=[];if(!t&&e instanceof n)return e;if(!e)return new n(l);if("string"==typeof e){var _s=e.trim();if(_s.indexOf("<")>=0&&_s.indexOf(">")>=0){var _e="div";0===_s.indexOf("<li")&&(_e="ul"),0===_s.indexOf("<tr")&&(_e="tbody"),0!==_s.indexOf("<td")&&0!==_s.indexOf("<th")||(_e="tr"),0===_s.indexOf("<tbody")&&(_e="table"),0===_s.indexOf("<option")&&(_e="select");var _t=i.createElement(_e);_t.innerHTML=_s;for(var _e2=0;_e2<_t.childNodes.length;_e2+=1){l.push(_t.childNodes[_e2]);}}else l=function(e,t){if("string"!=typeof e)return[e];var s=[],a=t.querySelectorAll(e);for(var _e3=0;_e3<a.length;_e3+=1){s.push(a[_e3]);}return s;}(e.trim(),t||i);}else if(e.nodeType||e===s||e===i)l.push(e);else if(Array.isArray(e)){if(e instanceof n)return e;l=e;}return new n(function(e){var t=[];for(var _s2=0;_s2<e.length;_s2+=1){-1===t.indexOf(e[_s2])&&t.push(e[_s2]);}return t;}(l));}d.fn=n.prototype;var c={addClass:function addClass(){for(var _len=arguments.length,e=new Array(_len),_key=0;_key<_len;_key++){e[_key]=arguments[_key];}var t=l(e.map(function(e){return e.split(" ");}));return this.forEach(function(e){var _e$classList;(_e$classList=e.classList).add.apply(_e$classList,_toConsumableArray(t));}),this;},removeClass:function removeClass(){for(var _len2=arguments.length,e=new Array(_len2),_key2=0;_key2<_len2;_key2++){e[_key2]=arguments[_key2];}var t=l(e.map(function(e){return e.split(" ");}));return this.forEach(function(e){var _e$classList2;(_e$classList2=e.classList).remove.apply(_e$classList2,_toConsumableArray(t));}),this;},hasClass:function hasClass(){for(var _len3=arguments.length,e=new Array(_len3),_key3=0;_key3<_len3;_key3++){e[_key3]=arguments[_key3];}var t=l(e.map(function(e){return e.split(" ");}));return o(this,function(e){return t.filter(function(t){return e.classList.contains(t);}).length>0;}).length>0;},toggleClass:function toggleClass(){for(var _len4=arguments.length,e=new Array(_len4),_key4=0;_key4<_len4;_key4++){e[_key4]=arguments[_key4];}var t=l(e.map(function(e){return e.split(" ");}));this.forEach(function(e){t.forEach(function(t){e.classList.toggle(t);});});},attr:function attr(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var _s3=0;_s3<this.length;_s3+=1){if(2===arguments.length)this[_s3].setAttribute(e,t);else for(var _t2 in e){this[_s3][_t2]=e[_t2],this[_s3].setAttribute(_t2,e[_t2]);}}return this;},removeAttr:function removeAttr(e){for(var _t3=0;_t3<this.length;_t3+=1){this[_t3].removeAttribute(e);}return this;},transform:function transform(e){for(var _t4=0;_t4<this.length;_t4+=1){this[_t4].style.transform=e;}return this;},transition:function transition(e){for(var _t5=0;_t5<this.length;_t5+=1){this[_t5].style.transitionDuration="string"!=typeof e?"".concat(e,"ms"):e;}return this;},on:function on(){var _e5,_e6;for(var _len5=arguments.length,e=new Array(_len5),_key5=0;_key5<_len5;_key5++){e[_key5]=arguments[_key5];}var t=e[0],s=e[1],a=e[2],i=e[3];function r(e){var t=e.target;if(!t)return;var i=e.target.dom7EventData||[];if(i.indexOf(e)<0&&i.unshift(e),d(t).is(s))a.apply(t,i);else{var _e4=d(t).parents();for(var _t6=0;_t6<_e4.length;_t6+=1){d(_e4[_t6]).is(s)&&a.apply(_e4[_t6],i);}}}function n(e){var t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),a.apply(this,t);}"function"==typeof e[1]&&((_e5=e,_e6=_slicedToArray(_e5,3),t=_e6[0],a=_e6[1],i=_e6[2],_e5),s=void 0),i||(i=!1);var l=t.split(" ");var o;for(var _e7=0;_e7<this.length;_e7+=1){var _t7=this[_e7];if(s)for(o=0;o<l.length;o+=1){var _e8=l[o];_t7.dom7LiveListeners||(_t7.dom7LiveListeners={}),_t7.dom7LiveListeners[_e8]||(_t7.dom7LiveListeners[_e8]=[]),_t7.dom7LiveListeners[_e8].push({listener:a,proxyListener:r}),_t7.addEventListener(_e8,r,i);}else for(o=0;o<l.length;o+=1){var _e9=l[o];_t7.dom7Listeners||(_t7.dom7Listeners={}),_t7.dom7Listeners[_e9]||(_t7.dom7Listeners[_e9]=[]),_t7.dom7Listeners[_e9].push({listener:a,proxyListener:n}),_t7.addEventListener(_e9,n,i);}}return this;},off:function off(){var _e10,_e11;for(var _len6=arguments.length,e=new Array(_len6),_key6=0;_key6<_len6;_key6++){e[_key6]=arguments[_key6];}var t=e[0],s=e[1],a=e[2],i=e[3];"function"==typeof e[1]&&((_e10=e,_e11=_slicedToArray(_e10,3),t=_e11[0],a=_e11[1],i=_e11[2],_e10),s=void 0),i||(i=!1);var r=t.split(" ");for(var _e12=0;_e12<r.length;_e12+=1){var _t8=r[_e12];for(var _e13=0;_e13<this.length;_e13+=1){var _r=this[_e13];var _n2=void 0;if(!s&&_r.dom7Listeners?_n2=_r.dom7Listeners[_t8]:s&&_r.dom7LiveListeners&&(_n2=_r.dom7LiveListeners[_t8]),_n2&&_n2.length)for(var _e14=_n2.length-1;_e14>=0;_e14-=1){var _s4=_n2[_e14];a&&_s4.listener===a||a&&_s4.listener&&_s4.listener.dom7proxy&&_s4.listener.dom7proxy===a?(_r.removeEventListener(_t8,_s4.proxyListener,i),_n2.splice(_e14,1)):a||(_r.removeEventListener(_t8,_s4.proxyListener,i),_n2.splice(_e14,1));}}}return this;},trigger:function trigger(){for(var _len7=arguments.length,e=new Array(_len7),_key7=0;_key7<_len7;_key7++){e[_key7]=arguments[_key7];}var t=r(),s=e[0].split(" "),a=e[1];for(var _i2=0;_i2<s.length;_i2+=1){var _r2=s[_i2];for(var _s5=0;_s5<this.length;_s5+=1){var _i3=this[_s5];if(t.CustomEvent){var _s6=new t.CustomEvent(_r2,{detail:a,bubbles:!0,cancelable:!0});_i3.dom7EventData=e.filter(function(e,t){return t>0;}),_i3.dispatchEvent(_s6),_i3.dom7EventData=[],delete _i3.dom7EventData;}}}return this;},transitionEnd:function transitionEnd(e){var t=this;return e&&t.on("transitionend",function s(a){a.target===this&&(e.call(this,a),t.off("transitionend",s));}),this;},outerWidth:function outerWidth(e){if(this.length>0){if(e){var _e15=this.styles();return this[0].offsetWidth+parseFloat(_e15.getPropertyValue("margin-right"))+parseFloat(_e15.getPropertyValue("margin-left"));}return this[0].offsetWidth;}return null;},outerHeight:function outerHeight(e){if(this.length>0){if(e){var _e16=this.styles();return this[0].offsetHeight+parseFloat(_e16.getPropertyValue("margin-top"))+parseFloat(_e16.getPropertyValue("margin-bottom"));}return this[0].offsetHeight;}return null;},styles:function styles(){var e=r();return this[0]?e.getComputedStyle(this[0],null):{};},offset:function offset(){if(this.length>0){var _e17=r(),_t9=a(),_s7=this[0],_i4=_s7.getBoundingClientRect(),_n3=_t9.body,_l=_s7.clientTop||_n3.clientTop||0,_o=_s7.clientLeft||_n3.clientLeft||0,_d2=_s7===_e17?_e17.scrollY:_s7.scrollTop,_c=_s7===_e17?_e17.scrollX:_s7.scrollLeft;return{top:_i4.top+_d2-_l,left:_i4.left+_c-_o};}return null;},css:function css(e,t){var s=r();var a;if(1===arguments.length){if("string"!=typeof e){for(a=0;a<this.length;a+=1){for(var _t10 in e){this[a].style[_t10]=e[_t10];}}return this;}if(this[0])return s.getComputedStyle(this[0],null).getPropertyValue(e);}if(2===arguments.length&&"string"==typeof e){for(a=0;a<this.length;a+=1){this[a].style[e]=t;}return this;}return this;},each:function each(e){return e?(this.forEach(function(t,s){e.apply(t,[t,s]);}),this):this;},html:function html(e){if(void 0===e)return this[0]?this[0].innerHTML:null;for(var _t11=0;_t11<this.length;_t11+=1){this[_t11].innerHTML=e;}return this;},text:function text(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var _t12=0;_t12<this.length;_t12+=1){this[_t12].textContent=e;}return this;},is:function is(e){var t=r(),s=a(),i=this[0];var l,o;if(!i||void 0===e)return!1;if("string"==typeof e){if(i.matches)return i.matches(e);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(e);if(i.msMatchesSelector)return i.msMatchesSelector(e);for(l=d(e),o=0;o<l.length;o+=1){if(l[o]===i)return!0;}return!1;}if(e===s)return i===s;if(e===t)return i===t;if(e.nodeType||e instanceof n){for(l=e.nodeType?[e]:e,o=0;o<l.length;o+=1){if(l[o]===i)return!0;}return!1;}return!1;},index:function index(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);){1===t.nodeType&&(e+=1);}return e;}},eq:function eq(e){if(void 0===e)return this;var t=this.length;if(e>t-1)return d([]);if(e<0){var _s8=t+e;return d(_s8<0?[]:[this[_s8]]);}return d([this[e]]);},append:function append(){var t;var s=a();for(var _a=0;_a<arguments.length;_a+=1){t=_a<0||arguments.length<=_a?undefined:arguments[_a];for(var _e18=0;_e18<this.length;_e18+=1){if("string"==typeof t){var _a2=s.createElement("div");for(_a2.innerHTML=t;_a2.firstChild;){this[_e18].appendChild(_a2.firstChild);}}else if(t instanceof n)for(var _s9=0;_s9<t.length;_s9+=1){this[_e18].appendChild(t[_s9]);}else this[_e18].appendChild(t);}}return this;},prepend:function prepend(e){var t=a();var s,i;for(s=0;s<this.length;s+=1){if("string"==typeof e){var _a3=t.createElement("div");for(_a3.innerHTML=e,i=_a3.childNodes.length-1;i>=0;i-=1){this[s].insertBefore(_a3.childNodes[i],this[s].childNodes[0]);}}else if(e instanceof n)for(i=0;i<e.length;i+=1){this[s].insertBefore(e[i],this[s].childNodes[0]);}else this[s].insertBefore(e,this[s].childNodes[0]);}return this;},next:function next(e){return this.length>0?e?this[0].nextElementSibling&&d(this[0].nextElementSibling).is(e)?d([this[0].nextElementSibling]):d([]):this[0].nextElementSibling?d([this[0].nextElementSibling]):d([]):d([]);},nextAll:function nextAll(e){var t=[];var s=this[0];if(!s)return d([]);for(;s.nextElementSibling;){var _a4=s.nextElementSibling;e?d(_a4).is(e)&&t.push(_a4):t.push(_a4),s=_a4;}return d(t);},prev:function prev(e){if(this.length>0){var _t13=this[0];return e?_t13.previousElementSibling&&d(_t13.previousElementSibling).is(e)?d([_t13.previousElementSibling]):d([]):_t13.previousElementSibling?d([_t13.previousElementSibling]):d([]);}return d([]);},prevAll:function prevAll(e){var t=[];var s=this[0];if(!s)return d([]);for(;s.previousElementSibling;){var _a5=s.previousElementSibling;e?d(_a5).is(e)&&t.push(_a5):t.push(_a5),s=_a5;}return d(t);},parent:function parent(e){var t=[];for(var _s10=0;_s10<this.length;_s10+=1){null!==this[_s10].parentNode&&(e?d(this[_s10].parentNode).is(e)&&t.push(this[_s10].parentNode):t.push(this[_s10].parentNode));}return d(t);},parents:function parents(e){var t=[];for(var _s11=0;_s11<this.length;_s11+=1){var _a6=this[_s11].parentNode;for(;_a6;){e?d(_a6).is(e)&&t.push(_a6):t.push(_a6),_a6=_a6.parentNode;}}return d(t);},closest:function closest(e){var t=this;return void 0===e?d([]):(t.is(e)||(t=t.parents(e).eq(0)),t);},find:function find(e){var t=[];for(var _s12=0;_s12<this.length;_s12+=1){var _a7=this[_s12].querySelectorAll(e);for(var _e19=0;_e19<_a7.length;_e19+=1){t.push(_a7[_e19]);}}return d(t);},children:function children(e){var t=[];for(var _s13=0;_s13<this.length;_s13+=1){var _a8=this[_s13].children;for(var _s14=0;_s14<_a8.length;_s14+=1){e&&!d(_a8[_s14]).is(e)||t.push(_a8[_s14]);}}return d(t);},filter:function filter(e){return d(o(this,e));},remove:function remove(){for(var _e20=0;_e20<this.length;_e20+=1){this[_e20].parentNode&&this[_e20].parentNode.removeChild(this[_e20]);}return this;}};function p(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return setTimeout(e,t);}function u(){return Date.now();}function h(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"x";var s=r();var a,i,n;var l=function(e){var t=r();var s;return t.getComputedStyle&&(s=t.getComputedStyle(e,null)),!s&&e.currentStyle&&(s=e.currentStyle),s||(s=e.style),s;}(e);return s.WebKitCSSMatrix?(i=l.transform||l.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(function(e){return e.replace(",",".");}).join(", ")),n=new s.WebKitCSSMatrix("none"===i?"":i)):(n=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),a=n.toString().split(",")),"x"===t&&(i=s.WebKitCSSMatrix?n.m41:16===a.length?parseFloat(a[12]):parseFloat(a[4])),"y"===t&&(i=s.WebKitCSSMatrix?n.m42:16===a.length?parseFloat(a[13]):parseFloat(a[5])),i||0;}function m(e){return"object"==_typeof(e)&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1);}function f(){var t=Object(arguments.length<=0?undefined:arguments[0]),s=["__proto__","constructor","prototype"];for(var _i5=1;_i5<arguments.length;_i5+=1){var _r3=_i5<0||arguments.length<=_i5?undefined:arguments[_i5];if(null!=_r3&&(a=_r3,!("undefined"!=typeof window&&void 0!==window.HTMLElement?a instanceof HTMLElement:a&&(1===a.nodeType||11===a.nodeType)))){var _e21=Object.keys(Object(_r3)).filter(function(e){return s.indexOf(e)<0;});for(var _s15=0,_a9=_e21.length;_s15<_a9;_s15+=1){var _a10=_e21[_s15],_i6=Object.getOwnPropertyDescriptor(_r3,_a10);void 0!==_i6&&_i6.enumerable&&(m(t[_a10])&&m(_r3[_a10])?_r3[_a10].__swiper__?t[_a10]=_r3[_a10]:f(t[_a10],_r3[_a10]):!m(t[_a10])&&m(_r3[_a10])?(t[_a10]={},_r3[_a10].__swiper__?t[_a10]=_r3[_a10]:f(t[_a10],_r3[_a10])):t[_a10]=_r3[_a10]);}}}var a;return t;}function g(e,t,s){e.style.setProperty(t,s);}function v(_ref){var e=_ref.swiper,t=_ref.targetPosition,s=_ref.side;var a=r(),i=-e.translate;var n,l=null;var o=e.params.speed;e.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(e.cssModeFrameID);var d=t>i?"next":"prev",c=function c(e,t){return"next"===d&&e>=t||"prev"===d&&e<=t;},p=function p(){n=new Date().getTime(),null===l&&(l=n);var r=Math.max(Math.min((n-l)/o,1),0),d=.5-Math.cos(r*Math.PI)/2;var u=i+d*(t-i);if(c(u,t)&&(u=t),e.wrapperEl.scrollTo(_defineProperty({},s,u)),c(u,t))return e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(function(){e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo(_defineProperty({},s,u));}),void a.cancelAnimationFrame(e.cssModeFrameID);e.cssModeFrameID=a.requestAnimationFrame(p);};p();}var w,b,x;function y(){return w||(w=function(){var e=r(),t=a();return{smoothScroll:t.documentElement&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),passiveListener:function(){var t=!1;try{var _s16=Object.defineProperty({},"passive",{get:function get(){t=!0;}});e.addEventListener("testPassiveListener",null,_s16);}catch(e){}return t;}(),gestures:"ongesturestart"in e};}()),w;}function E(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return b||(b=function(){var _ref2=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},e=_ref2.userAgent;var t=y(),s=r(),a=s.navigator.platform,i=e||s.navigator.userAgent,n={ios:!1,android:!1},l=s.screen.width,o=s.screen.height,d=i.match(/(Android);?[\s\/]+([\d.]+)?/);var c=i.match(/(iPad).*OS\s([\d_]+)/);var p=i.match(/(iPod)(.*OS\s([\d_]+))?/),u=!c&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h="Win32"===a;var m="MacIntel"===a;return!c&&m&&t.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf("".concat(l,"x").concat(o))>=0&&(c=i.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),m=!1),d&&!h&&(n.os="android",n.android=!0),(c||u||p)&&(n.os="ios",n.ios=!0),n;}(e)),b;}function T(){return x||(x=function(){var e=r();return{isSafari:function(){var t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0;}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)};}()),x;}Object.keys(c).forEach(function(e){Object.defineProperty(d.fn,e,{value:c[e],writable:!0});});var C={on:function on(e,t,s){var a=this;if("function"!=typeof t)return a;var i=s?"unshift":"push";return e.split(" ").forEach(function(e){a.eventsListeners[e]||(a.eventsListeners[e]=[]),a.eventsListeners[e][i](t);}),a;},once:function once(e,t,s){var a=this;if("function"!=typeof t)return a;function i(){for(var _len8=arguments.length,s=new Array(_len8),_key8=0;_key8<_len8;_key8++){s[_key8]=arguments[_key8];}a.off(e,i),i.__emitterProxy&&delete i.__emitterProxy,t.apply(a,s);}return i.__emitterProxy=t,a.on(e,i,s);},onAny:function onAny(e,t){var s=this;if("function"!=typeof e)return s;var a=t?"unshift":"push";return s.eventsAnyListeners.indexOf(e)<0&&s.eventsAnyListeners[a](e),s;},offAny:function offAny(e){var t=this;if(!t.eventsAnyListeners)return t;var s=t.eventsAnyListeners.indexOf(e);return s>=0&&t.eventsAnyListeners.splice(s,1),t;},off:function off(e,t){var s=this;return s.eventsListeners?(e.split(" ").forEach(function(e){void 0===t?s.eventsListeners[e]=[]:s.eventsListeners[e]&&s.eventsListeners[e].forEach(function(a,i){(a===t||a.__emitterProxy&&a.__emitterProxy===t)&&s.eventsListeners[e].splice(i,1);});}),s):s;},emit:function emit(){var t=this;if(!t.eventsListeners)return t;var s,a,i;for(var _len9=arguments.length,e=new Array(_len9),_key9=0;_key9<_len9;_key9++){e[_key9]=arguments[_key9];}"string"==typeof e[0]||Array.isArray(e[0])?(s=e[0],a=e.slice(1,e.length),i=t):(s=e[0].events,a=e[0].data,i=e[0].context||t),a.unshift(i);return(Array.isArray(s)?s:s.split(" ")).forEach(function(e){t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(function(t){t.apply(i,[e].concat(_toConsumableArray(a)));}),t.eventsListeners&&t.eventsListeners[e]&&t.eventsListeners[e].forEach(function(e){e.apply(i,a);});}),t;}};function $(_ref3){var e=_ref3.swiper,t=_ref3.runCallbacks,s=_ref3.direction,a=_ref3.step;var i=e.activeIndex,r=e.previousIndex;var n=s;if(n||(n=i>r?"next":i<r?"prev":"reset"),e.emit("transition".concat(a)),t&&i!==r){if("reset"===n)return void e.emit("slideResetTransition".concat(a));e.emit("slideChangeTransition".concat(a)),"next"===n?e.emit("slideNextTransition".concat(a)):e.emit("slidePrevTransition".concat(a));}}function S(e){var t=this,s=a(),i=r(),n=t.touchEventsData,l=t.params,o=t.touches,c=t.enabled;if(!c)return;if(t.animating&&l.preventInteractionOnTransition)return;!t.animating&&l.cssMode&&l.loop&&t.loopFix();var p=e;p.originalEvent&&(p=p.originalEvent);var h=d(p.target);if("wrapper"===l.touchEventsTarget&&!h.closest(t.wrapperEl).length)return;if(n.isTouchEvent="touchstart"===p.type,!n.isTouchEvent&&"which"in p&&3===p.which)return;if(!n.isTouchEvent&&"button"in p&&p.button>0)return;if(n.isTouched&&n.isMoved)return;!!l.noSwipingClass&&""!==l.noSwipingClass&&p.target&&p.target.shadowRoot&&e.path&&e.path[0]&&(h=d(e.path[0]));var m=l.noSwipingSelector?l.noSwipingSelector:".".concat(l.noSwipingClass),f=!(!p.target||!p.target.shadowRoot);if(l.noSwiping&&(f?function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this;return function t(s){return s&&s!==a()&&s!==r()?(s.assignedSlot&&(s=s.assignedSlot),s.closest(e)||t(s.getRootNode().host)):null;}(t);}(m,p.target):h.closest(m)[0]))return void(t.allowClick=!0);if(l.swipeHandler&&!h.closest(l.swipeHandler)[0])return;o.currentX="touchstart"===p.type?p.targetTouches[0].pageX:p.pageX,o.currentY="touchstart"===p.type?p.targetTouches[0].pageY:p.pageY;var g=o.currentX,v=o.currentY,w=l.edgeSwipeDetection||l.iOSEdgeSwipeDetection,b=l.edgeSwipeThreshold||l.iOSEdgeSwipeThreshold;if(w&&(g<=b||g>=i.innerWidth-b)){if("prevent"!==w)return;e.preventDefault();}if(Object.assign(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=g,o.startY=v,n.touchStartTime=u(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,l.threshold>0&&(n.allowThresholdMove=!1),"touchstart"!==p.type){var _e22=!0;h.is(n.focusableElements)&&(_e22=!1),s.activeElement&&d(s.activeElement).is(n.focusableElements)&&s.activeElement!==h[0]&&s.activeElement.blur();var _a11=_e22&&t.allowTouchMove&&l.touchStartPreventDefault;!l.touchStartForcePreventDefault&&!_a11||h[0].isContentEditable||p.preventDefault();}t.emit("touchStart",p);}function M(e){var t=a(),s=this,i=s.touchEventsData,r=s.params,n=s.touches,l=s.rtlTranslate,o=s.enabled;if(!o)return;var c=e;if(c.originalEvent&&(c=c.originalEvent),!i.isTouched)return void(i.startMoving&&i.isScrolling&&s.emit("touchMoveOpposite",c));if(i.isTouchEvent&&"touchmove"!==c.type)return;var p="touchmove"===c.type&&c.targetTouches&&(c.targetTouches[0]||c.changedTouches[0]),h="touchmove"===c.type?p.pageX:c.pageX,m="touchmove"===c.type?p.pageY:c.pageY;if(c.preventedByNestedSwiper)return n.startX=h,void(n.startY=m);if(!s.allowTouchMove)return s.allowClick=!1,void(i.isTouched&&(Object.assign(n,{startX:h,startY:m,currentX:h,currentY:m}),i.touchStartTime=u()));if(i.isTouchEvent&&r.touchReleaseOnEdges&&!r.loop)if(s.isVertical()){if(m<n.startY&&s.translate<=s.maxTranslate()||m>n.startY&&s.translate>=s.minTranslate())return i.isTouched=!1,void(i.isMoved=!1);}else if(h<n.startX&&s.translate<=s.maxTranslate()||h>n.startX&&s.translate>=s.minTranslate())return;if(i.isTouchEvent&&t.activeElement&&c.target===t.activeElement&&d(c.target).is(i.focusableElements))return i.isMoved=!0,void(s.allowClick=!1);if(i.allowTouchCallbacks&&s.emit("touchMove",c),c.targetTouches&&c.targetTouches.length>1)return;n.currentX=h,n.currentY=m;var f=n.currentX-n.startX,g=n.currentY-n.startY;if(s.params.threshold&&Math.sqrt(Math.pow(f,2)+Math.pow(g,2))<s.params.threshold)return;if(void 0===i.isScrolling){var _e23;s.isHorizontal()&&n.currentY===n.startY||s.isVertical()&&n.currentX===n.startX?i.isScrolling=!1:f*f+g*g>=25&&(_e23=180*Math.atan2(Math.abs(g),Math.abs(f))/Math.PI,i.isScrolling=s.isHorizontal()?_e23>r.touchAngle:90-_e23>r.touchAngle);}if(i.isScrolling&&s.emit("touchMoveOpposite",c),void 0===i.startMoving&&(n.currentX===n.startX&&n.currentY===n.startY||(i.startMoving=!0)),i.isScrolling)return void(i.isTouched=!1);if(!i.startMoving)return;s.allowClick=!1,!r.cssMode&&c.cancelable&&c.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&c.stopPropagation(),i.isMoved||(r.loop&&!r.cssMode&&s.loopFix(),i.startTranslate=s.getTranslate(),s.setTransition(0),s.animating&&s.$wrapperEl.trigger("webkitTransitionEnd transitionend"),i.allowMomentumBounce=!1,!r.grabCursor||!0!==s.allowSlideNext&&!0!==s.allowSlidePrev||s.setGrabCursor(!0),s.emit("sliderFirstMove",c)),s.emit("sliderMove",c),i.isMoved=!0;var v=s.isHorizontal()?f:g;n.diff=v,v*=r.touchRatio,l&&(v=-v),s.swipeDirection=v>0?"prev":"next",i.currentTranslate=v+i.startTranslate;var w=!0,b=r.resistanceRatio;if(r.touchReleaseOnEdges&&(b=0),v>0&&i.currentTranslate>s.minTranslate()?(w=!1,r.resistance&&(i.currentTranslate=s.minTranslate()-1+Math.pow(-s.minTranslate()+i.startTranslate+v,b))):v<0&&i.currentTranslate<s.maxTranslate()&&(w=!1,r.resistance&&(i.currentTranslate=s.maxTranslate()+1-Math.pow(s.maxTranslate()-i.startTranslate-v,b))),w&&(c.preventedByNestedSwiper=!0),!s.allowSlideNext&&"next"===s.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!s.allowSlidePrev&&"prev"===s.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),s.allowSlidePrev||s.allowSlideNext||(i.currentTranslate=i.startTranslate),r.threshold>0){if(!(Math.abs(v)>r.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,n.startX=n.currentX,n.startY=n.currentY,i.currentTranslate=i.startTranslate,void(n.diff=s.isHorizontal()?n.currentX-n.startX:n.currentY-n.startY);}r.followFinger&&!r.cssMode&&((r.freeMode&&r.freeMode.enabled&&s.freeMode||r.watchSlidesProgress)&&(s.updateActiveIndex(),s.updateSlidesClasses()),s.params.freeMode&&r.freeMode.enabled&&s.freeMode&&s.freeMode.onTouchMove(),s.updateProgress(i.currentTranslate),s.setTranslate(i.currentTranslate));}function P(e){var t=this,s=t.touchEventsData,a=t.params,i=t.touches,r=t.rtlTranslate,n=t.slidesGrid,l=t.enabled;if(!l)return;var o=e;if(o.originalEvent&&(o=o.originalEvent),s.allowTouchCallbacks&&t.emit("touchEnd",o),s.allowTouchCallbacks=!1,!s.isTouched)return s.isMoved&&a.grabCursor&&t.setGrabCursor(!1),s.isMoved=!1,void(s.startMoving=!1);a.grabCursor&&s.isMoved&&s.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var d=u(),c=d-s.touchStartTime;if(t.allowClick&&(t.updateClickedSlide(o),t.emit("tap click",o),c<300&&d-s.lastClickTime<300&&t.emit("doubleTap doubleClick",o)),s.lastClickTime=u(),p(function(){t.destroyed||(t.allowClick=!0);}),!s.isTouched||!s.isMoved||!t.swipeDirection||0===i.diff||s.currentTranslate===s.startTranslate)return s.isTouched=!1,s.isMoved=!1,void(s.startMoving=!1);var h;if(s.isTouched=!1,s.isMoved=!1,s.startMoving=!1,h=a.followFinger?r?t.translate:-t.translate:-s.currentTranslate,a.cssMode)return;if(t.params.freeMode&&a.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:h});var m=0,f=t.slidesSizesGrid[0];for(var _e24=0;_e24<n.length;_e24+=_e24<a.slidesPerGroupSkip?1:a.slidesPerGroup){var _t14=_e24<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;void 0!==n[_e24+_t14]?h>=n[_e24]&&h<n[_e24+_t14]&&(m=_e24,f=n[_e24+_t14]-n[_e24]):h>=n[_e24]&&(m=_e24,f=n[n.length-1]-n[n.length-2]);}var g=(h-n[m])/f,v=m<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(c>a.longSwipesMs){if(!a.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(g>=a.longSwipesRatio?t.slideTo(m+v):t.slideTo(m)),"prev"===t.swipeDirection&&(g>1-a.longSwipesRatio?t.slideTo(m+v):t.slideTo(m));}else{if(!a.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(o.target===t.navigation.nextEl||o.target===t.navigation.prevEl)?o.target===t.navigation.nextEl?t.slideTo(m+v):t.slideTo(m):("next"===t.swipeDirection&&t.slideTo(m+v),"prev"===t.swipeDirection&&t.slideTo(m));}}function k(){var e=this,t=e.params,s=e.el;if(s&&0===s.offsetWidth)return;t.breakpoints&&e.setBreakpoint();var a=e.allowSlideNext,i=e.allowSlidePrev,r=e.snapGrid;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=i,e.allowSlideNext=a,e.params.watchOverflow&&r!==e.snapGrid&&e.checkOverflow();}function z(e){var t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())));}function O(){var e=this,t=e.wrapperEl,s=e.rtlTranslate,a=e.enabled;if(!a)return;var i;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,-0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();var r=e.maxTranslate()-e.minTranslate();i=0===r?0:(e.translate-e.minTranslate())/r,i!==e.progress&&e.updateProgress(s?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1);}var I=!1;function L(){}var A=function A(e,t){var s=a(),i=e.params,r=e.touchEvents,n=e.el,l=e.wrapperEl,o=e.device,d=e.support,c=!!i.nested,p="on"===t?"addEventListener":"removeEventListener",u=t;if(d.touch){var _t15=!("touchstart"!==r.start||!d.passiveListener||!i.passiveListeners)&&{passive:!0,capture:!1};n[p](r.start,e.onTouchStart,_t15),n[p](r.move,e.onTouchMove,d.passiveListener?{passive:!1,capture:c}:c),n[p](r.end,e.onTouchEnd,_t15),r.cancel&&n[p](r.cancel,e.onTouchEnd,_t15);}else n[p](r.start,e.onTouchStart,!1),s[p](r.move,e.onTouchMove,c),s[p](r.end,e.onTouchEnd,!1);(i.preventClicks||i.preventClicksPropagation)&&n[p]("click",e.onClick,!0),i.cssMode&&l[p]("scroll",e.onScroll),i.updateOnWindowResize?e[u](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",k,!0):e[u]("observerUpdate",k,!0);};var D=function D(e,t){return e.grid&&t.grid&&t.grid.rows>1;};var G={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function N(e,t){return function(){var s=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var a=Object.keys(s)[0],i=s[a];"object"==_typeof(i)&&null!==i?(["navigation","pagination","scrollbar"].indexOf(a)>=0&&!0===e[a]&&(e[a]={auto:!0}),a in e&&"enabled"in i?(!0===e[a]&&(e[a]={enabled:!0}),"object"!=_typeof(e[a])||"enabled"in e[a]||(e[a].enabled=!0),e[a]||(e[a]={enabled:!1}),f(t,s)):f(t,s)):f(t,s);};}var B={eventsEmitter:C,update:{updateSize:function updateSize(){var e=this;var t,s;var a=e.$el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:a[0].clientWidth,s=void 0!==e.params.height&&null!==e.params.height?e.params.height:a[0].clientHeight,0===t&&e.isHorizontal()||0===s&&e.isVertical()||(t=t-parseInt(a.css("padding-left")||0,10)-parseInt(a.css("padding-right")||0,10),s=s-parseInt(a.css("padding-top")||0,10)-parseInt(a.css("padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(s)&&(s=0),Object.assign(e,{width:t,height:s,size:e.isHorizontal()?t:s}));},updateSlides:function updateSlides(){var e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t];}function s(e,s){return parseFloat(e.getPropertyValue(t(s))||0);}var a=e.params,i=e.$wrapperEl,r=e.size,n=e.rtlTranslate,l=e.wrongRTL,o=e.virtual&&a.virtual.enabled,d=o?e.virtual.slides.length:e.slides.length,c=i.children(".".concat(e.params.slideClass)),p=o?e.virtual.slides.length:c.length;var u=[];var h=[],m=[];var f=a.slidesOffsetBefore;"function"==typeof f&&(f=a.slidesOffsetBefore.call(e));var v=a.slidesOffsetAfter;"function"==typeof v&&(v=a.slidesOffsetAfter.call(e));var w=e.snapGrid.length,b=e.slidesGrid.length;var x=a.spaceBetween,y=-f,E=0,T=0;if(void 0===r)return;"string"==typeof x&&x.indexOf("%")>=0&&(x=parseFloat(x.replace("%",""))/100*r),e.virtualSize=-x,n?c.css({marginLeft:"",marginBottom:"",marginTop:""}):c.css({marginRight:"",marginBottom:"",marginTop:""}),a.centeredSlides&&a.cssMode&&(g(e.wrapperEl,"--swiper-centered-offset-before",""),g(e.wrapperEl,"--swiper-centered-offset-after",""));var C=a.grid&&a.grid.rows>1&&e.grid;var $;C&&e.grid.initSlides(p);var S="auto"===a.slidesPerView&&a.breakpoints&&Object.keys(a.breakpoints).filter(function(e){return void 0!==a.breakpoints[e].slidesPerView;}).length>0;for(var _i7=0;_i7<p;_i7+=1){$=0;var _n4=c.eq(_i7);if(C&&e.grid.updateSlide(_i7,_n4,p,t),"none"!==_n4.css("display")){if("auto"===a.slidesPerView){S&&(c[_i7].style[t("width")]="");var _r4=getComputedStyle(_n4[0]),_l2=_n4[0].style.transform,_o2=_n4[0].style.webkitTransform;if(_l2&&(_n4[0].style.transform="none"),_o2&&(_n4[0].style.webkitTransform="none"),a.roundLengths)$=e.isHorizontal()?_n4.outerWidth(!0):_n4.outerHeight(!0);else{var _e25=s(_r4,"width"),_t16=s(_r4,"padding-left"),_a12=s(_r4,"padding-right"),_i8=s(_r4,"margin-left"),_l3=s(_r4,"margin-right"),_o3=_r4.getPropertyValue("box-sizing");if(_o3&&"border-box"===_o3)$=_e25+_i8+_l3;else{var _n4$=_n4[0],_s17=_n4$.clientWidth,_r5=_n4$.offsetWidth;$=_e25+_t16+_a12+_i8+_l3+(_r5-_s17);}}_l2&&(_n4[0].style.transform=_l2),_o2&&(_n4[0].style.webkitTransform=_o2),a.roundLengths&&($=Math.floor($));}else $=(r-(a.slidesPerView-1)*x)/a.slidesPerView,a.roundLengths&&($=Math.floor($)),c[_i7]&&(c[_i7].style[t("width")]="".concat($,"px"));c[_i7]&&(c[_i7].swiperSlideSize=$),m.push($),a.centeredSlides?(y=y+$/2+E/2+x,0===E&&0!==_i7&&(y=y-r/2-x),0===_i7&&(y=y-r/2-x),Math.abs(y)<.001&&(y=0),a.roundLengths&&(y=Math.floor(y)),T%a.slidesPerGroup==0&&u.push(y),h.push(y)):(a.roundLengths&&(y=Math.floor(y)),(T-Math.min(e.params.slidesPerGroupSkip,T))%e.params.slidesPerGroup==0&&u.push(y),h.push(y),y=y+$+x),e.virtualSize+=$+x,E=$,T+=1;}}if(e.virtualSize=Math.max(e.virtualSize,r)+v,n&&l&&("slide"===a.effect||"coverflow"===a.effect)&&i.css({width:"".concat(e.virtualSize+a.spaceBetween,"px")}),a.setWrapperSize&&i.css(_defineProperty({},t("width"),"".concat(e.virtualSize+a.spaceBetween,"px"))),C&&e.grid.updateWrapperSize($,u,t),!a.centeredSlides){var _t17=[];for(var _s18=0;_s18<u.length;_s18+=1){var _i9=u[_s18];a.roundLengths&&(_i9=Math.floor(_i9)),u[_s18]<=e.virtualSize-r&&_t17.push(_i9);}u=_t17,Math.floor(e.virtualSize-r)-Math.floor(u[u.length-1])>1&&u.push(e.virtualSize-r);}if(0===u.length&&(u=[0]),0!==a.spaceBetween){var _s19=e.isHorizontal()&&n?"marginLeft":t("marginRight");c.filter(function(e,t){return!a.cssMode||t!==c.length-1;}).css(_defineProperty({},_s19,"".concat(x,"px")));}if(a.centeredSlides&&a.centeredSlidesBounds){var _e26=0;m.forEach(function(t){_e26+=t+(a.spaceBetween?a.spaceBetween:0);}),_e26-=a.spaceBetween;var _t18=_e26-r;u=u.map(function(e){return e<0?-f:e>_t18?_t18+v:e;});}if(a.centerInsufficientSlides){var _e27=0;if(m.forEach(function(t){_e27+=t+(a.spaceBetween?a.spaceBetween:0);}),_e27-=a.spaceBetween,_e27<r){var _t19=(r-_e27)/2;u.forEach(function(e,s){u[s]=e-_t19;}),h.forEach(function(e,s){h[s]=e+_t19;});}}if(Object.assign(e,{slides:c,snapGrid:u,slidesGrid:h,slidesSizesGrid:m}),a.centeredSlides&&a.cssMode&&!a.centeredSlidesBounds){g(e.wrapperEl,"--swiper-centered-offset-before",-u[0]+"px"),g(e.wrapperEl,"--swiper-centered-offset-after",e.size/2-m[m.length-1]/2+"px");var _t20=-e.snapGrid[0],_s20=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(function(e){return e+_t20;}),e.slidesGrid=e.slidesGrid.map(function(e){return e+_s20;});}p!==d&&e.emit("slidesLengthChange"),u.length!==w&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),h.length!==b&&e.emit("slidesGridLengthChange"),a.watchSlidesProgress&&e.updateSlidesOffset();},updateAutoHeight:function updateAutoHeight(e){var t=this,s=[],a=t.virtual&&t.params.virtual.enabled;var i,r=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);var n=function n(e){return a?t.slides.filter(function(t){return parseInt(t.getAttribute("data-swiper-slide-index"),10)===e;})[0]:t.slides.eq(e)[0];};if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1){if(t.params.centeredSlides)t.visibleSlides.each(function(e){s.push(e);});else for(i=0;i<Math.ceil(t.params.slidesPerView);i+=1){var _e28=t.activeIndex+i;if(_e28>t.slides.length&&!a)break;s.push(n(_e28));}}else s.push(n(t.activeIndex));for(i=0;i<s.length;i+=1){if(void 0!==s[i]){var _e29=s[i].offsetHeight;r=_e29>r?_e29:r;}}r&&t.$wrapperEl.css("height","".concat(r,"px"));},updateSlidesOffset:function updateSlidesOffset(){var e=this,t=e.slides;for(var _s21=0;_s21<t.length;_s21+=1){t[_s21].swiperSlideOffset=e.isHorizontal()?t[_s21].offsetLeft:t[_s21].offsetTop;}},updateSlidesProgress:function updateSlidesProgress(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this&&this.translate||0;var t=this,s=t.params,a=t.slides,i=t.rtlTranslate,r=t.snapGrid;if(0===a.length)return;void 0===a[0].swiperSlideOffset&&t.updateSlidesOffset();var n=-e;i&&(n=e),a.removeClass(s.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(var _e30=0;_e30<a.length;_e30+=1){var _l4=a[_e30];var _o4=_l4.swiperSlideOffset;s.cssMode&&s.centeredSlides&&(_o4-=a[0].swiperSlideOffset);var _d3=(n+(s.centeredSlides?t.minTranslate():0)-_o4)/(_l4.swiperSlideSize+s.spaceBetween),_c2=(n-r[0]+(s.centeredSlides?t.minTranslate():0)-_o4)/(_l4.swiperSlideSize+s.spaceBetween),_p=-(n-_o4),_u=_p+t.slidesSizesGrid[_e30];(_p>=0&&_p<t.size-1||_u>1&&_u<=t.size||_p<=0&&_u>=t.size)&&(t.visibleSlides.push(_l4),t.visibleSlidesIndexes.push(_e30),a.eq(_e30).addClass(s.slideVisibleClass)),_l4.progress=i?-_d3:_d3,_l4.originalProgress=i?-_c2:_c2;}t.visibleSlides=d(t.visibleSlides);},updateProgress:function updateProgress(e){var t=this;if(void 0===e){var _s22=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*_s22||0;}var s=t.params,a=t.maxTranslate()-t.minTranslate();var i=t.progress,r=t.isBeginning,n=t.isEnd;var l=r,o=n;0===a?(i=0,r=!0,n=!0):(i=(e-t.minTranslate())/a,r=i<=0,n=i>=1),Object.assign(t,{progress:i,isBeginning:r,isEnd:n}),(s.watchSlidesProgress||s.centeredSlides&&s.autoHeight)&&t.updateSlidesProgress(e),r&&!l&&t.emit("reachBeginning toEdge"),n&&!o&&t.emit("reachEnd toEdge"),(l&&!r||o&&!n)&&t.emit("fromEdge"),t.emit("progress",i);},updateSlidesClasses:function updateSlidesClasses(){var e=this,t=e.slides,s=e.params,a=e.$wrapperEl,i=e.activeIndex,r=e.realIndex,n=e.virtual&&s.virtual.enabled;var l;t.removeClass("".concat(s.slideActiveClass," ").concat(s.slideNextClass," ").concat(s.slidePrevClass," ").concat(s.slideDuplicateActiveClass," ").concat(s.slideDuplicateNextClass," ").concat(s.slideDuplicatePrevClass)),l=n?e.$wrapperEl.find(".".concat(s.slideClass,"[data-swiper-slide-index=\"").concat(i,"\"]")):t.eq(i),l.addClass(s.slideActiveClass),s.loop&&(l.hasClass(s.slideDuplicateClass)?a.children(".".concat(s.slideClass,":not(.").concat(s.slideDuplicateClass,")[data-swiper-slide-index=\"").concat(r,"\"]")).addClass(s.slideDuplicateActiveClass):a.children(".".concat(s.slideClass,".").concat(s.slideDuplicateClass,"[data-swiper-slide-index=\"").concat(r,"\"]")).addClass(s.slideDuplicateActiveClass));var o=l.nextAll(".".concat(s.slideClass)).eq(0).addClass(s.slideNextClass);s.loop&&0===o.length&&(o=t.eq(0),o.addClass(s.slideNextClass));var d=l.prevAll(".".concat(s.slideClass)).eq(0).addClass(s.slidePrevClass);s.loop&&0===d.length&&(d=t.eq(-1),d.addClass(s.slidePrevClass)),s.loop&&(o.hasClass(s.slideDuplicateClass)?a.children(".".concat(s.slideClass,":not(.").concat(s.slideDuplicateClass,")[data-swiper-slide-index=\"").concat(o.attr("data-swiper-slide-index"),"\"]")).addClass(s.slideDuplicateNextClass):a.children(".".concat(s.slideClass,".").concat(s.slideDuplicateClass,"[data-swiper-slide-index=\"").concat(o.attr("data-swiper-slide-index"),"\"]")).addClass(s.slideDuplicateNextClass),d.hasClass(s.slideDuplicateClass)?a.children(".".concat(s.slideClass,":not(.").concat(s.slideDuplicateClass,")[data-swiper-slide-index=\"").concat(d.attr("data-swiper-slide-index"),"\"]")).addClass(s.slideDuplicatePrevClass):a.children(".".concat(s.slideClass,".").concat(s.slideDuplicateClass,"[data-swiper-slide-index=\"").concat(d.attr("data-swiper-slide-index"),"\"]")).addClass(s.slideDuplicatePrevClass)),e.emitSlidesClasses();},updateActiveIndex:function updateActiveIndex(e){var t=this,s=t.rtlTranslate?t.translate:-t.translate,a=t.slidesGrid,i=t.snapGrid,r=t.params,n=t.activeIndex,l=t.realIndex,o=t.snapIndex;var d,c=e;if(void 0===c){for(var _e31=0;_e31<a.length;_e31+=1){void 0!==a[_e31+1]?s>=a[_e31]&&s<a[_e31+1]-(a[_e31+1]-a[_e31])/2?c=_e31:s>=a[_e31]&&s<a[_e31+1]&&(c=_e31+1):s>=a[_e31]&&(c=_e31);}r.normalizeSlideIndex&&(c<0||void 0===c)&&(c=0);}if(i.indexOf(s)>=0)d=i.indexOf(s);else{var _e32=Math.min(r.slidesPerGroupSkip,c);d=_e32+Math.floor((c-_e32)/r.slidesPerGroup);}if(d>=i.length&&(d=i.length-1),c===n)return void(d!==o&&(t.snapIndex=d,t.emit("snapIndexChange")));var p=parseInt(t.slides.eq(c).attr("data-swiper-slide-index")||c,10);Object.assign(t,{snapIndex:d,realIndex:p,previousIndex:n,activeIndex:c}),t.emit("activeIndexChange"),t.emit("snapIndexChange"),l!==p&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange");},updateClickedSlide:function updateClickedSlide(e){var t=this,s=t.params,a=d(e.target).closest(".".concat(s.slideClass))[0];var i,r=!1;if(a)for(var _e33=0;_e33<t.slides.length;_e33+=1){if(t.slides[_e33]===a){r=!0,i=_e33;break;}}if(!a||!r)return t.clickedSlide=void 0,void(t.clickedIndex=void 0);t.clickedSlide=a,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(d(a).attr("data-swiper-slide-index"),10):t.clickedIndex=i,s.slideToClickedSlide&&void 0!==t.clickedIndex&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide();}},translate:{getTranslate:function getTranslate(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isHorizontal()?"x":"y";var t=this.params,s=this.rtlTranslate,a=this.translate,i=this.$wrapperEl;if(t.virtualTranslate)return s?-a:a;if(t.cssMode)return a;var r=h(i[0],e);return s&&(r=-r),r||0;},setTranslate:function setTranslate(e,t){var s=this,a=s.rtlTranslate,i=s.params,r=s.$wrapperEl,n=s.wrapperEl,l=s.progress;var o,d=0,c=0;s.isHorizontal()?d=a?-e:e:c=e,i.roundLengths&&(d=Math.floor(d),c=Math.floor(c)),i.cssMode?n[s.isHorizontal()?"scrollLeft":"scrollTop"]=s.isHorizontal()?-d:-c:i.virtualTranslate||r.transform("translate3d(".concat(d,"px, ").concat(c,"px, 0px)")),s.previousTranslate=s.translate,s.translate=s.isHorizontal()?d:c;var p=s.maxTranslate()-s.minTranslate();o=0===p?0:(e-s.minTranslate())/p,o!==l&&s.updateProgress(e),s.emit("setTranslate",s.translate,t);},minTranslate:function minTranslate(){return-this.snapGrid[0];},maxTranslate:function maxTranslate(){return-this.snapGrid[this.snapGrid.length-1];},translateTo:function translateTo(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.params.speed;var s=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!0;var i=arguments.length>4?arguments[4]:undefined;var r=this,n=r.params,l=r.wrapperEl;if(r.animating&&n.preventInteractionOnTransition)return!1;var o=r.minTranslate(),d=r.maxTranslate();var c;if(c=a&&e>o?o:a&&e<d?d:e,r.updateProgress(c),n.cssMode){var _e34=r.isHorizontal();if(0===t)l[_e34?"scrollLeft":"scrollTop"]=-c;else{var _l$scrollTo;if(!r.support.smoothScroll)return v({swiper:r,targetPosition:-c,side:_e34?"left":"top"}),!0;l.scrollTo((_l$scrollTo={},_defineProperty(_l$scrollTo,_e34?"left":"top",-c),_defineProperty(_l$scrollTo,"behavior","smooth"),_l$scrollTo));}return!0;}return 0===t?(r.setTransition(0),r.setTranslate(c),s&&(r.emit("beforeTransitionStart",t,i),r.emit("transitionEnd"))):(r.setTransition(t),r.setTranslate(c),s&&(r.emit("beforeTransitionStart",t,i),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(e){r&&!r.destroyed&&e.target===this&&(r.$wrapperEl[0].removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.$wrapperEl[0].removeEventListener("webkitTransitionEnd",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,s&&r.emit("transitionEnd"));}),r.$wrapperEl[0].addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.$wrapperEl[0].addEventListener("webkitTransitionEnd",r.onTranslateToWrapperTransitionEnd))),!0;}},transition:{setTransition:function setTransition(e,t){var s=this;s.params.cssMode||s.$wrapperEl.transition(e),s.emit("setTransition",e,t);},transitionStart:function transitionStart(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var t=arguments.length>1?arguments[1]:undefined;var s=this,a=s.params;a.cssMode||(a.autoHeight&&s.updateAutoHeight(),$({swiper:s,runCallbacks:e,direction:t,step:"Start"}));},transitionEnd:function transitionEnd(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var t=arguments.length>1?arguments[1]:undefined;var s=this,a=s.params;s.animating=!1,a.cssMode||(s.setTransition(0),$({swiper:s,runCallbacks:e,direction:t,step:"End"}));}},slide:{slideTo:function slideTo(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.params.speed;var s=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var a=arguments.length>3?arguments[3]:undefined;var i=arguments.length>4?arguments[4]:undefined;if("number"!=typeof e&&"string"!=typeof e)throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. [".concat(_typeof(e),"] given."));if("string"==typeof e){var _t21=parseInt(e,10);if(!isFinite(_t21))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. [".concat(e,"] given."));e=_t21;}var r=this;var n=e;n<0&&(n=0);var l=r.params,o=r.snapGrid,d=r.slidesGrid,c=r.previousIndex,p=r.activeIndex,u=r.rtlTranslate,h=r.wrapperEl,m=r.enabled;if(r.animating&&l.preventInteractionOnTransition||!m&&!a&&!i)return!1;var f=Math.min(r.params.slidesPerGroupSkip,n);var g=f+Math.floor((n-f)/r.params.slidesPerGroup);g>=o.length&&(g=o.length-1),(p||l.initialSlide||0)===(c||0)&&s&&r.emit("beforeSlideChangeStart");var w=-o[g];if(r.updateProgress(w),l.normalizeSlideIndex)for(var _e35=0;_e35<d.length;_e35+=1){var _t22=-Math.floor(100*w),_s23=Math.floor(100*d[_e35]),_a13=Math.floor(100*d[_e35+1]);void 0!==d[_e35+1]?_t22>=_s23&&_t22<_a13-(_a13-_s23)/2?n=_e35:_t22>=_s23&&_t22<_a13&&(n=_e35+1):_t22>=_s23&&(n=_e35);}if(r.initialized&&n!==p){if(!r.allowSlideNext&&w<r.translate&&w<r.minTranslate())return!1;if(!r.allowSlidePrev&&w>r.translate&&w>r.maxTranslate()&&(p||0)!==n)return!1;}var b;if(b=n>p?"next":n<p?"prev":"reset",u&&-w===r.translate||!u&&w===r.translate)return r.updateActiveIndex(n),l.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),"slide"!==l.effect&&r.setTranslate(w),"reset"!==b&&(r.transitionStart(s,b),r.transitionEnd(s,b)),!1;if(l.cssMode){var _e36=r.isHorizontal(),_s24=u?w:-w;if(0===t){var _t23=r.virtual&&r.params.virtual.enabled;_t23&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),h[_e36?"scrollLeft":"scrollTop"]=_s24,_t23&&requestAnimationFrame(function(){r.wrapperEl.style.scrollSnapType="",r._swiperImmediateVirtual=!1;});}else{var _h$scrollTo;if(!r.support.smoothScroll)return v({swiper:r,targetPosition:_s24,side:_e36?"left":"top"}),!0;h.scrollTo((_h$scrollTo={},_defineProperty(_h$scrollTo,_e36?"left":"top",_s24),_defineProperty(_h$scrollTo,"behavior","smooth"),_h$scrollTo));}return!0;}return 0===t?(r.setTransition(0),r.setTranslate(w),r.updateActiveIndex(n),r.updateSlidesClasses(),r.emit("beforeTransitionStart",t,a),r.transitionStart(s,b),r.transitionEnd(s,b)):(r.setTransition(t),r.setTranslate(w),r.updateActiveIndex(n),r.updateSlidesClasses(),r.emit("beforeTransitionStart",t,a),r.transitionStart(s,b),r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(e){r&&!r.destroyed&&e.target===this&&(r.$wrapperEl[0].removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.$wrapperEl[0].removeEventListener("webkitTransitionEnd",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(s,b));}),r.$wrapperEl[0].addEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.$wrapperEl[0].addEventListener("webkitTransitionEnd",r.onSlideToWrapperTransitionEnd))),!0;},slideToLoop:function slideToLoop(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.params.speed;var s=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var a=arguments.length>3?arguments[3]:undefined;var i=this;var r=e;return i.params.loop&&(r+=i.loopedSlides),i.slideTo(r,t,s,a);},slideNext:function slideNext(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.params.speed;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var s=arguments.length>2?arguments[2]:undefined;var a=this,i=a.animating,r=a.enabled,n=a.params;if(!r)return a;var l=n.slidesPerGroup;"auto"===n.slidesPerView&&1===n.slidesPerGroup&&n.slidesPerGroupAuto&&(l=Math.max(a.slidesPerViewDynamic("current",!0),1));var o=a.activeIndex<n.slidesPerGroupSkip?1:l;if(n.loop){if(i&&n.loopPreventsSlide)return!1;a.loopFix(),a._clientLeft=a.$wrapperEl[0].clientLeft;}return a.slideTo(a.activeIndex+o,e,t,s);},slidePrev:function slidePrev(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.params.speed;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var s=arguments.length>2?arguments[2]:undefined;var a=this,i=a.params,r=a.animating,n=a.snapGrid,l=a.slidesGrid,o=a.rtlTranslate,d=a.enabled;if(!d)return a;if(i.loop){if(r&&i.loopPreventsSlide)return!1;a.loopFix(),a._clientLeft=a.$wrapperEl[0].clientLeft;}function c(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e);}var p=c(o?a.translate:-a.translate),u=n.map(function(e){return c(e);});var h=n[u.indexOf(p)-1];if(void 0===h&&i.cssMode){var _e37;n.forEach(function(t,s){p>=t&&(_e37=s);}),void 0!==_e37&&(h=n[_e37>0?_e37-1:_e37]);}var m=0;return void 0!==h&&(m=l.indexOf(h),m<0&&(m=a.activeIndex-1),"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(m=m-a.slidesPerViewDynamic("previous",!0)+1,m=Math.max(m,0))),a.slideTo(m,e,t,s);},slideReset:function slideReset(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.params.speed;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var s=arguments.length>2?arguments[2]:undefined;return this.slideTo(this.activeIndex,e,t,s);},slideToClosest:function slideToClosest(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.params.speed;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var s=arguments.length>2?arguments[2]:undefined;var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:.5;var i=this;var r=i.activeIndex;var n=Math.min(i.params.slidesPerGroupSkip,r),l=n+Math.floor((r-n)/i.params.slidesPerGroup),o=i.rtlTranslate?i.translate:-i.translate;if(o>=i.snapGrid[l]){var _e38=i.snapGrid[l];o-_e38>(i.snapGrid[l+1]-_e38)*a&&(r+=i.params.slidesPerGroup);}else{var _e39=i.snapGrid[l-1];o-_e39<=(i.snapGrid[l]-_e39)*a&&(r-=i.params.slidesPerGroup);}return r=Math.max(r,0),r=Math.min(r,i.slidesGrid.length-1),i.slideTo(r,e,t,s);},slideToClickedSlide:function slideToClickedSlide(){var e=this,t=e.params,s=e.$wrapperEl,a="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;var i,r=e.clickedIndex;if(t.loop){if(e.animating)return;i=parseInt(d(e.clickedSlide).attr("data-swiper-slide-index"),10),t.centeredSlides?r<e.loopedSlides-a/2||r>e.slides.length-e.loopedSlides+a/2?(e.loopFix(),r=s.children(".".concat(t.slideClass,"[data-swiper-slide-index=\"").concat(i,"\"]:not(.").concat(t.slideDuplicateClass,")")).eq(0).index(),p(function(){e.slideTo(r);})):e.slideTo(r):r>e.slides.length-a?(e.loopFix(),r=s.children(".".concat(t.slideClass,"[data-swiper-slide-index=\"").concat(i,"\"]:not(.").concat(t.slideDuplicateClass,")")).eq(0).index(),p(function(){e.slideTo(r);})):e.slideTo(r);}else e.slideTo(r);}},loop:{loopCreate:function loopCreate(){var e=this,t=a(),s=e.params,i=e.$wrapperEl,r=i.children().length>0?d(i.children()[0].parentNode):i;r.children(".".concat(s.slideClass,".").concat(s.slideDuplicateClass)).remove();var n=r.children(".".concat(s.slideClass));if(s.loopFillGroupWithBlank){var _e40=s.slidesPerGroup-n.length%s.slidesPerGroup;if(_e40!==s.slidesPerGroup){for(var _a14=0;_a14<_e40;_a14+=1){var _e41=d(t.createElement("div")).addClass("".concat(s.slideClass," ").concat(s.slideBlankClass));r.append(_e41);}n=r.children(".".concat(s.slideClass));}}"auto"!==s.slidesPerView||s.loopedSlides||(s.loopedSlides=n.length),e.loopedSlides=Math.ceil(parseFloat(s.loopedSlides||s.slidesPerView,10)),e.loopedSlides+=s.loopAdditionalSlides,e.loopedSlides>n.length&&(e.loopedSlides=n.length);var l=[],o=[];n.each(function(t,s){var a=d(t);s<e.loopedSlides&&o.push(t),s<n.length&&s>=n.length-e.loopedSlides&&l.push(t),a.attr("data-swiper-slide-index",s);});for(var _e42=0;_e42<o.length;_e42+=1){r.append(d(o[_e42].cloneNode(!0)).addClass(s.slideDuplicateClass));}for(var _e43=l.length-1;_e43>=0;_e43-=1){r.prepend(d(l[_e43].cloneNode(!0)).addClass(s.slideDuplicateClass));}},loopFix:function loopFix(){var e=this;e.emit("beforeLoopFix");var t=e.activeIndex,s=e.slides,a=e.loopedSlides,i=e.allowSlidePrev,r=e.allowSlideNext,n=e.snapGrid,l=e.rtlTranslate;var o;e.allowSlidePrev=!0,e.allowSlideNext=!0;var d=-n[t]-e.getTranslate();if(t<a){o=s.length-3*a+t,o+=a;e.slideTo(o,0,!1,!0)&&0!==d&&e.setTranslate((l?-e.translate:e.translate)-d);}else if(t>=s.length-a){o=-s.length+t+a,o+=a;e.slideTo(o,0,!1,!0)&&0!==d&&e.setTranslate((l?-e.translate:e.translate)-d);}e.allowSlidePrev=i,e.allowSlideNext=r,e.emit("loopFix");},loopDestroy:function loopDestroy(){var e=this.$wrapperEl,t=this.params,s=this.slides;e.children(".".concat(t.slideClass,".").concat(t.slideDuplicateClass,",.").concat(t.slideClass,".").concat(t.slideBlankClass)).remove(),s.removeAttr("data-swiper-slide-index");}},grabCursor:{setGrabCursor:function setGrabCursor(e){var t=this;if(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;var s="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;s.style.cursor="move",s.style.cursor=e?"-webkit-grabbing":"-webkit-grab",s.style.cursor=e?"-moz-grabbin":"-moz-grab",s.style.cursor=e?"grabbing":"grab";},unsetGrabCursor:function unsetGrabCursor(){var e=this;e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="");}},events:{attachEvents:function attachEvents(){var e=this,t=a(),s=e.params,i=e.support;e.onTouchStart=S.bind(e),e.onTouchMove=M.bind(e),e.onTouchEnd=P.bind(e),s.cssMode&&(e.onScroll=O.bind(e)),e.onClick=z.bind(e),i.touch&&!I&&(t.addEventListener("touchstart",L),I=!0),A(e,"on");},detachEvents:function detachEvents(){A(this,"off");}},breakpoints:{setBreakpoint:function setBreakpoint(){var e=this,t=e.activeIndex,s=e.initialized,_e$loopedSlides=e.loopedSlides,a=_e$loopedSlides===void 0?0:_e$loopedSlides,i=e.params,r=e.$el,n=i.breakpoints;if(!n||n&&0===Object.keys(n).length)return;var l=e.getBreakpoint(n,e.params.breakpointsBase,e.el);if(!l||e.currentBreakpoint===l)return;var o=(l in n?n[l]:void 0)||e.originalParams,d=D(e,i),c=D(e,o),p=i.enabled;d&&!c?(r.removeClass("".concat(i.containerModifierClass,"grid ").concat(i.containerModifierClass,"grid-column")),e.emitContainerClasses()):!d&&c&&(r.addClass("".concat(i.containerModifierClass,"grid")),(o.grid.fill&&"column"===o.grid.fill||!o.grid.fill&&"column"===i.grid.fill)&&r.addClass("".concat(i.containerModifierClass,"grid-column")),e.emitContainerClasses());var u=o.direction&&o.direction!==i.direction,h=i.loop&&(o.slidesPerView!==i.slidesPerView||u);u&&s&&e.changeDirection(),f(e.params,o);var m=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),p&&!m?e.disable():!p&&m&&e.enable(),e.currentBreakpoint=l,e.emit("_beforeBreakpoint",o),h&&s&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-a+e.loopedSlides,0,!1)),e.emit("breakpoint",o);},getBreakpoint:function getBreakpoint(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"window";var s=arguments.length>2?arguments[2]:undefined;if(!e||"container"===t&&!s)return;var a=!1;var i=r(),n="window"===t?i.innerHeight:s.clientHeight,l=Object.keys(e).map(function(e){if("string"==typeof e&&0===e.indexOf("@")){var _t24=parseFloat(e.substr(1));return{value:n*_t24,point:e};}return{value:e,point:e};});l.sort(function(e,t){return parseInt(e.value,10)-parseInt(t.value,10);});for(var _e44=0;_e44<l.length;_e44+=1){var _l$_e=l[_e44],_r6=_l$_e.point,_n5=_l$_e.value;"window"===t?i.matchMedia("(min-width: ".concat(_n5,"px)")).matches&&(a=_r6):_n5<=s.clientWidth&&(a=_r6);}return a||"max";}},checkOverflow:{checkOverflow:function checkOverflow(){var e=this,t=e.isLocked,s=e.params,a=s.slidesOffsetBefore;if(a){var _t25=e.slides.length-1,_s25=e.slidesGrid[_t25]+e.slidesSizesGrid[_t25]+2*a;e.isLocked=e.size>_s25;}else e.isLocked=1===e.snapGrid.length;!0===s.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===s.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock");}},classes:{addClasses:function addClasses(){var e=this,t=e.classNames,s=e.params,a=e.rtl,i=e.$el,r=e.device,n=e.support,l=function(e,t){var s=[];return e.forEach(function(e){"object"==_typeof(e)?Object.keys(e).forEach(function(a){e[a]&&s.push(t+a);}):"string"==typeof e&&s.push(t+e);}),s;}(["initialized",s.direction,{"pointer-events":!n.touch},{"free-mode":e.params.freeMode&&s.freeMode.enabled},{autoheight:s.autoHeight},{rtl:a},{grid:s.grid&&s.grid.rows>1},{"grid-column":s.grid&&s.grid.rows>1&&"column"===s.grid.fill},{android:r.android},{ios:r.ios},{"css-mode":s.cssMode},{centered:s.cssMode&&s.centeredSlides}],s.containerModifierClass);t.push.apply(t,_toConsumableArray(l)),i.addClass(_toConsumableArray(t).join(" ")),e.emitContainerClasses();},removeClasses:function removeClasses(){var e=this.$el,t=this.classNames;e.removeClass(t.join(" ")),this.emitContainerClasses();}},images:{loadImage:function loadImage(e,t,s,a,i,n){var l=r();var o;function c(){n&&n();}d(e).parent("picture")[0]||e.complete&&i?c():t?(o=new l.Image(),o.onload=c,o.onerror=c,a&&(o.sizes=a),s&&(o.srcset=s),t&&(o.src=t)):c();},preloadImages:function preloadImages(){var e=this;function t(){null!=e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")));}e.imagesToLoad=e.$el.find("img");for(var _s26=0;_s26<e.imagesToLoad.length;_s26+=1){var _a15=e.imagesToLoad[_s26];e.loadImage(_a15,_a15.currentSrc||_a15.getAttribute("src"),_a15.srcset||_a15.getAttribute("srcset"),_a15.sizes||_a15.getAttribute("sizes"),!0,t);}}}},X={};var H=/*#__PURE__*/function(){function H(){var _e45,_e46,_a$modules;_classCallCheck(this,H);var t,s;for(var _len10=arguments.length,e=new Array(_len10),_key10=0;_key10<_len10;_key10++){e[_key10]=arguments[_key10];}if(1===e.length&&e[0].constructor&&"Object"===Object.prototype.toString.call(e[0]).slice(8,-1)?s=e[0]:(_e45=e,_e46=_slicedToArray(_e45,2),t=_e46[0],s=_e46[1],_e45),s||(s={}),s=f({},s),t&&!s.el&&(s.el=t),s.el&&d(s.el).length>1){var _e47=[];return d(s.el).each(function(t){var a=f({},s,{el:t});_e47.push(new H(a));}),_e47;}var a=this;a.__swiper__=!0,a.support=y(),a.device=E({userAgent:s.userAgent}),a.browser=T(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=_toConsumableArray(a.__modules__),s.modules&&Array.isArray(s.modules)&&(_a$modules=a.modules).push.apply(_a$modules,_toConsumableArray(s.modules));var i={};a.modules.forEach(function(e){e({swiper:a,extendParams:N(s,i),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)});});var r=f({},G,i);return a.params=f({},r,X,s),a.originalParams=f({},a.params),a.passedParams=f({},s),a.params&&a.params.on&&Object.keys(a.params.on).forEach(function(e){a.on(e,a.params.on[e]);}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),a.$=d,Object.assign(a,{enabled:a.params.enabled,el:t,classNames:[],slides:d(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function isHorizontal(){return"horizontal"===a.params.direction;},isVertical:function isVertical(){return"vertical"===a.params.direction;},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEvents:function(){var e=["touchstart","touchmove","touchend","touchcancel"],t=["pointerdown","pointermove","pointerup"];return a.touchEventsTouch={start:e[0],move:e[1],end:e[2],cancel:e[3]},a.touchEventsDesktop={start:t[0],move:t[1],end:t[2]},a.support.touch||!a.params.simulateTouch?a.touchEventsTouch:a.touchEventsDesktop;}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:u(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a;}_createClass(H,[{key:"enable",value:function enable(){var e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"));}},{key:"disable",value:function disable(){var e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"));}},{key:"setProgress",value:function setProgress(e,t){var s=this;e=Math.min(Math.max(e,0),1);var a=s.minTranslate(),i=(s.maxTranslate()-a)*e+a;s.translateTo(i,void 0===t?0:t),s.updateActiveIndex(),s.updateSlidesClasses();}},{key:"emitContainerClasses",value:function emitContainerClasses(){var e=this;if(!e.params._emitClasses||!e.el)return;var t=e.el.className.split(" ").filter(function(t){return 0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass);});e.emit("_containerClasses",t.join(" "));}},{key:"getSlideClasses",value:function getSlideClasses(e){var t=this;return e.className.split(" ").filter(function(e){return 0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass);}).join(" ");}},{key:"emitSlidesClasses",value:function emitSlidesClasses(){var e=this;if(!e.params._emitClasses||!e.el)return;var t=[];e.slides.each(function(s){var a=e.getSlideClasses(s);t.push({slideEl:s,classNames:a}),e.emit("_slideClass",s,a);}),e.emit("_slideClasses",t);}},{key:"slidesPerViewDynamic",value:function slidesPerViewDynamic(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"current";var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var s=this.params,a=this.slides,i=this.slidesGrid,r=this.slidesSizesGrid,n=this.size,l=this.activeIndex;var o=1;if(s.centeredSlides){var _e48,_t26=a[l].swiperSlideSize;for(var _s27=l+1;_s27<a.length;_s27+=1){a[_s27]&&!_e48&&(_t26+=a[_s27].swiperSlideSize,o+=1,_t26>n&&(_e48=!0));}for(var _s28=l-1;_s28>=0;_s28-=1){a[_s28]&&!_e48&&(_t26+=a[_s28].swiperSlideSize,o+=1,_t26>n&&(_e48=!0));}}else if("current"===e)for(var _e49=l+1;_e49<a.length;_e49+=1){(t?i[_e49]+r[_e49]-i[l]<n:i[_e49]-i[l]<n)&&(o+=1);}else for(var _e50=l-1;_e50>=0;_e50-=1){i[l]-i[_e50]<n&&(o+=1);}return o;}},{key:"update",value:function update(){var e=this;if(!e||e.destroyed)return;var t=e.snapGrid,s=e.params;function a(){var t=e.rtlTranslate?-1*e.translate:e.translate,s=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(s),e.updateActiveIndex(),e.updateSlidesClasses();}var i;s.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled?(a(),e.params.autoHeight&&e.updateAutoHeight()):(i=("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),i||a()),s.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update");}},{key:"changeDirection",value:function changeDirection(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var s=this,a=s.params.direction;return e||(e="horizontal"===a?"vertical":"horizontal"),e===a||"horizontal"!==e&&"vertical"!==e||(s.$el.removeClass("".concat(s.params.containerModifierClass).concat(a)).addClass("".concat(s.params.containerModifierClass).concat(e)),s.emitContainerClasses(),s.params.direction=e,s.slides.each(function(t){"vertical"===e?t.style.width="":t.style.height="";}),s.emit("changeDirection"),t&&s.update()),s;}},{key:"mount",value:function mount(e){var t=this;if(t.mounted)return!0;var s=d(e||t.params.el);if(!(e=s[0]))return!1;e.swiper=t;var i=function i(){return".".concat((t.params.wrapperClass||"").trim().split(" ").join("."));};var r=function(){if(e&&e.shadowRoot&&e.shadowRoot.querySelector){var _t27=d(e.shadowRoot.querySelector(i()));return _t27.children=function(e){return s.children(e);},_t27;}return s.children(i());}();if(0===r.length&&t.params.createElements){var _e51=a().createElement("div");r=d(_e51),_e51.className=t.params.wrapperClass,s.append(_e51),s.children(".".concat(t.params.slideClass)).each(function(e){r.append(e);});}return Object.assign(t,{$el:s,el:e,$wrapperEl:r,wrapperEl:r[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===s.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===s.css("direction")),wrongRTL:"-webkit-box"===r.css("display")}),!0;}},{key:"init",value:function init(e){var t=this;if(t.initialized)return t;return!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t;}},{key:"destroy",value:function destroy(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var s=this,a=s.params,i=s.$el,r=s.$wrapperEl,n=s.slides;return void 0===s.params||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),a.loop&&s.loopDestroy(),t&&(s.removeClasses(),i.removeAttr("style"),r.removeAttr("style"),n&&n.length&&n.removeClass([a.slideVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(function(e){s.off(e);}),!1!==e&&(s.$el[0].swiper=null,function(e){var t=e;Object.keys(t).forEach(function(e){try{t[e]=null;}catch(e){}try{delete t[e];}catch(e){}});}(s)),s.destroyed=!0),null;}}],[{key:"extendDefaults",value:function extendDefaults(e){f(X,e);}},{key:"extendedDefaults",get:function get(){return X;}},{key:"defaults",get:function get(){return G;}},{key:"installModule",value:function installModule(e){H.prototype.__modules__||(H.prototype.__modules__=[]);var t=H.prototype.__modules__;"function"==typeof e&&t.indexOf(e)<0&&t.push(e);}},{key:"use",value:function use(e){return Array.isArray(e)?(e.forEach(function(e){return H.installModule(e);}),H):(H.installModule(e),H);}}]);return H;}();function Y(e,t,s,i){var r=a();return e.params.createElements&&Object.keys(i).forEach(function(a){if(!s[a]&&!0===s.auto){var _n6=e.$el.children(".".concat(i[a]))[0];_n6||(_n6=r.createElement("div"),_n6.className=i[a],e.$el.append(_n6)),s[a]=_n6,t[a]=_n6;}}),s;}function W(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return".".concat(e.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,"."));}function R(e){var t=this,s=t.$wrapperEl,a=t.params;if(a.loop&&t.loopDestroy(),"object"==_typeof(e)&&"length"in e)for(var _t28=0;_t28<e.length;_t28+=1){e[_t28]&&s.append(e[_t28]);}else s.append(e);a.loop&&t.loopCreate(),a.observer||t.update();}function j(e){var t=this,s=t.params,a=t.$wrapperEl,i=t.activeIndex;s.loop&&t.loopDestroy();var r=i+1;if("object"==_typeof(e)&&"length"in e){for(var _t29=0;_t29<e.length;_t29+=1){e[_t29]&&a.prepend(e[_t29]);}r=i+e.length;}else a.prepend(e);s.loop&&t.loopCreate(),s.observer||t.update(),t.slideTo(r,0,!1);}function _(e,t){var s=this,a=s.$wrapperEl,i=s.params,r=s.activeIndex;var n=r;i.loop&&(n-=s.loopedSlides,s.loopDestroy(),s.slides=a.children(".".concat(i.slideClass)));var l=s.slides.length;if(e<=0)return void s.prependSlide(t);if(e>=l)return void s.appendSlide(t);var o=n>e?n+1:n;var d=[];for(var _t30=l-1;_t30>=e;_t30-=1){var _e52=s.slides.eq(_t30);_e52.remove(),d.unshift(_e52);}if("object"==_typeof(t)&&"length"in t){for(var _e53=0;_e53<t.length;_e53+=1){t[_e53]&&a.append(t[_e53]);}o=n>e?n+t.length:n;}else a.append(t);for(var _e54=0;_e54<d.length;_e54+=1){a.append(d[_e54]);}i.loop&&s.loopCreate(),i.observer||s.update(),i.loop?s.slideTo(o+s.loopedSlides,0,!1):s.slideTo(o,0,!1);}function V(e){var t=this,s=t.params,a=t.$wrapperEl,i=t.activeIndex;var r=i;s.loop&&(r-=t.loopedSlides,t.loopDestroy(),t.slides=a.children(".".concat(s.slideClass)));var n,l=r;if("object"==_typeof(e)&&"length"in e){for(var _s29=0;_s29<e.length;_s29+=1){n=e[_s29],t.slides[n]&&t.slides.eq(n).remove(),n<l&&(l-=1);}l=Math.max(l,0);}else n=e,t.slides[n]&&t.slides.eq(n).remove(),n<l&&(l-=1),l=Math.max(l,0);s.loop&&t.loopCreate(),s.observer||t.update(),s.loop?t.slideTo(l+t.loopedSlides,0,!1):t.slideTo(l,0,!1);}function q(){var e=this,t=[];for(var _s30=0;_s30<e.slides.length;_s30+=1){t.push(_s30);}e.removeSlide(t);}function F(e){var t=e.effect,s=e.swiper,a=e.on,i=e.setTranslate,r=e.setTransition,n=e.overwriteParams,l=e.perspective;a("beforeInit",function(){if(s.params.effect!==t)return;s.classNames.push("".concat(s.params.containerModifierClass).concat(t)),l&&l()&&s.classNames.push("".concat(s.params.containerModifierClass,"3d"));var e=n?n():{};Object.assign(s.params,e),Object.assign(s.originalParams,e);}),a("setTranslate",function(){s.params.effect===t&&i();}),a("setTransition",function(e,a){s.params.effect===t&&r(a);});}function U(e,t){return e.transformEl?t.find(e.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):t;}function K(_ref4){var e=_ref4.swiper,t=_ref4.duration,s=_ref4.transformEl,a=_ref4.allSlides;var i=e.slides,r=e.activeIndex,n=e.$wrapperEl;if(e.params.virtualTranslate&&0!==t){var _t31,_l5=!1;_t31=a?s?i.find(s):i:s?i.eq(r).find(s):i.eq(r),_t31.transitionEnd(function(){if(_l5)return;if(!e||e.destroyed)return;_l5=!0,e.animating=!1;var t=["webkitTransitionEnd","transitionend"];for(var _e55=0;_e55<t.length;_e55+=1){n.trigger(t[_e55]);}});}}function Z(e,t,s){var a="swiper-slide-shadow"+(s?"-".concat(s):""),i=e.transformEl?t.find(e.transformEl):t;var r=i.children(".".concat(a));return r.length||(r=d("<div class=\"swiper-slide-shadow".concat(s?"-".concat(s):"","\"></div>")),i.append(r)),r;}Object.keys(B).forEach(function(e){Object.keys(B[e]).forEach(function(t){H.prototype[t]=B[e][t];});}),H.use([function(_ref5){var e=_ref5.swiper,t=_ref5.on,s=_ref5.emit;var a=r();var i=null;var n=function n(){e&&!e.destroyed&&e.initialized&&(s("beforeResize"),s("resize"));},l=function l(){e&&!e.destroyed&&e.initialized&&s("orientationchange");};t("init",function(){e.params.resizeObserver&&void 0!==a.ResizeObserver?e&&!e.destroyed&&e.initialized&&(i=new ResizeObserver(function(t){var s=e.width,a=e.height;var i=s,r=a;t.forEach(function(_ref6){var t=_ref6.contentBoxSize,s=_ref6.contentRect,a=_ref6.target;a&&a!==e.el||(i=s?s.width:(t[0]||t).inlineSize,r=s?s.height:(t[0]||t).blockSize);}),i===s&&r===a||n();}),i.observe(e.el)):(a.addEventListener("resize",n),a.addEventListener("orientationchange",l));}),t("destroy",function(){i&&i.unobserve&&e.el&&(i.unobserve(e.el),i=null),a.removeEventListener("resize",n),a.removeEventListener("orientationchange",l);});},function(_ref7){var e=_ref7.swiper,t=_ref7.extendParams,s=_ref7.on,a=_ref7.emit;var i=[],n=r(),l=function l(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var s=new(n.MutationObserver||n.WebkitMutationObserver)(function(e){if(1===e.length)return void a("observerUpdate",e[0]);var t=function t(){a("observerUpdate",e[0]);};n.requestAnimationFrame?n.requestAnimationFrame(t):n.setTimeout(t,0);});s.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),i.push(s);};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",function(){if(e.params.observer){if(e.params.observeParents){var _t32=e.$el.parents();for(var _e56=0;_e56<_t32.length;_e56+=1){l(_t32[_e56]);}}l(e.$el[0],{childList:e.params.observeSlideChildren}),l(e.$wrapperEl[0],{attributes:!1});}}),s("destroy",function(){i.forEach(function(e){e.disconnect();}),i.splice(0,i.length);});}]);var J=[function(_ref8){var e=_ref8.swiper,t=_ref8.extendParams,s=_ref8.on;var a;function i(t,s){var a=e.params.virtual;if(a.cache&&e.virtual.cache[s])return e.virtual.cache[s];var i=a.renderSlide?d(a.renderSlide.call(e,t,s)):d("<div class=\"".concat(e.params.slideClass,"\" data-swiper-slide-index=\"").concat(s,"\">").concat(t,"</div>"));return i.attr("data-swiper-slide-index")||i.attr("data-swiper-slide-index",s),a.cache&&(e.virtual.cache[s]=i),i;}function r(t){var _e$params=e.params,s=_e$params.slidesPerView,a=_e$params.slidesPerGroup,r=_e$params.centeredSlides,_e$params$virtual=e.params.virtual,n=_e$params$virtual.addSlidesBefore,l=_e$params$virtual.addSlidesAfter,_e$virtual=e.virtual,o=_e$virtual.from,d=_e$virtual.to,c=_e$virtual.slides,p=_e$virtual.slidesGrid,u=_e$virtual.offset;e.params.cssMode||e.updateActiveIndex();var h=e.activeIndex||0;var m,f,g;m=e.rtlTranslate?"right":e.isHorizontal()?"left":"top",r?(f=Math.floor(s/2)+a+l,g=Math.floor(s/2)+a+n):(f=s+(a-1)+l,g=a+n);var v=Math.max((h||0)-g,0),w=Math.min((h||0)+f,c.length-1),b=(e.slidesGrid[v]||0)-(e.slidesGrid[0]||0);function x(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.lazy&&e.params.lazy.enabled&&e.lazy.load();}if(Object.assign(e.virtual,{from:v,to:w,offset:b,slidesGrid:e.slidesGrid}),o===v&&d===w&&!t)return e.slidesGrid!==p&&b!==u&&e.slides.css(m,"".concat(b,"px")),void e.updateProgress();if(e.params.virtual.renderExternal)return e.params.virtual.renderExternal.call(e,{offset:b,from:v,to:w,slides:function(){var e=[];for(var _t33=v;_t33<=w;_t33+=1){e.push(c[_t33]);}return e;}()}),void(e.params.virtual.renderExternalUpdate&&x());var y=[],E=[];if(t)e.$wrapperEl.find(".".concat(e.params.slideClass)).remove();else for(var _t34=o;_t34<=d;_t34+=1){(_t34<v||_t34>w)&&e.$wrapperEl.find(".".concat(e.params.slideClass,"[data-swiper-slide-index=\"").concat(_t34,"\"]")).remove();}for(var _e57=0;_e57<c.length;_e57+=1){_e57>=v&&_e57<=w&&(void 0===d||t?E.push(_e57):(_e57>d&&E.push(_e57),_e57<o&&y.push(_e57)));}E.forEach(function(t){e.$wrapperEl.append(i(c[t],t));}),y.sort(function(e,t){return t-e;}).forEach(function(t){e.$wrapperEl.prepend(i(c[t],t));}),e.$wrapperEl.children(".swiper-slide").css(m,"".concat(b,"px")),x();}t({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}}),e.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]},s("beforeInit",function(){e.params.virtual.enabled&&(e.virtual.slides=e.params.virtual.slides,e.classNames.push("".concat(e.params.containerModifierClass,"virtual")),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0,e.params.initialSlide||r());}),s("setTranslate",function(){e.params.virtual.enabled&&(e.params.cssMode&&!e._immediateVirtual?(clearTimeout(a),a=setTimeout(function(){r();},100)):r());}),s("init update resize",function(){e.params.virtual.enabled&&e.params.cssMode&&g(e.wrapperEl,"--swiper-virtual-size","".concat(e.virtualSize,"px"));}),Object.assign(e.virtual,{appendSlide:function appendSlide(t){if("object"==_typeof(t)&&"length"in t)for(var _s31=0;_s31<t.length;_s31+=1){t[_s31]&&e.virtual.slides.push(t[_s31]);}else e.virtual.slides.push(t);r(!0);},prependSlide:function prependSlide(t){var s=e.activeIndex;var a=s+1,i=1;if(Array.isArray(t)){for(var _s32=0;_s32<t.length;_s32+=1){t[_s32]&&e.virtual.slides.unshift(t[_s32]);}a=s+t.length,i=t.length;}else e.virtual.slides.unshift(t);if(e.params.virtual.cache){var _t35=e.virtual.cache,_s33={};Object.keys(_t35).forEach(function(e){var a=_t35[e],r=a.attr("data-swiper-slide-index");r&&a.attr("data-swiper-slide-index",parseInt(r,10)+i),_s33[parseInt(e,10)+i]=a;}),e.virtual.cache=_s33;}r(!0),e.slideTo(a,0);},removeSlide:function removeSlide(t){if(null==t)return;var s=e.activeIndex;if(Array.isArray(t))for(var _a16=t.length-1;_a16>=0;_a16-=1){e.virtual.slides.splice(t[_a16],1),e.params.virtual.cache&&delete e.virtual.cache[t[_a16]],t[_a16]<s&&(s-=1),s=Math.max(s,0);}else e.virtual.slides.splice(t,1),e.params.virtual.cache&&delete e.virtual.cache[t],t<s&&(s-=1),s=Math.max(s,0);r(!0),e.slideTo(s,0);},removeAllSlides:function removeAllSlides(){e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),r(!0),e.slideTo(0,0);},update:r});},function(_ref9){var e=_ref9.swiper,t=_ref9.extendParams,s=_ref9.on,i=_ref9.emit;var n=a(),l=r();function o(t){if(!e.enabled)return;var s=e.rtlTranslate;var a=t;a.originalEvent&&(a=a.originalEvent);var r=a.keyCode||a.charCode,o=e.params.keyboard.pageUpDown,d=o&&33===r,c=o&&34===r,p=37===r,u=39===r,h=38===r,m=40===r;if(!e.allowSlideNext&&(e.isHorizontal()&&u||e.isVertical()&&m||c))return!1;if(!e.allowSlidePrev&&(e.isHorizontal()&&p||e.isVertical()&&h||d))return!1;if(!(a.shiftKey||a.altKey||a.ctrlKey||a.metaKey||n.activeElement&&n.activeElement.nodeName&&("input"===n.activeElement.nodeName.toLowerCase()||"textarea"===n.activeElement.nodeName.toLowerCase()))){if(e.params.keyboard.onlyInViewport&&(d||c||p||u||h||m)){var _t36=!1;if(e.$el.parents(".".concat(e.params.slideClass)).length>0&&0===e.$el.parents(".".concat(e.params.slideActiveClass)).length)return;var _a17=e.$el,_i10=_a17[0].clientWidth,_r7=_a17[0].clientHeight,_n7=l.innerWidth,_o5=l.innerHeight,_d4=e.$el.offset();s&&(_d4.left-=e.$el[0].scrollLeft);var _c3=[[_d4.left,_d4.top],[_d4.left+_i10,_d4.top],[_d4.left,_d4.top+_r7],[_d4.left+_i10,_d4.top+_r7]];for(var _e58=0;_e58<_c3.length;_e58+=1){var _s34=_c3[_e58];if(_s34[0]>=0&&_s34[0]<=_n7&&_s34[1]>=0&&_s34[1]<=_o5){if(0===_s34[0]&&0===_s34[1])continue;_t36=!0;}}if(!_t36)return;}e.isHorizontal()?((d||c||p||u)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),((c||u)&&!s||(d||p)&&s)&&e.slideNext(),((d||p)&&!s||(c||u)&&s)&&e.slidePrev()):((d||c||h||m)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),(c||m)&&e.slideNext(),(d||h)&&e.slidePrev()),i("keyPress",r);}}function c(){e.keyboard.enabled||(d(n).on("keydown",o),e.keyboard.enabled=!0);}function p(){e.keyboard.enabled&&(d(n).off("keydown",o),e.keyboard.enabled=!1);}e.keyboard={enabled:!1},t({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),s("init",function(){e.params.keyboard.enabled&&c();}),s("destroy",function(){e.keyboard.enabled&&p();}),Object.assign(e.keyboard,{enable:c,disable:p});},function(_ref10){var e=_ref10.swiper,t=_ref10.extendParams,s=_ref10.on,a=_ref10.emit;var i=r();var n;t({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null}}),e.mousewheel={enabled:!1};var l,o=u();var c=[];function h(){e.enabled&&(e.mouseEntered=!0);}function m(){e.enabled&&(e.mouseEntered=!1);}function f(t){return!(e.params.mousewheel.thresholdDelta&&t.delta<e.params.mousewheel.thresholdDelta)&&!(e.params.mousewheel.thresholdTime&&u()-o<e.params.mousewheel.thresholdTime)&&(t.delta>=6&&u()-o<60||(t.direction<0?e.isEnd&&!e.params.loop||e.animating||(e.slideNext(),a("scroll",t.raw)):e.isBeginning&&!e.params.loop||e.animating||(e.slidePrev(),a("scroll",t.raw)),o=new i.Date().getTime(),!1));}function g(t){var s=t,i=!0;if(!e.enabled)return;var r=e.params.mousewheel;e.params.cssMode&&s.preventDefault();var o=e.$el;if("container"!==e.params.mousewheel.eventsTarget&&(o=d(e.params.mousewheel.eventsTarget)),!e.mouseEntered&&!o[0].contains(s.target)&&!r.releaseOnEdges)return!0;s.originalEvent&&(s=s.originalEvent);var h=0;var m=e.rtlTranslate?-1:1,g=function(e){var t=0,s=0,a=0,i=0;return"detail"in e&&(s=e.detail),"wheelDelta"in e&&(s=-e.wheelDelta/120),"wheelDeltaY"in e&&(s=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=s,s=0),a=10*t,i=10*s,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(a=e.deltaX),e.shiftKey&&!a&&(a=i,i=0),(a||i)&&e.deltaMode&&(1===e.deltaMode?(a*=40,i*=40):(a*=800,i*=800)),a&&!t&&(t=a<1?-1:1),i&&!s&&(s=i<1?-1:1),{spinX:t,spinY:s,pixelX:a,pixelY:i};}(s);if(r.forceToAxis){if(e.isHorizontal()){if(!(Math.abs(g.pixelX)>Math.abs(g.pixelY)))return!0;h=-g.pixelX*m;}else{if(!(Math.abs(g.pixelY)>Math.abs(g.pixelX)))return!0;h=-g.pixelY;}}else h=Math.abs(g.pixelX)>Math.abs(g.pixelY)?-g.pixelX*m:-g.pixelY;if(0===h)return!0;r.invert&&(h=-h);var v=e.getTranslate()+h*r.sensitivity;if(v>=e.minTranslate()&&(v=e.minTranslate()),v<=e.maxTranslate()&&(v=e.maxTranslate()),i=!!e.params.loop||!(v===e.minTranslate()||v===e.maxTranslate()),i&&e.params.nested&&s.stopPropagation(),e.params.freeMode&&e.params.freeMode.enabled){var _t37={time:u(),delta:Math.abs(h),direction:Math.sign(h)},_i11=l&&_t37.time<l.time+500&&_t37.delta<=l.delta&&_t37.direction===l.direction;if(!_i11){l=void 0,e.params.loop&&e.loopFix();var _o6=e.getTranslate()+h*r.sensitivity;var _d5=e.isBeginning,_u2=e.isEnd;if(_o6>=e.minTranslate()&&(_o6=e.minTranslate()),_o6<=e.maxTranslate()&&(_o6=e.maxTranslate()),e.setTransition(0),e.setTranslate(_o6),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!_d5&&e.isBeginning||!_u2&&e.isEnd)&&e.updateSlidesClasses(),e.params.freeMode.sticky){clearTimeout(n),n=void 0,c.length>=15&&c.shift();var _s35=c.length?c[c.length-1]:void 0,_a18=c[0];if(c.push(_t37),_s35&&(_t37.delta>_s35.delta||_t37.direction!==_s35.direction))c.splice(0);else if(c.length>=15&&_t37.time-_a18.time<500&&_a18.delta-_t37.delta>=1&&_t37.delta<=6){var _s36=h>0?.8:.2;l=_t37,c.splice(0),n=p(function(){e.slideToClosest(e.params.speed,!0,void 0,_s36);},0);}n||(n=p(function(){l=_t37,c.splice(0),e.slideToClosest(e.params.speed,!0,void 0,.5);},500));}if(_i11||a("scroll",s),e.params.autoplay&&e.params.autoplayDisableOnInteraction&&e.autoplay.stop(),_o6===e.minTranslate()||_o6===e.maxTranslate())return!0;}}else{var _s37={time:u(),delta:Math.abs(h),direction:Math.sign(h),raw:t};c.length>=2&&c.shift();var _a19=c.length?c[c.length-1]:void 0;if(c.push(_s37),_a19?(_s37.direction!==_a19.direction||_s37.delta>_a19.delta||_s37.time>_a19.time+150)&&f(_s37):f(_s37),function(t){var s=e.params.mousewheel;if(t.direction<0){if(e.isEnd&&!e.params.loop&&s.releaseOnEdges)return!0;}else if(e.isBeginning&&!e.params.loop&&s.releaseOnEdges)return!0;return!1;}(_s37))return!0;}return s.preventDefault?s.preventDefault():s.returnValue=!1,!1;}function v(t){var s=e.$el;"container"!==e.params.mousewheel.eventsTarget&&(s=d(e.params.mousewheel.eventsTarget)),s[t]("mouseenter",h),s[t]("mouseleave",m),s[t]("wheel",g);}function w(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",g),!0):!e.mousewheel.enabled&&(v("on"),e.mousewheel.enabled=!0,!0);}function b(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,g),!0):!!e.mousewheel.enabled&&(v("off"),e.mousewheel.enabled=!1,!0);}s("init",function(){!e.params.mousewheel.enabled&&e.params.cssMode&&b(),e.params.mousewheel.enabled&&w();}),s("destroy",function(){e.params.cssMode&&w(),e.mousewheel.enabled&&b();}),Object.assign(e.mousewheel,{enable:w,disable:b});},function(_ref11){var e=_ref11.swiper,t=_ref11.extendParams,s=_ref11.on,a=_ref11.emit;function i(t){var s;return t&&(s=d(t),e.params.uniqueNavElements&&"string"==typeof t&&s.length>1&&1===e.$el.find(t).length&&(s=e.$el.find(t))),s;}function r(t,s){var a=e.params.navigation;t&&t.length>0&&(t[s?"addClass":"removeClass"](a.disabledClass),t[0]&&"BUTTON"===t[0].tagName&&(t[0].disabled=s),e.params.watchOverflow&&e.enabled&&t[e.isLocked?"addClass":"removeClass"](a.lockClass));}function n(){if(e.params.loop)return;var _e$navigation=e.navigation,t=_e$navigation.$nextEl,s=_e$navigation.$prevEl;r(s,e.isBeginning),r(t,e.isEnd);}function l(t){t.preventDefault(),e.isBeginning&&!e.params.loop||e.slidePrev();}function o(t){t.preventDefault(),e.isEnd&&!e.params.loop||e.slideNext();}function c(){var t=e.params.navigation;if(e.params.navigation=Y(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!t.nextEl&&!t.prevEl)return;var s=i(t.nextEl),a=i(t.prevEl);s&&s.length>0&&s.on("click",o),a&&a.length>0&&a.on("click",l),Object.assign(e.navigation,{$nextEl:s,nextEl:s&&s[0],$prevEl:a,prevEl:a&&a[0]}),e.enabled||(s&&s.addClass(t.lockClass),a&&a.addClass(t.lockClass));}function p(){var _e$navigation2=e.navigation,t=_e$navigation2.$nextEl,s=_e$navigation2.$prevEl;t&&t.length&&(t.off("click",o),t.removeClass(e.params.navigation.disabledClass)),s&&s.length&&(s.off("click",l),s.removeClass(e.params.navigation.disabledClass));}t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}}),e.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null},s("init",function(){c(),n();}),s("toEdge fromEdge lock unlock",function(){n();}),s("destroy",function(){p();}),s("enable disable",function(){var _e$navigation3=e.navigation,t=_e$navigation3.$nextEl,s=_e$navigation3.$prevEl;t&&t[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass),s&&s[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass);}),s("click",function(t,s){var _e$navigation4=e.navigation,i=_e$navigation4.$nextEl,r=_e$navigation4.$prevEl,n=s.target;if(e.params.navigation.hideOnClick&&!d(n).is(r)&&!d(n).is(i)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===n||e.pagination.el.contains(n)))return;var _t38;i?_t38=i.hasClass(e.params.navigation.hiddenClass):r&&(_t38=r.hasClass(e.params.navigation.hiddenClass)),a(!0===_t38?"navigationShow":"navigationHide"),i&&i.toggleClass(e.params.navigation.hiddenClass),r&&r.toggleClass(e.params.navigation.hiddenClass);}}),Object.assign(e.navigation,{update:n,init:c,destroy:p});},function(_ref12){var e=_ref12.swiper,t=_ref12.extendParams,s=_ref12.on,a=_ref12.emit;var i="swiper-pagination";var r;t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function formatFractionCurrent(e){return e;},formatFractionTotal:function formatFractionTotal(e){return e;},bulletClass:"".concat(i,"-bullet"),bulletActiveClass:"".concat(i,"-bullet-active"),modifierClass:"".concat(i,"-"),currentClass:"".concat(i,"-current"),totalClass:"".concat(i,"-total"),hiddenClass:"".concat(i,"-hidden"),progressbarFillClass:"".concat(i,"-progressbar-fill"),progressbarOppositeClass:"".concat(i,"-progressbar-opposite"),clickableClass:"".concat(i,"-clickable"),lockClass:"".concat(i,"-lock"),horizontalClass:"".concat(i,"-horizontal"),verticalClass:"".concat(i,"-vertical")}}),e.pagination={el:null,$el:null,bullets:[]};var n=0;function l(){return!e.params.pagination.el||!e.pagination.el||!e.pagination.$el||0===e.pagination.$el.length;}function o(t,s){var a=e.params.pagination.bulletActiveClass;t[s]().addClass("".concat(a,"-").concat(s))[s]().addClass("".concat(a,"-").concat(s,"-").concat(s));}function c(){var t=e.rtl,s=e.params.pagination;if(l())return;var i=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,c=e.pagination.$el;var p;var u=e.params.loop?Math.ceil((i-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(p=Math.ceil((e.activeIndex-e.loopedSlides)/e.params.slidesPerGroup),p>i-1-2*e.loopedSlides&&(p-=i-2*e.loopedSlides),p>u-1&&(p-=u),p<0&&"bullets"!==e.params.paginationType&&(p=u+p)):p=void 0!==e.snapIndex?e.snapIndex:e.activeIndex||0,"bullets"===s.type&&e.pagination.bullets&&e.pagination.bullets.length>0){var _a20=e.pagination.bullets;var _i12,_l6,_u3;if(s.dynamicBullets&&(r=_a20.eq(0)[e.isHorizontal()?"outerWidth":"outerHeight"](!0),c.css(e.isHorizontal()?"width":"height",r*(s.dynamicMainBullets+4)+"px"),s.dynamicMainBullets>1&&void 0!==e.previousIndex&&(n+=p-e.previousIndex,n>s.dynamicMainBullets-1?n=s.dynamicMainBullets-1:n<0&&(n=0)),_i12=p-n,_l6=_i12+(Math.min(_a20.length,s.dynamicMainBullets)-1),_u3=(_l6+_i12)/2),_a20.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(function(e){return"".concat(s.bulletActiveClass).concat(e);}).join(" ")),c.length>1)_a20.each(function(e){var t=d(e),a=t.index();a===p&&t.addClass(s.bulletActiveClass),s.dynamicBullets&&(a>=_i12&&a<=_l6&&t.addClass("".concat(s.bulletActiveClass,"-main")),a===_i12&&o(t,"prev"),a===_l6&&o(t,"next"));});else{var _t39=_a20.eq(p),_r8=_t39.index();if(_t39.addClass(s.bulletActiveClass),s.dynamicBullets){var _t40=_a20.eq(_i12),_n8=_a20.eq(_l6);for(var _e59=_i12;_e59<=_l6;_e59+=1){_a20.eq(_e59).addClass("".concat(s.bulletActiveClass,"-main"));}if(e.params.loop){if(_r8>=_a20.length-s.dynamicMainBullets){for(var _e60=s.dynamicMainBullets;_e60>=0;_e60-=1){_a20.eq(_a20.length-_e60).addClass("".concat(s.bulletActiveClass,"-main"));}_a20.eq(_a20.length-s.dynamicMainBullets-1).addClass("".concat(s.bulletActiveClass,"-prev"));}else o(_t40,"prev"),o(_n8,"next");}else o(_t40,"prev"),o(_n8,"next");}}if(s.dynamicBullets){var _i13=Math.min(_a20.length,s.dynamicMainBullets+4),_n9=(r*_i13-r)/2-_u3*r,_l7=t?"right":"left";_a20.css(e.isHorizontal()?_l7:"top","".concat(_n9,"px"));}}if("fraction"===s.type&&(c.find(W(s.currentClass)).text(s.formatFractionCurrent(p+1)),c.find(W(s.totalClass)).text(s.formatFractionTotal(u))),"progressbar"===s.type){var _t41;_t41=s.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";var _a21=(p+1)/u;var _i14=1,_r9=1;"horizontal"===_t41?_i14=_a21:_r9=_a21,c.find(W(s.progressbarFillClass)).transform("translate3d(0,0,0) scaleX(".concat(_i14,") scaleY(").concat(_r9,")")).transition(e.params.speed);}"custom"===s.type&&s.renderCustom?(c.html(s.renderCustom(e,p+1,u)),a("paginationRender",c[0])):a("paginationUpdate",c[0]),e.params.watchOverflow&&e.enabled&&c[e.isLocked?"addClass":"removeClass"](s.lockClass);}function p(){var t=e.params.pagination;if(l())return;var s=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,i=e.pagination.$el;var r="";if("bullets"===t.type){var _a22=e.params.loop?Math.ceil((s-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&!e.params.loop&&_a22>s&&(_a22=s);for(var _s38=0;_s38<_a22;_s38+=1){t.renderBullet?r+=t.renderBullet.call(e,_s38,t.bulletClass):r+="<".concat(t.bulletElement," class=\"").concat(t.bulletClass,"\"></").concat(t.bulletElement,">");}i.html(r),e.pagination.bullets=i.find(W(t.bulletClass));}"fraction"===t.type&&(r=t.renderFraction?t.renderFraction.call(e,t.currentClass,t.totalClass):"<span class=\"".concat(t.currentClass,"\"></span> / <span class=\"").concat(t.totalClass,"\"></span>"),i.html(r)),"progressbar"===t.type&&(r=t.renderProgressbar?t.renderProgressbar.call(e,t.progressbarFillClass):"<span class=\"".concat(t.progressbarFillClass,"\"></span>"),i.html(r)),"custom"!==t.type&&a("paginationRender",e.pagination.$el[0]);}function u(){e.params.pagination=Y(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});var t=e.params.pagination;if(!t.el)return;var s=d(t.el);0!==s.length&&(e.params.uniqueNavElements&&"string"==typeof t.el&&s.length>1&&(s=e.$el.find(t.el),s.length>1&&(s=s.filter(function(t){return d(t).parents(".swiper")[0]===e.el;}))),"bullets"===t.type&&t.clickable&&s.addClass(t.clickableClass),s.addClass(t.modifierClass+t.type),s.addClass(t.modifierClass+e.params.direction),"bullets"===t.type&&t.dynamicBullets&&(s.addClass("".concat(t.modifierClass).concat(t.type,"-dynamic")),n=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&s.addClass(t.progressbarOppositeClass),t.clickable&&s.on("click",W(t.bulletClass),function(t){t.preventDefault();var s=d(this).index()*e.params.slidesPerGroup;e.params.loop&&(s+=e.loopedSlides),e.slideTo(s);}),Object.assign(e.pagination,{$el:s,el:s[0]}),e.enabled||s.addClass(t.lockClass));}function h(){var t=e.params.pagination;if(l())return;var s=e.pagination.$el;s.removeClass(t.hiddenClass),s.removeClass(t.modifierClass+t.type),s.removeClass(t.modifierClass+e.params.direction),e.pagination.bullets&&e.pagination.bullets.removeClass&&e.pagination.bullets.removeClass(t.bulletActiveClass),t.clickable&&s.off("click",W(t.bulletClass));}s("init",function(){u(),p(),c();}),s("activeIndexChange",function(){(e.params.loop||void 0===e.snapIndex)&&c();}),s("snapIndexChange",function(){e.params.loop||c();}),s("slidesLengthChange",function(){e.params.loop&&(p(),c());}),s("snapGridLengthChange",function(){e.params.loop||(p(),c());}),s("destroy",function(){h();}),s("enable disable",function(){var t=e.pagination.$el;t&&t[e.enabled?"removeClass":"addClass"](e.params.pagination.lockClass);}),s("lock unlock",function(){c();}),s("click",function(t,s){var i=s.target,r=e.pagination.$el;if(e.params.pagination.el&&e.params.pagination.hideOnClick&&r.length>0&&!d(i).hasClass(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&i===e.navigation.nextEl||e.navigation.prevEl&&i===e.navigation.prevEl))return;var _t42=r.hasClass(e.params.pagination.hiddenClass);a(!0===_t42?"paginationShow":"paginationHide"),r.toggleClass(e.params.pagination.hiddenClass);}}),Object.assign(e.pagination,{render:p,update:c,init:u,destroy:h});},function(_ref13){var e=_ref13.swiper,t=_ref13.extendParams,s=_ref13.on,i=_ref13.emit;var r=a();var n,l,o,c,u=!1,h=null,m=null;function f(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;var t=e.scrollbar,s=e.rtlTranslate,a=e.progress,i=t.$dragEl,r=t.$el,n=e.params.scrollbar;var d=l,c=(o-l)*a;s?(c=-c,c>0?(d=l-c,c=0):-c+l>o&&(d=o+c)):c<0?(d=l+c,c=0):c+l>o&&(d=o-c),e.isHorizontal()?(i.transform("translate3d(".concat(c,"px, 0, 0)")),i[0].style.width="".concat(d,"px")):(i.transform("translate3d(0px, ".concat(c,"px, 0)")),i[0].style.height="".concat(d,"px")),n.hide&&(clearTimeout(h),r[0].style.opacity=1,h=setTimeout(function(){r[0].style.opacity=0,r.transition(400);},1e3));}function g(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;var t=e.scrollbar,s=t.$dragEl,a=t.$el;s[0].style.width="",s[0].style.height="",o=e.isHorizontal()?a[0].offsetWidth:a[0].offsetHeight,c=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),l="auto"===e.params.scrollbar.dragSize?o*c:parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?s[0].style.width="".concat(l,"px"):s[0].style.height="".concat(l,"px"),a[0].style.display=c>=1?"none":"",e.params.scrollbar.hide&&(a[0].style.opacity=0),e.params.watchOverflow&&e.enabled&&t.$el[e.isLocked?"addClass":"removeClass"](e.params.scrollbar.lockClass);}function v(t){return e.isHorizontal()?"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].clientX:t.clientX:"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].clientY:t.clientY;}function w(t){var s=e.scrollbar,a=e.rtlTranslate,i=s.$el;var r;r=(v(t)-i.offset()[e.isHorizontal()?"left":"top"]-(null!==n?n:l/2))/(o-l),r=Math.max(Math.min(r,1),0),a&&(r=1-r);var d=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*r;e.updateProgress(d),e.setTranslate(d),e.updateActiveIndex(),e.updateSlidesClasses();}function b(t){var s=e.params.scrollbar,a=e.scrollbar,r=e.$wrapperEl,l=a.$el,o=a.$dragEl;u=!0,n=t.target===o[0]||t.target===o?v(t)-t.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,t.preventDefault(),t.stopPropagation(),r.transition(100),o.transition(100),w(t),clearTimeout(m),l.transition(0),s.hide&&l.css("opacity",1),e.params.cssMode&&e.$wrapperEl.css("scroll-snap-type","none"),i("scrollbarDragStart",t);}function x(t){var s=e.scrollbar,a=e.$wrapperEl,r=s.$el,n=s.$dragEl;u&&(t.preventDefault?t.preventDefault():t.returnValue=!1,w(t),a.transition(0),r.transition(0),n.transition(0),i("scrollbarDragMove",t));}function y(t){var s=e.params.scrollbar,a=e.scrollbar,r=e.$wrapperEl,n=a.$el;u&&(u=!1,e.params.cssMode&&(e.$wrapperEl.css("scroll-snap-type",""),r.transition("")),s.hide&&(clearTimeout(m),m=p(function(){n.css("opacity",0),n.transition(400);},1e3)),i("scrollbarDragEnd",t),s.snapOnRelease&&e.slideToClosest());}function E(t){var s=e.scrollbar,a=e.touchEventsTouch,i=e.touchEventsDesktop,n=e.params,l=e.support,o=s.$el[0],d=!(!l.passiveListener||!n.passiveListeners)&&{passive:!1,capture:!1},c=!(!l.passiveListener||!n.passiveListeners)&&{passive:!0,capture:!1};if(!o)return;var p="on"===t?"addEventListener":"removeEventListener";l.touch?(o[p](a.start,b,d),o[p](a.move,x,d),o[p](a.end,y,c)):(o[p](i.start,b,d),r[p](i.move,x,d),r[p](i.end,y,c));}function T(){var t=e.scrollbar,s=e.$el;e.params.scrollbar=Y(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});var a=e.params.scrollbar;if(!a.el)return;var i=d(a.el);e.params.uniqueNavElements&&"string"==typeof a.el&&i.length>1&&1===s.find(a.el).length&&(i=s.find(a.el));var r=i.find(".".concat(e.params.scrollbar.dragClass));0===r.length&&(r=d("<div class=\"".concat(e.params.scrollbar.dragClass,"\"></div>")),i.append(r)),Object.assign(t,{$el:i,el:i[0],$dragEl:r,dragEl:r[0]}),a.draggable&&e.params.scrollbar.el&&E("on"),i&&i[e.enabled?"removeClass":"addClass"](e.params.scrollbar.lockClass);}function C(){e.params.scrollbar.el&&E("off");}t({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}}),e.scrollbar={el:null,dragEl:null,$el:null,$dragEl:null},s("init",function(){T(),g(),f();}),s("update resize observerUpdate lock unlock",function(){g();}),s("setTranslate",function(){f();}),s("setTransition",function(t,s){!function(t){e.params.scrollbar.el&&e.scrollbar.el&&e.scrollbar.$dragEl.transition(t);}(s);}),s("enable disable",function(){var t=e.scrollbar.$el;t&&t[e.enabled?"removeClass":"addClass"](e.params.scrollbar.lockClass);}),s("destroy",function(){C();}),Object.assign(e.scrollbar,{updateSize:g,setTranslate:f,init:T,destroy:C});},function(_ref14){var e=_ref14.swiper,t=_ref14.extendParams,s=_ref14.on;t({parallax:{enabled:!1}});var a=function a(t,s){var a=e.rtl,i=d(t),r=a?-1:1,n=i.attr("data-swiper-parallax")||"0";var l=i.attr("data-swiper-parallax-x"),o=i.attr("data-swiper-parallax-y");var c=i.attr("data-swiper-parallax-scale"),p=i.attr("data-swiper-parallax-opacity");if(l||o?(l=l||"0",o=o||"0"):e.isHorizontal()?(l=n,o="0"):(o=n,l="0"),l=l.indexOf("%")>=0?parseInt(l,10)*s*r+"%":l*s*r+"px",o=o.indexOf("%")>=0?parseInt(o,10)*s+"%":o*s+"px",null!=p){var _e61=p-(p-1)*(1-Math.abs(s));i[0].style.opacity=_e61;}if(null==c)i.transform("translate3d(".concat(l,", ").concat(o,", 0px)"));else{var _e62=c-(c-1)*(1-Math.abs(s));i.transform("translate3d(".concat(l,", ").concat(o,", 0px) scale(").concat(_e62,")"));}},i=function i(){var t=e.$el,s=e.slides,i=e.progress,r=e.snapGrid;t.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(e){a(e,i);}),s.each(function(t,s){var n=t.progress;e.params.slidesPerGroup>1&&"auto"!==e.params.slidesPerView&&(n+=Math.ceil(s/2)-i*(r.length-1)),n=Math.min(Math.max(n,-1),1),d(t).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(e){a(e,n);});});};s("beforeInit",function(){e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0);}),s("init",function(){e.params.parallax.enabled&&i();}),s("setTranslate",function(){e.params.parallax.enabled&&i();}),s("setTransition",function(t,s){e.params.parallax.enabled&&function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:e.params.speed;var s=e.$el;s.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(e){var s=d(e);var a=parseInt(s.attr("data-swiper-parallax-duration"),10)||t;0===t&&(a=0),s.transition(a);});}(s);});},function(_ref15){var e=_ref15.swiper,t=_ref15.extendParams,s=_ref15.on,a=_ref15.emit;var i=r();t({zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),e.zoom={enabled:!1};var n,l,o,c=1,p=!1;var u={$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},m={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},f={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};var g=1;function v(e){if(e.targetTouches.length<2)return 1;var t=e.targetTouches[0].pageX,s=e.targetTouches[0].pageY,a=e.targetTouches[1].pageX,i=e.targetTouches[1].pageY;return Math.sqrt(Math.pow(a-t,2)+Math.pow(i-s,2));}function w(t){var s=e.support,a=e.params.zoom;if(l=!1,o=!1,!s.gestures){if("touchstart"!==t.type||"touchstart"===t.type&&t.targetTouches.length<2)return;l=!0,u.scaleStart=v(t);}u.$slideEl&&u.$slideEl.length||(u.$slideEl=d(t.target).closest(".".concat(e.params.slideClass)),0===u.$slideEl.length&&(u.$slideEl=e.slides.eq(e.activeIndex)),u.$imageEl=u.$slideEl.find(".".concat(a.containerClass)).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),u.$imageWrapEl=u.$imageEl.parent(".".concat(a.containerClass)),u.maxRatio=u.$imageWrapEl.attr("data-swiper-zoom")||a.maxRatio,0!==u.$imageWrapEl.length)?(u.$imageEl&&u.$imageEl.transition(0),p=!0):u.$imageEl=void 0;}function b(t){var s=e.support,a=e.params.zoom,i=e.zoom;if(!s.gestures){if("touchmove"!==t.type||"touchmove"===t.type&&t.targetTouches.length<2)return;o=!0,u.scaleMove=v(t);}u.$imageEl&&0!==u.$imageEl.length?(s.gestures?i.scale=t.scale*c:i.scale=u.scaleMove/u.scaleStart*c,i.scale>u.maxRatio&&(i.scale=u.maxRatio-1+Math.pow(i.scale-u.maxRatio+1,.5)),i.scale<a.minRatio&&(i.scale=a.minRatio+1-Math.pow(a.minRatio-i.scale+1,.5)),u.$imageEl.transform("translate3d(0,0,0) scale(".concat(i.scale,")"))):"gesturechange"===t.type&&w(t);}function x(t){var s=e.device,a=e.support,i=e.params.zoom,r=e.zoom;if(!a.gestures){if(!l||!o)return;if("touchend"!==t.type||"touchend"===t.type&&t.changedTouches.length<2&&!s.android)return;l=!1,o=!1;}u.$imageEl&&0!==u.$imageEl.length&&(r.scale=Math.max(Math.min(r.scale,u.maxRatio),i.minRatio),u.$imageEl.transition(e.params.speed).transform("translate3d(0,0,0) scale(".concat(r.scale,")")),c=r.scale,p=!1,1===r.scale&&(u.$slideEl=void 0));}function y(t){var s=e.zoom;if(!u.$imageEl||0===u.$imageEl.length)return;if(e.allowClick=!1,!m.isTouched||!u.$slideEl)return;m.isMoved||(m.width=u.$imageEl[0].offsetWidth,m.height=u.$imageEl[0].offsetHeight,m.startX=h(u.$imageWrapEl[0],"x")||0,m.startY=h(u.$imageWrapEl[0],"y")||0,u.slideWidth=u.$slideEl[0].offsetWidth,u.slideHeight=u.$slideEl[0].offsetHeight,u.$imageWrapEl.transition(0));var a=m.width*s.scale,i=m.height*s.scale;if(!(a<u.slideWidth&&i<u.slideHeight)){if(m.minX=Math.min(u.slideWidth/2-a/2,0),m.maxX=-m.minX,m.minY=Math.min(u.slideHeight/2-i/2,0),m.maxY=-m.minY,m.touchesCurrent.x="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,m.touchesCurrent.y="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,!m.isMoved&&!p){if(e.isHorizontal()&&(Math.floor(m.minX)===Math.floor(m.startX)&&m.touchesCurrent.x<m.touchesStart.x||Math.floor(m.maxX)===Math.floor(m.startX)&&m.touchesCurrent.x>m.touchesStart.x))return void(m.isTouched=!1);if(!e.isHorizontal()&&(Math.floor(m.minY)===Math.floor(m.startY)&&m.touchesCurrent.y<m.touchesStart.y||Math.floor(m.maxY)===Math.floor(m.startY)&&m.touchesCurrent.y>m.touchesStart.y))return void(m.isTouched=!1);}t.cancelable&&t.preventDefault(),t.stopPropagation(),m.isMoved=!0,m.currentX=m.touchesCurrent.x-m.touchesStart.x+m.startX,m.currentY=m.touchesCurrent.y-m.touchesStart.y+m.startY,m.currentX<m.minX&&(m.currentX=m.minX+1-Math.pow(m.minX-m.currentX+1,.8)),m.currentX>m.maxX&&(m.currentX=m.maxX-1+Math.pow(m.currentX-m.maxX+1,.8)),m.currentY<m.minY&&(m.currentY=m.minY+1-Math.pow(m.minY-m.currentY+1,.8)),m.currentY>m.maxY&&(m.currentY=m.maxY-1+Math.pow(m.currentY-m.maxY+1,.8)),f.prevPositionX||(f.prevPositionX=m.touchesCurrent.x),f.prevPositionY||(f.prevPositionY=m.touchesCurrent.y),f.prevTime||(f.prevTime=Date.now()),f.x=(m.touchesCurrent.x-f.prevPositionX)/(Date.now()-f.prevTime)/2,f.y=(m.touchesCurrent.y-f.prevPositionY)/(Date.now()-f.prevTime)/2,Math.abs(m.touchesCurrent.x-f.prevPositionX)<2&&(f.x=0),Math.abs(m.touchesCurrent.y-f.prevPositionY)<2&&(f.y=0),f.prevPositionX=m.touchesCurrent.x,f.prevPositionY=m.touchesCurrent.y,f.prevTime=Date.now(),u.$imageWrapEl.transform("translate3d(".concat(m.currentX,"px, ").concat(m.currentY,"px,0)"));}}function E(){var t=e.zoom;u.$slideEl&&e.previousIndex!==e.activeIndex&&(u.$imageEl&&u.$imageEl.transform("translate3d(0,0,0) scale(1)"),u.$imageWrapEl&&u.$imageWrapEl.transform("translate3d(0,0,0)"),t.scale=1,c=1,u.$slideEl=void 0,u.$imageEl=void 0,u.$imageWrapEl=void 0);}function T(t){var s=e.zoom,a=e.params.zoom;if(u.$slideEl||(t&&t.target&&(u.$slideEl=d(t.target).closest(".".concat(e.params.slideClass))),u.$slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?u.$slideEl=e.$wrapperEl.children(".".concat(e.params.slideActiveClass)):u.$slideEl=e.slides.eq(e.activeIndex)),u.$imageEl=u.$slideEl.find(".".concat(a.containerClass)).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),u.$imageWrapEl=u.$imageEl.parent(".".concat(a.containerClass))),!u.$imageEl||0===u.$imageEl.length||!u.$imageWrapEl||0===u.$imageWrapEl.length)return;var r,n,l,o,p,h,f,g,v,w,b,x,y,E,T,C,$,S;e.params.cssMode&&(e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.touchAction="none"),u.$slideEl.addClass("".concat(a.zoomedSlideClass)),void 0===m.touchesStart.x&&t?(r="touchend"===t.type?t.changedTouches[0].pageX:t.pageX,n="touchend"===t.type?t.changedTouches[0].pageY:t.pageY):(r=m.touchesStart.x,n=m.touchesStart.y),s.scale=u.$imageWrapEl.attr("data-swiper-zoom")||a.maxRatio,c=u.$imageWrapEl.attr("data-swiper-zoom")||a.maxRatio,t?($=u.$slideEl[0].offsetWidth,S=u.$slideEl[0].offsetHeight,l=u.$slideEl.offset().left+i.scrollX,o=u.$slideEl.offset().top+i.scrollY,p=l+$/2-r,h=o+S/2-n,v=u.$imageEl[0].offsetWidth,w=u.$imageEl[0].offsetHeight,b=v*s.scale,x=w*s.scale,y=Math.min($/2-b/2,0),E=Math.min(S/2-x/2,0),T=-y,C=-E,f=p*s.scale,g=h*s.scale,f<y&&(f=y),f>T&&(f=T),g<E&&(g=E),g>C&&(g=C)):(f=0,g=0),u.$imageWrapEl.transition(300).transform("translate3d(".concat(f,"px, ").concat(g,"px,0)")),u.$imageEl.transition(300).transform("translate3d(0,0,0) scale(".concat(s.scale,")"));}function C(){var t=e.zoom,s=e.params.zoom;u.$slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?u.$slideEl=e.$wrapperEl.children(".".concat(e.params.slideActiveClass)):u.$slideEl=e.slides.eq(e.activeIndex),u.$imageEl=u.$slideEl.find(".".concat(s.containerClass)).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),u.$imageWrapEl=u.$imageEl.parent(".".concat(s.containerClass))),u.$imageEl&&0!==u.$imageEl.length&&u.$imageWrapEl&&0!==u.$imageWrapEl.length&&(e.params.cssMode&&(e.wrapperEl.style.overflow="",e.wrapperEl.style.touchAction=""),t.scale=1,c=1,u.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),u.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),u.$slideEl.removeClass("".concat(s.zoomedSlideClass)),u.$slideEl=void 0);}function $(t){var s=e.zoom;s.scale&&1!==s.scale?C():T(t);}function S(){var t=e.support;return{passiveListener:!("touchstart"!==e.touchEvents.start||!t.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1},activeListenerWithCapture:!t.passiveListener||{passive:!1,capture:!0}};}function M(){return".".concat(e.params.slideClass);}function P(t){var _S=S(),s=_S.passiveListener,a=M();e.$wrapperEl[t]("gesturestart",a,w,s),e.$wrapperEl[t]("gesturechange",a,b,s),e.$wrapperEl[t]("gestureend",a,x,s);}function k(){n||(n=!0,P("on"));}function z(){n&&(n=!1,P("off"));}function O(){var t=e.zoom;if(t.enabled)return;t.enabled=!0;var s=e.support,_S2=S(),a=_S2.passiveListener,i=_S2.activeListenerWithCapture,r=M();s.gestures?(e.$wrapperEl.on(e.touchEvents.start,k,a),e.$wrapperEl.on(e.touchEvents.end,z,a)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.on(e.touchEvents.start,r,w,a),e.$wrapperEl.on(e.touchEvents.move,r,b,i),e.$wrapperEl.on(e.touchEvents.end,r,x,a),e.touchEvents.cancel&&e.$wrapperEl.on(e.touchEvents.cancel,r,x,a)),e.$wrapperEl.on(e.touchEvents.move,".".concat(e.params.zoom.containerClass),y,i);}function I(){var t=e.zoom;if(!t.enabled)return;var s=e.support;t.enabled=!1;var _S3=S(),a=_S3.passiveListener,i=_S3.activeListenerWithCapture,r=M();s.gestures?(e.$wrapperEl.off(e.touchEvents.start,k,a),e.$wrapperEl.off(e.touchEvents.end,z,a)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.off(e.touchEvents.start,r,w,a),e.$wrapperEl.off(e.touchEvents.move,r,b,i),e.$wrapperEl.off(e.touchEvents.end,r,x,a),e.touchEvents.cancel&&e.$wrapperEl.off(e.touchEvents.cancel,r,x,a)),e.$wrapperEl.off(e.touchEvents.move,".".concat(e.params.zoom.containerClass),y,i);}Object.defineProperty(e.zoom,"scale",{get:function get(){return g;},set:function set(e){if(g!==e){var _t43=u.$imageEl?u.$imageEl[0]:void 0,_s39=u.$slideEl?u.$slideEl[0]:void 0;a("zoomChange",e,_t43,_s39);}g=e;}}),s("init",function(){e.params.zoom.enabled&&O();}),s("destroy",function(){I();}),s("touchStart",function(t,s){e.zoom.enabled&&function(t){var s=e.device;u.$imageEl&&0!==u.$imageEl.length&&(m.isTouched||(s.android&&t.cancelable&&t.preventDefault(),m.isTouched=!0,m.touchesStart.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,m.touchesStart.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY));}(s);}),s("touchEnd",function(t,s){e.zoom.enabled&&function(){var t=e.zoom;if(!u.$imageEl||0===u.$imageEl.length)return;if(!m.isTouched||!m.isMoved)return m.isTouched=!1,void(m.isMoved=!1);m.isTouched=!1,m.isMoved=!1;var s=300,a=300;var i=f.x*s,r=m.currentX+i,n=f.y*a,l=m.currentY+n;0!==f.x&&(s=Math.abs((r-m.currentX)/f.x)),0!==f.y&&(a=Math.abs((l-m.currentY)/f.y));var o=Math.max(s,a);m.currentX=r,m.currentY=l;var d=m.width*t.scale,c=m.height*t.scale;m.minX=Math.min(u.slideWidth/2-d/2,0),m.maxX=-m.minX,m.minY=Math.min(u.slideHeight/2-c/2,0),m.maxY=-m.minY,m.currentX=Math.max(Math.min(m.currentX,m.maxX),m.minX),m.currentY=Math.max(Math.min(m.currentY,m.maxY),m.minY),u.$imageWrapEl.transition(o).transform("translate3d(".concat(m.currentX,"px, ").concat(m.currentY,"px,0)"));}();}),s("doubleTap",function(t,s){!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&$(s);}),s("transitionEnd",function(){e.zoom.enabled&&e.params.zoom.enabled&&E();}),s("slideChange",function(){e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&E();}),Object.assign(e.zoom,{enable:O,disable:I,"in":T,out:C,toggle:$});},function(_ref16){var e=_ref16.swiper,t=_ref16.extendParams,s=_ref16.on,a=_ref16.emit;t({lazy:{checkInView:!1,enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,scrollingElement:"",elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}}),e.lazy={};var i=!1,n=!1;function l(t){var s=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var i=e.params.lazy;if(void 0===t)return;if(0===e.slides.length)return;var r=e.virtual&&e.params.virtual.enabled?e.$wrapperEl.children(".".concat(e.params.slideClass,"[data-swiper-slide-index=\"").concat(t,"\"]")):e.slides.eq(t),n=r.find(".".concat(i.elementClass,":not(.").concat(i.loadedClass,"):not(.").concat(i.loadingClass,")"));!r.hasClass(i.elementClass)||r.hasClass(i.loadedClass)||r.hasClass(i.loadingClass)||n.push(r[0]),0!==n.length&&n.each(function(t){var n=d(t);n.addClass(i.loadingClass);var o=n.attr("data-background"),c=n.attr("data-src"),p=n.attr("data-srcset"),u=n.attr("data-sizes"),h=n.parent("picture");e.loadImage(n[0],c||o,p,u,!1,function(){if(null!=e&&e&&(!e||e.params)&&!e.destroyed){if(o?(n.css("background-image","url(\"".concat(o,"\")")),n.removeAttr("data-background")):(p&&(n.attr("srcset",p),n.removeAttr("data-srcset")),u&&(n.attr("sizes",u),n.removeAttr("data-sizes")),h.length&&h.children("source").each(function(e){var t=d(e);t.attr("data-srcset")&&(t.attr("srcset",t.attr("data-srcset")),t.removeAttr("data-srcset"));}),c&&(n.attr("src",c),n.removeAttr("data-src"))),n.addClass(i.loadedClass).removeClass(i.loadingClass),r.find(".".concat(i.preloaderClass)).remove(),e.params.loop&&s){var _t44=r.attr("data-swiper-slide-index");if(r.hasClass(e.params.slideDuplicateClass)){l(e.$wrapperEl.children("[data-swiper-slide-index=\"".concat(_t44,"\"]:not(.").concat(e.params.slideDuplicateClass,")")).index(),!1);}else{l(e.$wrapperEl.children(".".concat(e.params.slideDuplicateClass,"[data-swiper-slide-index=\"").concat(_t44,"\"]")).index(),!1);}}a("lazyImageReady",r[0],n[0]),e.params.autoHeight&&e.updateAutoHeight();}}),a("lazyImageLoad",r[0],n[0]);});}function o(){var t=e.$wrapperEl,s=e.params,a=e.slides,i=e.activeIndex,r=e.virtual&&s.virtual.enabled,o=s.lazy;var c=s.slidesPerView;function p(e){if(r){if(t.children(".".concat(s.slideClass,"[data-swiper-slide-index=\"").concat(e,"\"]")).length)return!0;}else if(a[e])return!0;return!1;}function u(e){return r?d(e).attr("data-swiper-slide-index"):d(e).index();}if("auto"===c&&(c=0),n||(n=!0),e.params.watchSlidesProgress)t.children(".".concat(s.slideVisibleClass)).each(function(e){l(r?d(e).attr("data-swiper-slide-index"):d(e).index());});else if(c>1)for(var _e63=i;_e63<i+c;_e63+=1){p(_e63)&&l(_e63);}else l(i);if(o.loadPrevNext)if(c>1||o.loadPrevNextAmount&&o.loadPrevNextAmount>1){var _e64=o.loadPrevNextAmount,_t45=c,_s40=Math.min(i+_t45+Math.max(_e64,_t45),a.length),_r10=Math.max(i-Math.max(_t45,_e64),0);for(var _e65=i+c;_e65<_s40;_e65+=1){p(_e65)&&l(_e65);}for(var _e66=_r10;_e66<i;_e66+=1){p(_e66)&&l(_e66);}}else{var _e67=t.children(".".concat(s.slideNextClass));_e67.length>0&&l(u(_e67));var _a23=t.children(".".concat(s.slidePrevClass));_a23.length>0&&l(u(_a23));}}function c(){var t=r();if(!e||e.destroyed)return;var s=e.params.lazy.scrollingElement?d(e.params.lazy.scrollingElement):d(t),a=s[0]===t,n=a?t.innerWidth:s[0].offsetWidth,l=a?t.innerHeight:s[0].offsetHeight,p=e.$el.offset(),u=e.rtlTranslate;var h=!1;u&&(p.left-=e.$el[0].scrollLeft);var m=[[p.left,p.top],[p.left+e.width,p.top],[p.left,p.top+e.height],[p.left+e.width,p.top+e.height]];for(var _e68=0;_e68<m.length;_e68+=1){var _t46=m[_e68];if(_t46[0]>=0&&_t46[0]<=n&&_t46[1]>=0&&_t46[1]<=l){if(0===_t46[0]&&0===_t46[1])continue;h=!0;}}var f=!("touchstart"!==e.touchEvents.start||!e.support.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1};h?(o(),s.off("scroll",c,f)):i||(i=!0,s.on("scroll",c,f));}s("beforeInit",function(){e.params.lazy.enabled&&e.params.preloadImages&&(e.params.preloadImages=!1);}),s("init",function(){e.params.lazy.enabled&&(e.params.lazy.checkInView?c():o());}),s("scroll",function(){e.params.freeMode&&e.params.freeMode.enabled&&!e.params.freeMode.sticky&&o();}),s("scrollbarDragMove resize _freeModeNoMomentumRelease",function(){e.params.lazy.enabled&&(e.params.lazy.checkInView?c():o());}),s("transitionStart",function(){e.params.lazy.enabled&&(e.params.lazy.loadOnTransitionStart||!e.params.lazy.loadOnTransitionStart&&!n)&&(e.params.lazy.checkInView?c():o());}),s("transitionEnd",function(){e.params.lazy.enabled&&!e.params.lazy.loadOnTransitionStart&&(e.params.lazy.checkInView?c():o());}),s("slideChange",function(){var _e$params2=e.params,t=_e$params2.lazy,s=_e$params2.cssMode,a=_e$params2.watchSlidesProgress,i=_e$params2.touchReleaseOnEdges,r=_e$params2.resistanceRatio;t.enabled&&(s||a&&(i||0===r))&&o();}),Object.assign(e.lazy,{load:o,loadInSlide:l});},function(_ref17){var e=_ref17.swiper,t=_ref17.extendParams,s=_ref17.on;function a(e,t){var s=function(){var e,t,s;return function(a,i){for(t=-1,e=a.length;e-t>1;){s=e+t>>1,a[s]<=i?t=s:e=s;}return e;};}();var a,i;return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(i=s(this.x,e),a=i-1,(e-this.x[a])*(this.y[i]-this.y[a])/(this.x[i]-this.x[a])+this.y[a]):0;},this;}function i(){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline);}t({controller:{control:void 0,inverse:!1,by:"slide"}}),e.controller={control:void 0},s("beforeInit",function(){e.controller.control=e.params.controller.control;}),s("update",function(){i();}),s("resize",function(){i();}),s("observerUpdate",function(){i();}),s("setTranslate",function(t,s,a){e.controller.control&&e.controller.setTranslate(s,a);}),s("setTransition",function(t,s,a){e.controller.control&&e.controller.setTransition(s,a);}),Object.assign(e.controller,{setTranslate:function setTranslate(t,s){var i=e.controller.control;var r,n;var l=e.constructor;function o(t){var s=e.rtlTranslate?-e.translate:e.translate;"slide"===e.params.controller.by&&(!function(t){e.controller.spline||(e.controller.spline=e.params.loop?new a(e.slidesGrid,t.slidesGrid):new a(e.snapGrid,t.snapGrid));}(t),n=-e.controller.spline.interpolate(-s)),n&&"container"!==e.params.controller.by||(r=(t.maxTranslate()-t.minTranslate())/(e.maxTranslate()-e.minTranslate()),n=(s-e.minTranslate())*r+t.minTranslate()),e.params.controller.inverse&&(n=t.maxTranslate()-n),t.updateProgress(n),t.setTranslate(n,e),t.updateActiveIndex(),t.updateSlidesClasses();}if(Array.isArray(i))for(var _e69=0;_e69<i.length;_e69+=1){i[_e69]!==s&&i[_e69]instanceof l&&o(i[_e69]);}else i instanceof l&&s!==i&&o(i);},setTransition:function setTransition(t,s){var a=e.constructor,i=e.controller.control;var r;function n(s){s.setTransition(t,e),0!==t&&(s.transitionStart(),s.params.autoHeight&&p(function(){s.updateAutoHeight();}),s.$wrapperEl.transitionEnd(function(){i&&(s.params.loop&&"slide"===e.params.controller.by&&s.loopFix(),s.transitionEnd());}));}if(Array.isArray(i))for(r=0;r<i.length;r+=1){i[r]!==s&&i[r]instanceof a&&n(i[r]);}else i instanceof a&&s!==i&&n(i);}});},function(_ref18){var e=_ref18.swiper,t=_ref18.extendParams,s=_ref18.on;t({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group"}});var a=null;function i(e){var t=a;0!==t.length&&(t.html(""),t.html(e));}function r(e){e.attr("tabIndex","0");}function n(e){e.attr("tabIndex","-1");}function l(e,t){e.attr("role",t);}function o(e,t){e.attr("aria-roledescription",t);}function c(e,t){e.attr("aria-label",t);}function p(e){e.attr("aria-disabled",!0);}function u(e){e.attr("aria-disabled",!1);}function h(t){if(13!==t.keyCode&&32!==t.keyCode)return;var s=e.params.a11y,a=d(t.target);e.navigation&&e.navigation.$nextEl&&a.is(e.navigation.$nextEl)&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?i(s.lastSlideMessage):i(s.nextSlideMessage)),e.navigation&&e.navigation.$prevEl&&a.is(e.navigation.$prevEl)&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?i(s.firstSlideMessage):i(s.prevSlideMessage)),e.pagination&&a.is(W(e.params.pagination.bulletClass))&&a[0].click();}function m(){if(e.params.loop||!e.navigation)return;var _e$navigation5=e.navigation,t=_e$navigation5.$nextEl,s=_e$navigation5.$prevEl;s&&s.length>0&&(e.isBeginning?(p(s),n(s)):(u(s),r(s))),t&&t.length>0&&(e.isEnd?(p(t),n(t)):(u(t),r(t)));}function f(){return e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length;}var g=function g(e,t,s){r(e),"BUTTON"!==e[0].tagName&&(l(e,"button"),e.on("keydown",h)),c(e,s),function(e,t){e.attr("aria-controls",t);}(e,t);};function v(){var t=e.params.a11y;e.$el.append(a);var s=e.$el;t.containerRoleDescriptionMessage&&o(s,t.containerRoleDescriptionMessage),t.containerMessage&&c(s,t.containerMessage);var i=e.$wrapperEl,r=i.attr("id")||"swiper-wrapper-".concat(function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:16;return"x".repeat(e).replace(/x/g,function(){return Math.round(16*Math.random()).toString(16);});}(16)),n=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";var p;p=r,i.attr("id",p),function(e,t){e.attr("aria-live",t);}(i,n),t.itemRoleDescriptionMessage&&o(d(e.slides),t.itemRoleDescriptionMessage),l(d(e.slides),t.slideRole);var u=e.params.loop?e.slides.filter(function(t){return!t.classList.contains(e.params.slideDuplicateClass);}).length:e.slides.length;var m,v;e.slides.each(function(s,a){var i=d(s),r=e.params.loop?parseInt(i.attr("data-swiper-slide-index"),10):a;c(i,t.slideLabelMessage.replace(/\{\{index\}\}/,r+1).replace(/\{\{slidesLength\}\}/,u));}),e.navigation&&e.navigation.$nextEl&&(m=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&(v=e.navigation.$prevEl),m&&m.length&&g(m,r,t.nextSlideMessage),v&&v.length&&g(v,r,t.prevSlideMessage),f()&&e.pagination.$el.on("keydown",W(e.params.pagination.bulletClass),h);}s("beforeInit",function(){a=d("<span class=\"".concat(e.params.a11y.notificationClass,"\" aria-live=\"assertive\" aria-atomic=\"true\"></span>"));}),s("afterInit",function(){e.params.a11y.enabled&&(v(),m());}),s("toEdge",function(){e.params.a11y.enabled&&m();}),s("fromEdge",function(){e.params.a11y.enabled&&m();}),s("paginationUpdate",function(){e.params.a11y.enabled&&function(){var t=e.params.a11y;f()&&e.pagination.bullets.each(function(s){var a=d(s);r(a),e.params.pagination.renderBullet||(l(a,"button"),c(a,t.paginationBulletMessage.replace(/\{\{index\}\}/,a.index()+1)));});}();}),s("destroy",function(){e.params.a11y.enabled&&function(){var t,s;a&&a.length>0&&a.remove(),e.navigation&&e.navigation.$nextEl&&(t=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&(s=e.navigation.$prevEl),t&&t.off("keydown",h),s&&s.off("keydown",h),f()&&e.pagination.$el.off("keydown",W(e.params.pagination.bulletClass),h);}();});},function(_ref19){var e=_ref19.swiper,t=_ref19.extendParams,s=_ref19.on;t({history:{enabled:!1,root:"",replaceState:!1,key:"slides"}});var a=!1,i={};var n=function n(e){return e.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"");},l=function l(e){var t=r();var s;s=e?new URL(e):t.location;var a=s.pathname.slice(1).split("/").filter(function(e){return""!==e;}),i=a.length;return{key:a[i-2],value:a[i-1]};},o=function o(t,s){var i=r();if(!a||!e.params.history.enabled)return;var l;l=e.params.url?new URL(e.params.url):i.location;var o=e.slides.eq(s);var d=n(o.attr("data-history"));if(e.params.history.root.length>0){var _s41=e.params.history.root;"/"===_s41[_s41.length-1]&&(_s41=_s41.slice(0,_s41.length-1)),d="".concat(_s41,"/").concat(t,"/").concat(d);}else l.pathname.includes(t)||(d="".concat(t,"/").concat(d));var c=i.history.state;c&&c.value===d||(e.params.history.replaceState?i.history.replaceState({value:d},null,d):i.history.pushState({value:d},null,d));},d=function d(t,s,a){if(s)for(var _i15=0,_r11=e.slides.length;_i15<_r11;_i15+=1){var _r12=e.slides.eq(_i15);if(n(_r12.attr("data-history"))===s&&!_r12.hasClass(e.params.slideDuplicateClass)){var _s42=_r12.index();e.slideTo(_s42,t,a);}}else e.slideTo(0,t,a);},c=function c(){i=l(e.params.url),d(e.params.speed,e.paths.value,!1);};s("init",function(){e.params.history.enabled&&function(){var t=r();if(e.params.history){if(!t.history||!t.history.pushState)return e.params.history.enabled=!1,void(e.params.hashNavigation.enabled=!0);a=!0,i=l(e.params.url),(i.key||i.value)&&(d(0,i.value,e.params.runCallbacksOnInit),e.params.history.replaceState||t.addEventListener("popstate",c));}}();}),s("destroy",function(){e.params.history.enabled&&function(){var t=r();e.params.history.replaceState||t.removeEventListener("popstate",c);}();}),s("transitionEnd _freeModeNoMomentumRelease",function(){a&&o(e.params.history.key,e.activeIndex);}),s("slideChange",function(){a&&e.params.cssMode&&o(e.params.history.key,e.activeIndex);});},function(_ref20){var e=_ref20.swiper,t=_ref20.extendParams,s=_ref20.emit,i=_ref20.on;var n=!1;var l=a(),o=r();t({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}});var c=function c(){s("hashChange");var t=l.location.hash.replace("#","");if(t!==e.slides.eq(e.activeIndex).attr("data-hash")){var _s43=e.$wrapperEl.children(".".concat(e.params.slideClass,"[data-hash=\"").concat(t,"\"]")).index();if(void 0===_s43)return;e.slideTo(_s43);}},p=function p(){if(n&&e.params.hashNavigation.enabled)if(e.params.hashNavigation.replaceState&&o.history&&o.history.replaceState)o.history.replaceState(null,null,"#".concat(e.slides.eq(e.activeIndex).attr("data-hash"))||""),s("hashSet");else{var _t47=e.slides.eq(e.activeIndex),_a24=_t47.attr("data-hash")||_t47.attr("data-history");l.location.hash=_a24||"",s("hashSet");}};i("init",function(){e.params.hashNavigation.enabled&&function(){if(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)return;n=!0;var t=l.location.hash.replace("#","");if(t){var _s44=0;for(var _a25=0,_i16=e.slides.length;_a25<_i16;_a25+=1){var _i17=e.slides.eq(_a25);if((_i17.attr("data-hash")||_i17.attr("data-history"))===t&&!_i17.hasClass(e.params.slideDuplicateClass)){var _t48=_i17.index();e.slideTo(_t48,_s44,e.params.runCallbacksOnInit,!0);}}}e.params.hashNavigation.watchState&&d(o).on("hashchange",c);}();}),i("destroy",function(){e.params.hashNavigation.enabled&&e.params.hashNavigation.watchState&&d(o).off("hashchange",c);}),i("transitionEnd _freeModeNoMomentumRelease",function(){n&&p();}),i("slideChange",function(){n&&e.params.cssMode&&p();});},function(_ref21){var e=_ref21.swiper,t=_ref21.extendParams,s=_ref21.on,i=_ref21.emit;var r;function n(){var t=e.slides.eq(e.activeIndex);var s=e.params.autoplay.delay;t.attr("data-swiper-autoplay")&&(s=t.attr("data-swiper-autoplay")||e.params.autoplay.delay),clearTimeout(r),r=p(function(){var t;e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),t=e.slidePrev(e.params.speed,!0,!0),i("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?o():(t=e.slideTo(e.slides.length-1,e.params.speed,!0,!0),i("autoplay")):(t=e.slidePrev(e.params.speed,!0,!0),i("autoplay")):e.params.loop?(e.loopFix(),t=e.slideNext(e.params.speed,!0,!0),i("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?o():(t=e.slideTo(0,e.params.speed,!0,!0),i("autoplay")):(t=e.slideNext(e.params.speed,!0,!0),i("autoplay")),(e.params.cssMode&&e.autoplay.running||!1===t)&&n();},s);}function l(){return void 0===r&&!e.autoplay.running&&(e.autoplay.running=!0,i("autoplayStart"),n(),!0);}function o(){return!!e.autoplay.running&&void 0!==r&&(r&&(clearTimeout(r),r=void 0),e.autoplay.running=!1,i("autoplayStop"),!0);}function d(t){e.autoplay.running&&(e.autoplay.paused||(r&&clearTimeout(r),e.autoplay.paused=!0,0!==t&&e.params.autoplay.waitForTransition?["transitionend","webkitTransitionEnd"].forEach(function(t){e.$wrapperEl[0].addEventListener(t,u);}):(e.autoplay.paused=!1,n())));}function c(){var t=a();"hidden"===t.visibilityState&&e.autoplay.running&&d(),"visible"===t.visibilityState&&e.autoplay.paused&&(n(),e.autoplay.paused=!1);}function u(t){e&&!e.destroyed&&e.$wrapperEl&&t.target===e.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(function(t){e.$wrapperEl[0].removeEventListener(t,u);}),e.autoplay.paused=!1,e.autoplay.running?n():o());}function h(){e.params.autoplay.disableOnInteraction?o():d(),["transitionend","webkitTransitionEnd"].forEach(function(t){e.$wrapperEl[0].removeEventListener(t,u);});}function m(){e.params.autoplay.disableOnInteraction||(e.autoplay.paused=!1,n());}e.autoplay={running:!1,paused:!1},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}}),s("init",function(){if(e.params.autoplay.enabled){l();a().addEventListener("visibilitychange",c),e.params.autoplay.pauseOnMouseEnter&&(e.$el.on("mouseenter",h),e.$el.on("mouseleave",m));}}),s("beforeTransitionStart",function(t,s,a){e.autoplay.running&&(a||!e.params.autoplay.disableOnInteraction?e.autoplay.pause(s):o());}),s("sliderFirstMove",function(){e.autoplay.running&&(e.params.autoplay.disableOnInteraction?o():d());}),s("touchEnd",function(){e.params.cssMode&&e.autoplay.paused&&!e.params.autoplay.disableOnInteraction&&n();}),s("destroy",function(){e.$el.off("mouseenter",h),e.$el.off("mouseleave",m),e.autoplay.running&&o();a().removeEventListener("visibilitychange",c);}),Object.assign(e.autoplay,{pause:d,run:n,start:l,stop:o});},function(_ref22){var e=_ref22.swiper,t=_ref22.extendParams,s=_ref22.on;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});var a=!1,i=!1;function r(){var t=e.thumbs.swiper;if(!t)return;var s=t.clickedIndex,a=t.clickedSlide;if(a&&d(a).hasClass(e.params.thumbs.slideThumbActiveClass))return;if(null==s)return;var i;if(i=t.params.loop?parseInt(d(t.clickedSlide).attr("data-swiper-slide-index"),10):s,e.params.loop){var _t49=e.activeIndex;e.slides.eq(_t49).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,_t49=e.activeIndex);var _s45=e.slides.eq(_t49).prevAll("[data-swiper-slide-index=\"".concat(i,"\"]")).eq(0).index(),_a26=e.slides.eq(_t49).nextAll("[data-swiper-slide-index=\"".concat(i,"\"]")).eq(0).index();i=void 0===_s45?_a26:void 0===_a26?_s45:_a26-_t49<_t49-_s45?_a26:_s45;}e.slideTo(i);}function n(){var t=e.params.thumbs;if(a)return!1;a=!0;var s=e.constructor;if(t.swiper instanceof s)e.thumbs.swiper=t.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1});else if(m(t.swiper)){var _a27=Object.assign({},t.swiper);Object.assign(_a27,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new s(_a27),i=!0;}return e.thumbs.swiper.$el.addClass(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",r),!0;}function l(t){var s=e.thumbs.swiper;if(!s)return;var a="auto"===s.params.slidesPerView?s.slidesPerViewDynamic():s.params.slidesPerView,i=e.params.thumbs.autoScrollOffset,r=i&&!s.params.loop;if(e.realIndex!==s.realIndex||r){var _n10,_l8,_o7=s.activeIndex;if(s.params.loop){s.slides.eq(_o7).hasClass(s.params.slideDuplicateClass)&&(s.loopFix(),s._clientLeft=s.$wrapperEl[0].clientLeft,_o7=s.activeIndex);var _t50=s.slides.eq(_o7).prevAll("[data-swiper-slide-index=\"".concat(e.realIndex,"\"]")).eq(0).index(),_a28=s.slides.eq(_o7).nextAll("[data-swiper-slide-index=\"".concat(e.realIndex,"\"]")).eq(0).index();_n10=void 0===_t50?_a28:void 0===_a28?_t50:_a28-_o7==_o7-_t50?s.params.slidesPerGroup>1?_a28:_o7:_a28-_o7<_o7-_t50?_a28:_t50,_l8=e.activeIndex>e.previousIndex?"next":"prev";}else _n10=e.realIndex,_l8=_n10>e.previousIndex?"next":"prev";r&&(_n10+="next"===_l8?i:-1*i),s.visibleSlidesIndexes&&s.visibleSlidesIndexes.indexOf(_n10)<0&&(s.params.centeredSlides?_n10=_n10>_o7?_n10-Math.floor(a/2)+1:_n10+Math.floor(a/2)-1:_n10>_o7&&s.params.slidesPerGroup,s.slideTo(_n10,t?0:void 0));}var n=1;var l=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(n=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(n=1),n=Math.floor(n),s.slides.removeClass(l),s.params.loop||s.params.virtual&&s.params.virtual.enabled)for(var _t51=0;_t51<n;_t51+=1){s.$wrapperEl.children("[data-swiper-slide-index=\"".concat(e.realIndex+_t51,"\"]")).addClass(l);}else for(var _t52=0;_t52<n;_t52+=1){s.slides.eq(e.realIndex+_t52).addClass(l);}}e.thumbs={swiper:null},s("beforeInit",function(){var t=e.params.thumbs;t&&t.swiper&&(n(),l(!0));}),s("slideChange update resize observerUpdate",function(){e.thumbs.swiper&&l();}),s("setTransition",function(t,s){var a=e.thumbs.swiper;a&&a.setTransition(s);}),s("beforeDestroy",function(){var t=e.thumbs.swiper;t&&i&&t&&t.destroy();}),Object.assign(e.thumbs,{init:n,update:l});},function(_ref23){var e=_ref23.swiper,t=_ref23.extendParams,s=_ref23.emit,a=_ref23.once;t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(e,{freeMode:{onTouchMove:function onTouchMove(){var t=e.touchEventsData,s=e.touches;0===t.velocities.length&&t.velocities.push({position:s[e.isHorizontal()?"startX":"startY"],time:t.touchStartTime}),t.velocities.push({position:s[e.isHorizontal()?"currentX":"currentY"],time:u()});},onTouchEnd:function onTouchEnd(_ref24){var t=_ref24.currentPos;var i=e.params,r=e.$wrapperEl,n=e.rtlTranslate,l=e.snapGrid,o=e.touchEventsData,d=u()-o.touchStartTime;if(t<-e.minTranslate())e.slideTo(e.activeIndex);else if(t>-e.maxTranslate())e.slides.length<l.length?e.slideTo(l.length-1):e.slideTo(e.slides.length-1);else{if(i.freeMode.momentum){if(o.velocities.length>1){var _t54=o.velocities.pop(),_s46=o.velocities.pop(),_a29=_t54.position-_s46.position,_r13=_t54.time-_s46.time;e.velocity=_a29/_r13,e.velocity/=2,Math.abs(e.velocity)<i.freeMode.minimumVelocity&&(e.velocity=0),(_r13>150||u()-_t54.time>300)&&(e.velocity=0);}else e.velocity=0;e.velocity*=i.freeMode.momentumVelocityRatio,o.velocities.length=0;var _t53=1e3*i.freeMode.momentumRatio;var _d6=e.velocity*_t53;var _c4=e.translate+_d6;n&&(_c4=-_c4);var _p2,_h=!1;var _m=20*Math.abs(e.velocity)*i.freeMode.momentumBounceRatio;var _f;if(_c4<e.maxTranslate())i.freeMode.momentumBounce?(_c4+e.maxTranslate()<-_m&&(_c4=e.maxTranslate()-_m),_p2=e.maxTranslate(),_h=!0,o.allowMomentumBounce=!0):_c4=e.maxTranslate(),i.loop&&i.centeredSlides&&(_f=!0);else if(_c4>e.minTranslate())i.freeMode.momentumBounce?(_c4-e.minTranslate()>_m&&(_c4=e.minTranslate()+_m),_p2=e.minTranslate(),_h=!0,o.allowMomentumBounce=!0):_c4=e.minTranslate(),i.loop&&i.centeredSlides&&(_f=!0);else if(i.freeMode.sticky){var _t55;for(var _e70=0;_e70<l.length;_e70+=1){if(l[_e70]>-_c4){_t55=_e70;break;}}_c4=Math.abs(l[_t55]-_c4)<Math.abs(l[_t55-1]-_c4)||"next"===e.swipeDirection?l[_t55]:l[_t55-1],_c4=-_c4;}if(_f&&a("transitionEnd",function(){e.loopFix();}),0!==e.velocity){if(_t53=n?Math.abs((-_c4-e.translate)/e.velocity):Math.abs((_c4-e.translate)/e.velocity),i.freeMode.sticky){var _s47=Math.abs((n?-_c4:_c4)-e.translate),_a30=e.slidesSizesGrid[e.activeIndex];_t53=_s47<_a30?i.speed:_s47<2*_a30?1.5*i.speed:2.5*i.speed;}}else if(i.freeMode.sticky)return void e.slideToClosest();i.freeMode.momentumBounce&&_h?(e.updateProgress(_p2),e.setTransition(_t53),e.setTranslate(_c4),e.transitionStart(!0,e.swipeDirection),e.animating=!0,r.transitionEnd(function(){e&&!e.destroyed&&o.allowMomentumBounce&&(s("momentumBounce"),e.setTransition(i.speed),setTimeout(function(){e.setTranslate(_p2),r.transitionEnd(function(){e&&!e.destroyed&&e.transitionEnd();});},0));})):e.velocity?(s("_freeModeNoMomentumRelease"),e.updateProgress(_c4),e.setTransition(_t53),e.setTranslate(_c4),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,r.transitionEnd(function(){e&&!e.destroyed&&e.transitionEnd();}))):e.updateProgress(_c4),e.updateActiveIndex(),e.updateSlidesClasses();}else{if(i.freeMode.sticky)return void e.slideToClosest();i.freeMode&&s("_freeModeNoMomentumRelease");}(!i.freeMode.momentum||d>=i.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses());}}}});},function(_ref25){var e=_ref25.swiper,t=_ref25.extendParams;var s,a,i;t({grid:{rows:1,fill:"column"}}),e.grid={initSlides:function initSlides(t){var r=e.params.slidesPerView,_e$params$grid=e.params.grid,n=_e$params$grid.rows,l=_e$params$grid.fill;a=s/n,i=Math.floor(t/n),s=Math.floor(t/n)===t/n?t:Math.ceil(t/n)*n,"auto"!==r&&"row"===l&&(s=Math.max(s,r*n));},updateSlide:function updateSlide(t,r,n,l){var _e$params3=e.params,o=_e$params3.slidesPerGroup,d=_e$params3.spaceBetween,_e$params$grid2=e.params.grid,c=_e$params$grid2.rows,p=_e$params$grid2.fill;var u,h,m;if("row"===p&&o>1){var _e71=Math.floor(t/(o*c)),_a31=t-c*o*_e71,_i18=0===_e71?o:Math.min(Math.ceil((n-_e71*c*o)/c),o);m=Math.floor(_a31/_i18),h=_a31-m*_i18+_e71*o,u=h+m*s/c,r.css({"-webkit-order":u,order:u});}else"column"===p?(h=Math.floor(t/c),m=t-h*c,(h>i||h===i&&m===c-1)&&(m+=1,m>=c&&(m=0,h+=1))):(m=Math.floor(t/a),h=t-m*a);r.css(l("margin-top"),0!==m?d&&"".concat(d,"px"):"");},updateWrapperSize:function updateWrapperSize(t,a,i){var _e$params4=e.params,r=_e$params4.spaceBetween,n=_e$params4.centeredSlides,l=_e$params4.roundLengths,o=e.params.grid.rows;if(e.virtualSize=(t+r)*s,e.virtualSize=Math.ceil(e.virtualSize/o)-r,e.$wrapperEl.css(_defineProperty({},i("width"),"".concat(e.virtualSize+r,"px"))),n){a.splice(0,a.length);var _t56=[];for(var _s48=0;_s48<a.length;_s48+=1){var _i19=a[_s48];l&&(_i19=Math.floor(_i19)),a[_s48]<e.virtualSize+a[0]&&_t56.push(_i19);}a.push.apply(a,_t56);}}};},function(_ref26){var e=_ref26.swiper;Object.assign(e,{appendSlide:R.bind(e),prependSlide:j.bind(e),addSlide:_.bind(e),removeSlide:V.bind(e),removeAllSlides:q.bind(e)});},function(_ref27){var e=_ref27.swiper,t=_ref27.extendParams,s=_ref27.on;t({fadeEffect:{crossFade:!1,transformEl:null}}),F({effect:"fade",swiper:e,on:s,setTranslate:function setTranslate(){var t=e.slides,s=e.params.fadeEffect;for(var _a32=0;_a32<t.length;_a32+=1){var _t57=e.slides.eq(_a32);var _i20=-_t57[0].swiperSlideOffset;e.params.virtualTranslate||(_i20-=e.translate);var _r14=0;e.isHorizontal()||(_r14=_i20,_i20=0);var _n11=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(_t57[0].progress),0):1+Math.min(Math.max(_t57[0].progress,-1),0);U(s,_t57).css({opacity:_n11}).transform("translate3d(".concat(_i20,"px, ").concat(_r14,"px, 0px)"));}},setTransition:function setTransition(t){var s=e.params.fadeEffect.transformEl;(s?e.slides.find(s):e.slides).transition(t),K({swiper:e,duration:t,transformEl:s,allSlides:!0});},overwriteParams:function overwriteParams(){return{slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode};}});},function(_ref28){var e=_ref28.swiper,t=_ref28.extendParams,s=_ref28.on;t({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}}),F({effect:"cube",swiper:e,on:s,setTranslate:function setTranslate(){var t=e.$el,s=e.$wrapperEl,a=e.slides,i=e.width,r=e.height,n=e.rtlTranslate,l=e.size,o=e.browser,c=e.params.cubeEffect,p=e.isHorizontal(),u=e.virtual&&e.params.virtual.enabled;var h,m=0;c.shadow&&(p?(h=s.find(".swiper-cube-shadow"),0===h.length&&(h=d('<div class="swiper-cube-shadow"></div>'),s.append(h)),h.css({height:"".concat(i,"px")})):(h=t.find(".swiper-cube-shadow"),0===h.length&&(h=d('<div class="swiper-cube-shadow"></div>'),t.append(h))));for(var _e72=0;_e72<a.length;_e72+=1){var _t58=a.eq(_e72);var _s49=_e72;u&&(_s49=parseInt(_t58.attr("data-swiper-slide-index"),10));var _i21=90*_s49,_r15=Math.floor(_i21/360);n&&(_i21=-_i21,_r15=Math.floor(-_i21/360));var _o8=Math.max(Math.min(_t58[0].progress,1),-1);var _h2=0,_f2=0,_g=0;_s49%4==0?(_h2=4*-_r15*l,_g=0):(_s49-1)%4==0?(_h2=0,_g=4*-_r15*l):(_s49-2)%4==0?(_h2=l+4*_r15*l,_g=l):(_s49-3)%4==0&&(_h2=-l,_g=3*l+4*l*_r15),n&&(_h2=-_h2),p||(_f2=_h2,_h2=0);var _v="rotateX(".concat(p?0:-_i21,"deg) rotateY(").concat(p?_i21:0,"deg) translate3d(").concat(_h2,"px, ").concat(_f2,"px, ").concat(_g,"px)");if(_o8<=1&&_o8>-1&&(m=90*_s49+90*_o8,n&&(m=90*-_s49-90*_o8)),_t58.transform(_v),c.slideShadows){var _e73=p?_t58.find(".swiper-slide-shadow-left"):_t58.find(".swiper-slide-shadow-top"),_s50=p?_t58.find(".swiper-slide-shadow-right"):_t58.find(".swiper-slide-shadow-bottom");0===_e73.length&&(_e73=d("<div class=\"swiper-slide-shadow-".concat(p?"left":"top","\"></div>")),_t58.append(_e73)),0===_s50.length&&(_s50=d("<div class=\"swiper-slide-shadow-".concat(p?"right":"bottom","\"></div>")),_t58.append(_s50)),_e73.length&&(_e73[0].style.opacity=Math.max(-_o8,0)),_s50.length&&(_s50[0].style.opacity=Math.max(_o8,0));}}if(s.css({"-webkit-transform-origin":"50% 50% -".concat(l/2,"px"),"transform-origin":"50% 50% -".concat(l/2,"px")}),c.shadow)if(p)h.transform("translate3d(0px, ".concat(i/2+c.shadowOffset,"px, ").concat(-i/2,"px) rotateX(90deg) rotateZ(0deg) scale(").concat(c.shadowScale,")"));else{var _e74=Math.abs(m)-90*Math.floor(Math.abs(m)/90),_t59=1.5-(Math.sin(2*_e74*Math.PI/360)/2+Math.cos(2*_e74*Math.PI/360)/2),_s51=c.shadowScale,_a33=c.shadowScale/_t59,_i22=c.shadowOffset;h.transform("scale3d(".concat(_s51,", 1, ").concat(_a33,") translate3d(0px, ").concat(r/2+_i22,"px, ").concat(-r/2/_a33,"px) rotateX(-90deg)"));}var f=o.isSafari||o.isWebView?-l/2:0;s.transform("translate3d(0px,0,".concat(f,"px) rotateX(").concat(e.isHorizontal()?0:m,"deg) rotateY(").concat(e.isHorizontal()?-m:0,"deg)"));},setTransition:function setTransition(t){var s=e.$el,a=e.slides;a.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),e.params.cubeEffect.shadow&&!e.isHorizontal()&&s.find(".swiper-cube-shadow").transition(t);},perspective:function perspective(){return!0;},overwriteParams:function overwriteParams(){return{slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};}});},function(_ref29){var e=_ref29.swiper,t=_ref29.extendParams,s=_ref29.on;t({flipEffect:{slideShadows:!0,limitRotation:!0,transformEl:null}}),F({effect:"flip",swiper:e,on:s,setTranslate:function setTranslate(){var t=e.slides,s=e.rtlTranslate,a=e.params.flipEffect;for(var _i23=0;_i23<t.length;_i23+=1){var _r16=t.eq(_i23);var _n12=_r16[0].progress;e.params.flipEffect.limitRotation&&(_n12=Math.max(Math.min(_r16[0].progress,1),-1));var _l9=_r16[0].swiperSlideOffset;var _o9=-180*_n12,_d7=0,_c5=e.params.cssMode?-_l9-e.translate:-_l9,_p3=0;if(e.isHorizontal()?s&&(_o9=-_o9):(_p3=_c5,_c5=0,_d7=-_o9,_o9=0),_r16[0].style.zIndex=-Math.abs(Math.round(_n12))+t.length,a.slideShadows){var _t60=e.isHorizontal()?_r16.find(".swiper-slide-shadow-left"):_r16.find(".swiper-slide-shadow-top"),_s52=e.isHorizontal()?_r16.find(".swiper-slide-shadow-right"):_r16.find(".swiper-slide-shadow-bottom");0===_t60.length&&(_t60=Z(a,_r16,e.isHorizontal()?"left":"top")),0===_s52.length&&(_s52=Z(a,_r16,e.isHorizontal()?"right":"bottom")),_t60.length&&(_t60[0].style.opacity=Math.max(-_n12,0)),_s52.length&&(_s52[0].style.opacity=Math.max(_n12,0));}var _u4="translate3d(".concat(_c5,"px, ").concat(_p3,"px, 0px) rotateX(").concat(_d7,"deg) rotateY(").concat(_o9,"deg)");U(a,_r16).transform(_u4);}},setTransition:function setTransition(t){var s=e.params.flipEffect.transformEl;(s?e.slides.find(s):e.slides).transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),K({swiper:e,duration:t,transformEl:s});},perspective:function perspective(){return!0;},overwriteParams:function overwriteParams(){return{slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode};}});},function(_ref30){var e=_ref30.swiper,t=_ref30.extendParams,s=_ref30.on;t({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0,transformEl:null}}),F({effect:"coverflow",swiper:e,on:s,setTranslate:function setTranslate(){var t=e.width,s=e.height,a=e.slides,i=e.slidesSizesGrid,r=e.params.coverflowEffect,n=e.isHorizontal(),l=e.translate,o=n?t/2-l:s/2-l,d=n?r.rotate:-r.rotate,c=r.depth;for(var _e75=0,_t61=a.length;_e75<_t61;_e75+=1){var _t62=a.eq(_e75),_s53=i[_e75],_l10=(o-_t62[0].swiperSlideOffset-_s53/2)/_s53*r.modifier;var _p4=n?d*_l10:0,_u5=n?0:d*_l10,_h3=-c*Math.abs(_l10),_m2=r.stretch;"string"==typeof _m2&&-1!==_m2.indexOf("%")&&(_m2=parseFloat(r.stretch)/100*_s53);var _f3=n?0:_m2*_l10,_g2=n?_m2*_l10:0,_v2=1-(1-r.scale)*Math.abs(_l10);Math.abs(_g2)<.001&&(_g2=0),Math.abs(_f3)<.001&&(_f3=0),Math.abs(_h3)<.001&&(_h3=0),Math.abs(_p4)<.001&&(_p4=0),Math.abs(_u5)<.001&&(_u5=0),Math.abs(_v2)<.001&&(_v2=0);var _w="translate3d(".concat(_g2,"px,").concat(_f3,"px,").concat(_h3,"px)  rotateX(").concat(_u5,"deg) rotateY(").concat(_p4,"deg) scale(").concat(_v2,")");if(U(r,_t62).transform(_w),_t62[0].style.zIndex=1-Math.abs(Math.round(_l10)),r.slideShadows){var _e76=n?_t62.find(".swiper-slide-shadow-left"):_t62.find(".swiper-slide-shadow-top"),_s54=n?_t62.find(".swiper-slide-shadow-right"):_t62.find(".swiper-slide-shadow-bottom");0===_e76.length&&(_e76=Z(r,_t62,n?"left":"top")),0===_s54.length&&(_s54=Z(r,_t62,n?"right":"bottom")),_e76.length&&(_e76[0].style.opacity=_l10>0?_l10:0),_s54.length&&(_s54[0].style.opacity=-_l10>0?-_l10:0);}}},setTransition:function setTransition(t){var s=e.params.coverflowEffect.transformEl;(s?e.slides.find(s):e.slides).transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t);},perspective:function perspective(){return!0;},overwriteParams:function overwriteParams(){return{watchSlidesProgress:!0};}});},function(_ref31){var e=_ref31.swiper,t=_ref31.extendParams,s=_ref31.on;t({creativeEffect:{transformEl:null,limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});var a=function a(e){return"string"==typeof e?e:"".concat(e,"px");};F({effect:"creative",swiper:e,on:s,setTranslate:function setTranslate(){var t=e.slides,s=e.$wrapperEl,i=e.slidesSizesGrid,r=e.params.creativeEffect,n=r.progressMultiplier,l=e.params.centeredSlides;if(l){var _t63=i[0]/2-e.params.slidesOffsetBefore||0;s.transform("translateX(calc(50% - ".concat(_t63,"px))"));}var _loop2=function _loop2(_s55){var i=t.eq(_s55),o=i[0].progress,d=Math.min(Math.max(i[0].progress,-r.limitProgress),r.limitProgress);var c=d;l||(c=Math.min(Math.max(i[0].originalProgress,-r.limitProgress),r.limitProgress));var p=i[0].swiperSlideOffset,u=[e.params.cssMode?-p-e.translate:-p,0,0],h=[0,0,0];var m=!1;e.isHorizontal()||(u[1]=u[0],u[0]=0);var f={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};d<0?(f=r.next,m=!0):d>0&&(f=r.prev,m=!0),u.forEach(function(e,t){u[t]="calc(".concat(e,"px + (").concat(a(f.translate[t])," * ").concat(Math.abs(d*n),"))");}),h.forEach(function(e,t){h[t]=f.rotate[t]*Math.abs(d*n);}),i[0].style.zIndex=-Math.abs(Math.round(o))+t.length;var g=u.join(", "),v="rotateX(".concat(h[0],"deg) rotateY(").concat(h[1],"deg) rotateZ(").concat(h[2],"deg)"),w=c<0?"scale(".concat(1+(1-f.scale)*c*n,")"):"scale(".concat(1-(1-f.scale)*c*n,")"),b=c<0?1+(1-f.opacity)*c*n:1-(1-f.opacity)*c*n,x="translate3d(".concat(g,") ").concat(v," ").concat(w);if(m&&f.shadow||!m){var _e77=i.children(".swiper-slide-shadow");if(0===_e77.length&&f.shadow&&(_e77=Z(r,i)),_e77.length){var _t64=r.shadowPerProgress?d*(1/r.limitProgress):d;_e77[0].style.opacity=Math.min(Math.max(Math.abs(_t64),0),1);}}var y=U(r,i);y.transform(x).css({opacity:b}),f.origin&&y.css("transform-origin",f.origin);};for(var _s55=0;_s55<t.length;_s55+=1){_loop2(_s55);}},setTransition:function setTransition(t){var s=e.params.creativeEffect.transformEl;(s?e.slides.find(s):e.slides).transition(t).find(".swiper-slide-shadow").transition(t),K({swiper:e,duration:t,transformEl:s,allSlides:!0});},perspective:function perspective(){return e.params.creativeEffect.perspective;},overwriteParams:function overwriteParams(){return{watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode};}});},function(_ref32){var e=_ref32.swiper,t=_ref32.extendParams,s=_ref32.on;t({cardsEffect:{slideShadows:!0,transformEl:null}}),F({effect:"cards",swiper:e,on:s,setTranslate:function setTranslate(){var t=e.slides,s=e.activeIndex,a=e.params.cardsEffect,_e$touchEventsData=e.touchEventsData,i=_e$touchEventsData.startTranslate,r=_e$touchEventsData.isTouched,n=e.translate;for(var _l11=0;_l11<t.length;_l11+=1){var _o10=t.eq(_l11),_d8=_o10[0].progress,_c6=Math.min(Math.max(_d8,-4),4);var _p5=_o10[0].swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&e.$wrapperEl.transform("translateX(".concat(e.minTranslate(),"px)")),e.params.centeredSlides&&e.params.cssMode&&(_p5-=t[0].swiperSlideOffset);var _u6=e.params.cssMode?-_p5-e.translate:-_p5,_h4=0;var _m3=-100*Math.abs(_c6);var _f4=1,_g3=-2*_c6,_v3=8-.75*Math.abs(_c6);var _w2=(_l11===s||_l11===s-1)&&_c6>0&&_c6<1&&(r||e.params.cssMode)&&n<i,_b=(_l11===s||_l11===s+1)&&_c6<0&&_c6>-1&&(r||e.params.cssMode)&&n>i;if(_w2||_b){var _e78=Math.pow(1-Math.abs((Math.abs(_c6)-.5)/.5),.5);_g3+=-28*_c6*_e78,_f4+=-.5*_e78,_v3+=96*_e78,_h4=-25*_e78*Math.abs(_c6)+"%";}if(_u6=_c6<0?"calc(".concat(_u6,"px + (").concat(_v3*Math.abs(_c6),"%))"):_c6>0?"calc(".concat(_u6,"px + (-").concat(_v3*Math.abs(_c6),"%))"):"".concat(_u6,"px"),!e.isHorizontal()){var _e79=_h4;_h4=_u6,_u6=_e79;}var _x="\n        translate3d(".concat(_u6,", ").concat(_h4,", ").concat(_m3,"px)\n        rotateZ(").concat(_g3,"deg)\n        scale(").concat(_c6<0?""+(1+(1-_f4)*_c6):""+(1-(1-_f4)*_c6),")\n      ");if(a.slideShadows){var _e80=_o10.find(".swiper-slide-shadow");0===_e80.length&&(_e80=Z(a,_o10)),_e80.length&&(_e80[0].style.opacity=Math.min(Math.max((Math.abs(_c6)-.5)/.5,0),1));}_o10[0].style.zIndex=-Math.abs(Math.round(_d8))+t.length;U(a,_o10).transform(_x);}},setTransition:function setTransition(t){var s=e.params.cardsEffect.transformEl;(s?e.slides.find(s):e.slides).transition(t).find(".swiper-slide-shadow").transition(t),K({swiper:e,duration:t,transformEl:s});},perspective:function perspective(){return!0;},overwriteParams:function overwriteParams(){return{watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode};}});}];return H.use(J),H;});/*!
 * Chart.js v3.6.0
 * https://www.chartjs.org
 * (c) 2021 Chart.js Contributors
 * Released under the MIT License
 */(function(global,factory){(typeof exports==="undefined"?"undefined":_typeof(exports))==='object'&&typeof module!=='undefined'?module.exports=factory():typeof define==='function'&&define.amd?define(factory):(global=typeof globalThis!=='undefined'?globalThis:global||self,global.Chart=factory());})(void 0,function(){'use strict';function fontString(pixelSize,fontStyle,fontFamily){return fontStyle+' '+pixelSize+'px '+fontFamily;}var requestAnimFrame=function(){if(typeof window==='undefined'){return function(callback){return callback();};}return window.requestAnimationFrame;}();function throttled(fn,thisArg,updateFn){var updateArgs=updateFn||function(args){return Array.prototype.slice.call(args);};var ticking=false;var args=[];return function(){for(var _len11=arguments.length,rest=new Array(_len11),_key11=0;_key11<_len11;_key11++){rest[_key11]=arguments[_key11];}args=updateArgs(rest);if(!ticking){ticking=true;requestAnimFrame.call(window,function(){ticking=false;fn.apply(thisArg,args);});}};}function debounce(fn,delay){var timeout;return function(){for(var _len12=arguments.length,args=new Array(_len12),_key12=0;_key12<_len12;_key12++){args[_key12]=arguments[_key12];}if(delay){clearTimeout(timeout);timeout=setTimeout(fn,delay,args);}else{fn.apply(this,args);}return delay;};}var _toLeftRightCenter=function _toLeftRightCenter(align){return align==='start'?'left':align==='end'?'right':'center';};var _alignStartEnd=function _alignStartEnd(align,start,end){return align==='start'?start:align==='end'?end:(start+end)/2;};var _textX=function _textX(align,left,right,rtl){var check=rtl?'left':'right';return align===check?right:align==='center'?(left+right)/2:left;};var Animator=/*#__PURE__*/function(){function Animator(){_classCallCheck(this,Animator);this._request=null;this._charts=new Map();this._running=false;this._lastDate=undefined;}_createClass(Animator,[{key:"_notify",value:function _notify(chart,anims,date,type){var callbacks=anims.listeners[type];var numSteps=anims.duration;callbacks.forEach(function(fn){return fn({chart:chart,initial:anims.initial,numSteps:numSteps,currentStep:Math.min(date-anims.start,numSteps)});});}},{key:"_refresh",value:function _refresh(){var _this2=this;if(this._request){return;}this._running=true;this._request=requestAnimFrame.call(window,function(){_this2._update();_this2._request=null;if(_this2._running){_this2._refresh();}});}},{key:"_update",value:function _update(){var _this3=this;var date=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Date.now();var remaining=0;this._charts.forEach(function(anims,chart){if(!anims.running||!anims.items.length){return;}var items=anims.items;var i=items.length-1;var draw=false;var item;for(;i>=0;--i){item=items[i];if(item._active){if(item._total>anims.duration){anims.duration=item._total;}item.tick(date);draw=true;}else{items[i]=items[items.length-1];items.pop();}}if(draw){chart.draw();_this3._notify(chart,anims,date,'progress');}if(!items.length){anims.running=false;_this3._notify(chart,anims,date,'complete');anims.initial=false;}remaining+=items.length;});this._lastDate=date;if(remaining===0){this._running=false;}}},{key:"_getAnims",value:function _getAnims(chart){var charts=this._charts;var anims=charts.get(chart);if(!anims){anims={running:false,initial:true,items:[],listeners:{complete:[],progress:[]}};charts.set(chart,anims);}return anims;}},{key:"listen",value:function listen(chart,event,cb){this._getAnims(chart).listeners[event].push(cb);}},{key:"add",value:function add(chart,items){var _this$_getAnims$items;if(!items||!items.length){return;}(_this$_getAnims$items=this._getAnims(chart).items).push.apply(_this$_getAnims$items,_toConsumableArray(items));}},{key:"has",value:function has(chart){return this._getAnims(chart).items.length>0;}},{key:"start",value:function start(chart){var anims=this._charts.get(chart);if(!anims){return;}anims.running=true;anims.start=Date.now();anims.duration=anims.items.reduce(function(acc,cur){return Math.max(acc,cur._duration);},0);this._refresh();}},{key:"running",value:function running(chart){if(!this._running){return false;}var anims=this._charts.get(chart);if(!anims||!anims.running||!anims.items.length){return false;}return true;}},{key:"stop",value:function stop(chart){var anims=this._charts.get(chart);if(!anims||!anims.items.length){return;}var items=anims.items;var i=items.length-1;for(;i>=0;--i){items[i].cancel();}anims.items=[];this._notify(chart,anims,Date.now(),'complete');}},{key:"remove",value:function remove(chart){return this._charts["delete"](chart);}}]);return Animator;}();var animator=new Animator();/*!
 * @kurkle/color v0.1.9
 * https://github.com/kurkle/color#readme
 * (c) 2020 Jukka Kurkela
 * Released under the MIT License
 */var map$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};var hex='0123456789ABCDEF';var h1=function h1(b){return hex[b&0xF];};var h2=function h2(b){return hex[(b&0xF0)>>4]+hex[b&0xF];};var eq=function eq(b){return(b&0xF0)>>4===(b&0xF);};function isShort(v){return eq(v.r)&&eq(v.g)&&eq(v.b)&&eq(v.a);}function hexParse(str){var len=str.length;var ret;if(str[0]==='#'){if(len===4||len===5){ret={r:255&map$1[str[1]]*17,g:255&map$1[str[2]]*17,b:255&map$1[str[3]]*17,a:len===5?map$1[str[4]]*17:255};}else if(len===7||len===9){ret={r:map$1[str[1]]<<4|map$1[str[2]],g:map$1[str[3]]<<4|map$1[str[4]],b:map$1[str[5]]<<4|map$1[str[6]],a:len===9?map$1[str[7]]<<4|map$1[str[8]]:255};}}return ret;}function _hexString(v){var f=isShort(v)?h1:h2;return v?'#'+f(v.r)+f(v.g)+f(v.b)+(v.a<255?f(v.a):''):v;}function round(v){return v+0.5|0;}var lim=function lim(v,l,h){return Math.max(Math.min(v,h),l);};function p2b(v){return lim(round(v*2.55),0,255);}function n2b(v){return lim(round(v*255),0,255);}function b2n(v){return lim(round(v/2.55)/100,0,1);}function n2p(v){return lim(round(v*100),0,100);}var RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(str){var m=RGB_RE.exec(str);var a=255;var r,g,b;if(!m){return;}if(m[7]!==r){var v=+m[7];a=255&(m[8]?p2b(v):v*255);}r=+m[1];g=+m[3];b=+m[5];r=255&(m[2]?p2b(r):r);g=255&(m[4]?p2b(g):g);b=255&(m[6]?p2b(b):b);return{r:r,g:g,b:b,a:a};}function _rgbString(v){return v&&(v.a<255?"rgba(".concat(v.r,", ").concat(v.g,", ").concat(v.b,", ").concat(b2n(v.a),")"):"rgb(".concat(v.r,", ").concat(v.g,", ").concat(v.b,")"));}var HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(h,s,l){var a=s*Math.min(l,1-l);var f=function f(n){var k=arguments.length>1&&arguments[1]!==undefined?arguments[1]:(n+h/30)%12;return l-a*Math.max(Math.min(k-3,9-k,1),-1);};return[f(0),f(8),f(4)];}function hsv2rgbn(h,s,v){var f=function f(n){var k=arguments.length>1&&arguments[1]!==undefined?arguments[1]:(n+h/60)%6;return v-v*s*Math.max(Math.min(k,4-k,1),0);};return[f(5),f(3),f(1)];}function hwb2rgbn(h,w,b){var rgb=hsl2rgbn(h,1,0.5);var i;if(w+b>1){i=1/(w+b);w*=i;b*=i;}for(i=0;i<3;i++){rgb[i]*=1-w-b;rgb[i]+=w;}return rgb;}function rgb2hsl(v){var range=255;var r=v.r/range;var g=v.g/range;var b=v.b/range;var max=Math.max(r,g,b);var min=Math.min(r,g,b);var l=(max+min)/2;var h,s,d;if(max!==min){d=max-min;s=l>0.5?d/(2-max-min):d/(max+min);h=max===r?(g-b)/d+(g<b?6:0):max===g?(b-r)/d+2:(r-g)/d+4;h=h*60+0.5;}return[h|0,s||0,l];}function calln(f,a,b,c){return(Array.isArray(a)?f(a[0],a[1],a[2]):f(a,b,c)).map(n2b);}function hsl2rgb(h,s,l){return calln(hsl2rgbn,h,s,l);}function hwb2rgb(h,w,b){return calln(hwb2rgbn,h,w,b);}function hsv2rgb(h,s,v){return calln(hsv2rgbn,h,s,v);}function hue(h){return(h%360+360)%360;}function hueParse(str){var m=HUE_RE.exec(str);var a=255;var v;if(!m){return;}if(m[5]!==v){a=m[6]?p2b(+m[5]):n2b(+m[5]);}var h=hue(+m[2]);var p1=+m[3]/100;var p2=+m[4]/100;if(m[1]==='hwb'){v=hwb2rgb(h,p1,p2);}else if(m[1]==='hsv'){v=hsv2rgb(h,p1,p2);}else{v=hsl2rgb(h,p1,p2);}return{r:v[0],g:v[1],b:v[2],a:a};}function _rotate(v,deg){var h=rgb2hsl(v);h[0]=hue(h[0]+deg);h=hsl2rgb(h);v.r=h[0];v.g=h[1];v.b=h[2];}function _hslString(v){if(!v){return;}var a=rgb2hsl(v);var h=a[0];var s=n2p(a[1]);var l=n2p(a[2]);return v.a<255?"hsla(".concat(h,", ").concat(s,"%, ").concat(l,"%, ").concat(b2n(v.a),")"):"hsl(".concat(h,", ").concat(s,"%, ").concat(l,"%)");}var map$1$1={x:'dark',Z:'light',Y:'re',X:'blu',W:'gr',V:'medium',U:'slate',A:'ee',T:'ol',S:'or',B:'ra',C:'lateg',D:'ights',R:'in',Q:'turquois',E:'hi',P:'ro',O:'al',N:'le',M:'de',L:'yello',F:'en',K:'ch',G:'arks',H:'ea',I:'ightg',J:'wh'};var names={OiceXe:'f0f8ff',antiquewEte:'faebd7',aqua:'ffff',aquamarRe:'7fffd4',azuY:'f0ffff',beige:'f5f5dc',bisque:'ffe4c4',black:'0',blanKedOmond:'ffebcd',Xe:'ff',XeviTet:'8a2be2',bPwn:'a52a2a',burlywood:'deb887',caMtXe:'5f9ea0',KartYuse:'7fff00',KocTate:'d2691e',cSO:'ff7f50',cSnflowerXe:'6495ed',cSnsilk:'fff8dc',crimson:'dc143c',cyan:'ffff',xXe:'8b',xcyan:'8b8b',xgTMnPd:'b8860b',xWay:'a9a9a9',xgYF:'6400',xgYy:'a9a9a9',xkhaki:'bdb76b',xmagFta:'8b008b',xTivegYF:'556b2f',xSange:'ff8c00',xScEd:'9932cc',xYd:'8b0000',xsOmon:'e9967a',xsHgYF:'8fbc8f',xUXe:'483d8b',xUWay:'2f4f4f',xUgYy:'2f4f4f',xQe:'ced1',xviTet:'9400d3',dAppRk:'ff1493',dApskyXe:'bfff',dimWay:'696969',dimgYy:'696969',dodgerXe:'1e90ff',fiYbrick:'b22222',flSOwEte:'fffaf0',foYstWAn:'228b22',fuKsia:'ff00ff',gaRsbSo:'dcdcdc',ghostwEte:'f8f8ff',gTd:'ffd700',gTMnPd:'daa520',Way:'808080',gYF:'8000',gYFLw:'adff2f',gYy:'808080',honeyMw:'f0fff0',hotpRk:'ff69b4',RdianYd:'cd5c5c',Rdigo:'4b0082',ivSy:'fffff0',khaki:'f0e68c',lavFMr:'e6e6fa',lavFMrXsh:'fff0f5',lawngYF:'7cfc00',NmoncEffon:'fffacd',ZXe:'add8e6',ZcSO:'f08080',Zcyan:'e0ffff',ZgTMnPdLw:'fafad2',ZWay:'d3d3d3',ZgYF:'90ee90',ZgYy:'d3d3d3',ZpRk:'ffb6c1',ZsOmon:'ffa07a',ZsHgYF:'20b2aa',ZskyXe:'87cefa',ZUWay:'778899',ZUgYy:'778899',ZstAlXe:'b0c4de',ZLw:'ffffe0',lime:'ff00',limegYF:'32cd32',lRF:'faf0e6',magFta:'ff00ff',maPon:'800000',VaquamarRe:'66cdaa',VXe:'cd',VScEd:'ba55d3',VpurpN:'9370db',VsHgYF:'3cb371',VUXe:'7b68ee',VsprRggYF:'fa9a',VQe:'48d1cc',VviTetYd:'c71585',midnightXe:'191970',mRtcYam:'f5fffa',mistyPse:'ffe4e1',moccasR:'ffe4b5',navajowEte:'ffdead',navy:'80',Tdlace:'fdf5e6',Tive:'808000',TivedBb:'6b8e23',Sange:'ffa500',SangeYd:'ff4500',ScEd:'da70d6',pOegTMnPd:'eee8aa',pOegYF:'98fb98',pOeQe:'afeeee',pOeviTetYd:'db7093',papayawEp:'ffefd5',pHKpuff:'ffdab9',peru:'cd853f',pRk:'ffc0cb',plum:'dda0dd',powMrXe:'b0e0e6',purpN:'800080',YbeccapurpN:'663399',Yd:'ff0000',Psybrown:'bc8f8f',PyOXe:'4169e1',saddNbPwn:'8b4513',sOmon:'fa8072',sandybPwn:'f4a460',sHgYF:'2e8b57',sHshell:'fff5ee',siFna:'a0522d',silver:'c0c0c0',skyXe:'87ceeb',UXe:'6a5acd',UWay:'708090',UgYy:'708090',snow:'fffafa',sprRggYF:'ff7f',stAlXe:'4682b4',tan:'d2b48c',teO:'8080',tEstN:'d8bfd8',tomato:'ff6347',Qe:'40e0d0',viTet:'ee82ee',JHt:'f5deb3',wEte:'ffffff',wEtesmoke:'f5f5f5',Lw:'ffff00',LwgYF:'9acd32'};function unpack(){var unpacked={};var keys=Object.keys(names);var tkeys=Object.keys(map$1$1);var i,j,k,ok,nk;for(i=0;i<keys.length;i++){ok=nk=keys[i];for(j=0;j<tkeys.length;j++){k=tkeys[j];nk=nk.replace(k,map$1$1[k]);}k=parseInt(names[ok],16);unpacked[nk]=[k>>16&0xFF,k>>8&0xFF,k&0xFF];}return unpacked;}var names$1;function nameParse(str){if(!names$1){names$1=unpack();names$1.transparent=[0,0,0,0];}var a=names$1[str.toLowerCase()];return a&&{r:a[0],g:a[1],b:a[2],a:a.length===4?a[3]:255};}function modHSL(v,i,ratio){if(v){var tmp=rgb2hsl(v);tmp[i]=Math.max(0,Math.min(tmp[i]+tmp[i]*ratio,i===0?360:1));tmp=hsl2rgb(tmp);v.r=tmp[0];v.g=tmp[1];v.b=tmp[2];}}function clone$1(v,proto){return v?Object.assign(proto||{},v):v;}function fromObject(input){var v={r:0,g:0,b:0,a:255};if(Array.isArray(input)){if(input.length>=3){v={r:input[0],g:input[1],b:input[2],a:255};if(input.length>3){v.a=n2b(input[3]);}}}else{v=clone$1(input,{r:0,g:0,b:0,a:1});v.a=n2b(v.a);}return v;}function functionParse(str){if(str.charAt(0)==='r'){return rgbParse(str);}return hueParse(str);}var Color=/*#__PURE__*/function(){function Color(input){_classCallCheck(this,Color);if(input instanceof Color){return input;}var type=_typeof(input);var v;if(type==='object'){v=fromObject(input);}else if(type==='string'){v=hexParse(input)||nameParse(input)||functionParse(input);}this._rgb=v;this._valid=!!v;}_createClass(Color,[{key:"valid",get:function get(){return this._valid;}},{key:"rgb",get:function get(){var v=clone$1(this._rgb);if(v){v.a=b2n(v.a);}return v;},set:function set(obj){this._rgb=fromObject(obj);}},{key:"rgbString",value:function rgbString(){return this._valid?_rgbString(this._rgb):this._rgb;}},{key:"hexString",value:function hexString(){return this._valid?_hexString(this._rgb):this._rgb;}},{key:"hslString",value:function hslString(){return this._valid?_hslString(this._rgb):this._rgb;}},{key:"mix",value:function mix(color,weight){var me=this;if(color){var c1=me.rgb;var c2=color.rgb;var w2;var p=weight===w2?0.5:weight;var w=2*p-1;var a=c1.a-c2.a;var w1=((w*a===-1?w:(w+a)/(1+w*a))+1)/2.0;w2=1-w1;c1.r=0xFF&w1*c1.r+w2*c2.r+0.5;c1.g=0xFF&w1*c1.g+w2*c2.g+0.5;c1.b=0xFF&w1*c1.b+w2*c2.b+0.5;c1.a=p*c1.a+(1-p)*c2.a;me.rgb=c1;}return me;}},{key:"clone",value:function clone(){return new Color(this.rgb);}},{key:"alpha",value:function alpha(a){this._rgb.a=n2b(a);return this;}},{key:"clearer",value:function clearer(ratio){var rgb=this._rgb;rgb.a*=1-ratio;return this;}},{key:"greyscale",value:function greyscale(){var rgb=this._rgb;var val=round(rgb.r*0.3+rgb.g*0.59+rgb.b*0.11);rgb.r=rgb.g=rgb.b=val;return this;}},{key:"opaquer",value:function opaquer(ratio){var rgb=this._rgb;rgb.a*=1+ratio;return this;}},{key:"negate",value:function negate(){var v=this._rgb;v.r=255-v.r;v.g=255-v.g;v.b=255-v.b;return this;}},{key:"lighten",value:function lighten(ratio){modHSL(this._rgb,2,ratio);return this;}},{key:"darken",value:function darken(ratio){modHSL(this._rgb,2,-ratio);return this;}},{key:"saturate",value:function saturate(ratio){modHSL(this._rgb,1,ratio);return this;}},{key:"desaturate",value:function desaturate(ratio){modHSL(this._rgb,1,-ratio);return this;}},{key:"rotate",value:function rotate(deg){_rotate(this._rgb,deg);return this;}}]);return Color;}();function index_esm(input){return new Color(input);}var isPatternOrGradient=function isPatternOrGradient(value){return value instanceof CanvasGradient||value instanceof CanvasPattern;};function _color(value){return isPatternOrGradient(value)?value:index_esm(value);}function getHoverColor(value){return isPatternOrGradient(value)?value:index_esm(value).saturate(0.5).darken(0.1).hexString();}function noop(){}var uid=function(){var id=0;return function(){return id++;};}();function isNullOrUndef(value){return value===null||typeof value==='undefined';}function isArray(value){if(Array.isArray&&Array.isArray(value)){return true;}var type=Object.prototype.toString.call(value);if(type.substr(0,7)==='[object'&&type.substr(-6)==='Array]'){return true;}return false;}function isObject(value){return value!==null&&Object.prototype.toString.call(value)==='[object Object]';}var isNumberFinite=function isNumberFinite(value){return(typeof value==='number'||value instanceof Number)&&isFinite(+value);};function finiteOrDefault(value,defaultValue){return isNumberFinite(value)?value:defaultValue;}function valueOrDefault(value,defaultValue){return typeof value==='undefined'?defaultValue:value;}var toPercentage=function toPercentage(value,dimension){return typeof value==='string'&&value.endsWith('%')?parseFloat(value)/100:value/dimension;};var toDimension=function toDimension(value,dimension){return typeof value==='string'&&value.endsWith('%')?parseFloat(value)/100*dimension:+value;};function callback(fn,args,thisArg){if(fn&&typeof fn.call==='function'){return fn.apply(thisArg,args);}}function each(loopable,fn,thisArg,reverse){var i,len,keys;if(isArray(loopable)){len=loopable.length;if(reverse){for(i=len-1;i>=0;i--){fn.call(thisArg,loopable[i],i);}}else{for(i=0;i<len;i++){fn.call(thisArg,loopable[i],i);}}}else if(isObject(loopable)){keys=Object.keys(loopable);len=keys.length;for(i=0;i<len;i++){fn.call(thisArg,loopable[keys[i]],keys[i]);}}}function _elementsEqual(a0,a1){var i,ilen,v0,v1;if(!a0||!a1||a0.length!==a1.length){return false;}for(i=0,ilen=a0.length;i<ilen;++i){v0=a0[i];v1=a1[i];if(v0.datasetIndex!==v1.datasetIndex||v0.index!==v1.index){return false;}}return true;}function clone(source){if(isArray(source)){return source.map(clone);}if(isObject(source)){var target=Object.create(null);var keys=Object.keys(source);var klen=keys.length;var k=0;for(;k<klen;++k){target[keys[k]]=clone(source[keys[k]]);}return target;}return source;}function isValidKey(key){return['__proto__','prototype','constructor'].indexOf(key)===-1;}function _merger(key,target,source,options){if(!isValidKey(key)){return;}var tval=target[key];var sval=source[key];if(isObject(tval)&&isObject(sval)){merge(tval,sval,options);}else{target[key]=clone(sval);}}function merge(target,source,options){var sources=isArray(source)?source:[source];var ilen=sources.length;if(!isObject(target)){return target;}options=options||{};var merger=options.merger||_merger;for(var i=0;i<ilen;++i){source=sources[i];if(!isObject(source)){continue;}var keys=Object.keys(source);for(var k=0,klen=keys.length;k<klen;++k){merger(keys[k],target,source,options);}}return target;}function mergeIf(target,source){return merge(target,source,{merger:_mergerIf});}function _mergerIf(key,target,source){if(!isValidKey(key)){return;}var tval=target[key];var sval=source[key];if(isObject(tval)&&isObject(sval)){mergeIf(tval,sval);}else if(!Object.prototype.hasOwnProperty.call(target,key)){target[key]=clone(sval);}}function _deprecated(scope,value,previous,current){if(value!==undefined){console.warn(scope+': "'+previous+'" is deprecated. Please use "'+current+'" instead');}}var emptyString='';var dot='.';function indexOfDotOrLength(key,start){var idx=key.indexOf(dot,start);return idx===-1?key.length:idx;}function resolveObjectKey(obj,key){if(key===emptyString){return obj;}var pos=0;var idx=indexOfDotOrLength(key,pos);while(obj&&idx>pos){obj=obj[key.substr(pos,idx-pos)];pos=idx+1;idx=indexOfDotOrLength(key,pos);}return obj;}function _capitalize(str){return str.charAt(0).toUpperCase()+str.slice(1);}var defined=function defined(value){return typeof value!=='undefined';};var isFunction=function isFunction(value){return typeof value==='function';};var setsEqual=function setsEqual(a,b){if(a.size!==b.size){return false;}var _iterator=_createForOfIteratorHelper(a),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var item=_step.value;if(!b.has(item)){return false;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return true;};var overrides=Object.create(null);var descriptors=Object.create(null);function getScope$1(node,key){if(!key){return node;}var keys=key.split('.');for(var i=0,n=keys.length;i<n;++i){var k=keys[i];node=node[k]||(node[k]=Object.create(null));}return node;}function _set(root,scope,values){if(typeof scope==='string'){return merge(getScope$1(root,scope),values);}return merge(getScope$1(root,''),scope);}var Defaults=/*#__PURE__*/function(){function Defaults(_descriptors){_classCallCheck(this,Defaults);this.animation=undefined;this.backgroundColor='rgba(0,0,0,0.1)';this.borderColor='rgba(0,0,0,0.1)';this.color='#666';this.datasets={};this.devicePixelRatio=function(context){return context.chart.platform.getDevicePixelRatio();};this.elements={};this.events=['mousemove','mouseout','click','touchstart','touchmove'];this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:'normal',lineHeight:1.2,weight:null};this.hover={};this.hoverBackgroundColor=function(ctx,options){return getHoverColor(options.backgroundColor);};this.hoverBorderColor=function(ctx,options){return getHoverColor(options.borderColor);};this.hoverColor=function(ctx,options){return getHoverColor(options.color);};this.indexAxis='x';this.interaction={mode:'nearest',intersect:true};this.maintainAspectRatio=true;this.onHover=null;this.onClick=null;this.parsing=true;this.plugins={};this.responsive=true;this.scale=undefined;this.scales={};this.showLine=true;this.describe(_descriptors);}_createClass(Defaults,[{key:"set",value:function set(scope,values){return _set(this,scope,values);}},{key:"get",value:function get(scope){return getScope$1(this,scope);}},{key:"describe",value:function describe(scope,values){return _set(descriptors,scope,values);}},{key:"override",value:function override(scope,values){return _set(overrides,scope,values);}},{key:"route",value:function route(scope,name,targetScope,targetName){var _Object$definePropert;var scopeObject=getScope$1(this,scope);var targetScopeObject=getScope$1(this,targetScope);var privateName='_'+name;Object.defineProperties(scopeObject,(_Object$definePropert={},_defineProperty(_Object$definePropert,privateName,{value:scopeObject[name],writable:true}),_defineProperty(_Object$definePropert,name,{enumerable:true,get:function get(){var local=this[privateName];var target=targetScopeObject[targetName];if(isObject(local)){return Object.assign({},target,local);}return valueOrDefault(local,target);},set:function set(value){this[privateName]=value;}}),_Object$definePropert));}}]);return Defaults;}();var defaults=new Defaults({_scriptable:function _scriptable(name){return!name.startsWith('on');},_indexable:function _indexable(name){return name!=='events';},hover:{_fallback:'interaction'},interaction:{_scriptable:false,_indexable:false}});var PI=Math.PI;var TAU=2*PI;var PITAU=TAU+PI;var INFINITY=Number.POSITIVE_INFINITY;var RAD_PER_DEG=PI/180;var HALF_PI=PI/2;var QUARTER_PI=PI/4;var TWO_THIRDS_PI=PI*2/3;var log10=Math.log10;var sign=Math.sign;function niceNum(range){var roundedRange=Math.round(range);range=almostEquals(range,roundedRange,range/1000)?roundedRange:range;var niceRange=Math.pow(10,Math.floor(log10(range)));var fraction=range/niceRange;var niceFraction=fraction<=1?1:fraction<=2?2:fraction<=5?5:10;return niceFraction*niceRange;}function _factorize(value){var result=[];var sqrt=Math.sqrt(value);var i;for(i=1;i<sqrt;i++){if(value%i===0){result.push(i);result.push(value/i);}}if(sqrt===(sqrt|0)){result.push(sqrt);}result.sort(function(a,b){return a-b;}).pop();return result;}function isNumber(n){return!isNaN(parseFloat(n))&&isFinite(n);}function almostEquals(x,y,epsilon){return Math.abs(x-y)<epsilon;}function almostWhole(x,epsilon){var rounded=Math.round(x);return rounded-epsilon<=x&&rounded+epsilon>=x;}function _setMinAndMaxByKey(array,target,property){var i,ilen,value;for(i=0,ilen=array.length;i<ilen;i++){value=array[i][property];if(!isNaN(value)){target.min=Math.min(target.min,value);target.max=Math.max(target.max,value);}}}function toRadians(degrees){return degrees*(PI/180);}function toDegrees(radians){return radians*(180/PI);}function _decimalPlaces(x){if(!isNumberFinite(x)){return;}var e=1;var p=0;while(Math.round(x*e)/e!==x){e*=10;p++;}return p;}function getAngleFromPoint(centrePoint,anglePoint){var distanceFromXCenter=anglePoint.x-centrePoint.x;var distanceFromYCenter=anglePoint.y-centrePoint.y;var radialDistanceFromCenter=Math.sqrt(distanceFromXCenter*distanceFromXCenter+distanceFromYCenter*distanceFromYCenter);var angle=Math.atan2(distanceFromYCenter,distanceFromXCenter);if(angle<-0.5*PI){angle+=TAU;}return{angle:angle,distance:radialDistanceFromCenter};}function distanceBetweenPoints(pt1,pt2){return Math.sqrt(Math.pow(pt2.x-pt1.x,2)+Math.pow(pt2.y-pt1.y,2));}function _angleDiff(a,b){return(a-b+PITAU)%TAU-PI;}function _normalizeAngle(a){return(a%TAU+TAU)%TAU;}function _angleBetween(angle,start,end,sameAngleIsFullCircle){var a=_normalizeAngle(angle);var s=_normalizeAngle(start);var e=_normalizeAngle(end);var angleToStart=_normalizeAngle(s-a);var angleToEnd=_normalizeAngle(e-a);var startToAngle=_normalizeAngle(a-s);var endToAngle=_normalizeAngle(a-e);return a===s||a===e||sameAngleIsFullCircle&&s===e||angleToStart>angleToEnd&&startToAngle<endToAngle;}function _limitValue(value,min,max){return Math.max(min,Math.min(max,value));}function _int16Range(value){return _limitValue(value,-32768,32767);}function toFontString(font){if(!font||isNullOrUndef(font.size)||isNullOrUndef(font.family)){return null;}return(font.style?font.style+' ':'')+(font.weight?font.weight+' ':'')+font.size+'px '+font.family;}function _measureText(ctx,data,gc,longest,string){var textWidth=data[string];if(!textWidth){textWidth=data[string]=ctx.measureText(string).width;gc.push(string);}if(textWidth>longest){longest=textWidth;}return longest;}function _longestText(ctx,font,arrayOfThings,cache){cache=cache||{};var data=cache.data=cache.data||{};var gc=cache.garbageCollect=cache.garbageCollect||[];if(cache.font!==font){data=cache.data={};gc=cache.garbageCollect=[];cache.font=font;}ctx.save();ctx.font=font;var longest=0;var ilen=arrayOfThings.length;var i,j,jlen,thing,nestedThing;for(i=0;i<ilen;i++){thing=arrayOfThings[i];if(thing!==undefined&&thing!==null&&isArray(thing)!==true){longest=_measureText(ctx,data,gc,longest,thing);}else if(isArray(thing)){for(j=0,jlen=thing.length;j<jlen;j++){nestedThing=thing[j];if(nestedThing!==undefined&&nestedThing!==null&&!isArray(nestedThing)){longest=_measureText(ctx,data,gc,longest,nestedThing);}}}}ctx.restore();var gcLen=gc.length/2;if(gcLen>arrayOfThings.length){for(i=0;i<gcLen;i++){delete data[gc[i]];}gc.splice(0,gcLen);}return longest;}function _alignPixel(chart,pixel,width){var devicePixelRatio=chart.currentDevicePixelRatio;var halfWidth=width!==0?Math.max(width/2,0.5):0;return Math.round((pixel-halfWidth)*devicePixelRatio)/devicePixelRatio+halfWidth;}function clearCanvas(canvas,ctx){ctx=ctx||canvas.getContext('2d');ctx.save();ctx.resetTransform();ctx.clearRect(0,0,canvas.width,canvas.height);ctx.restore();}function drawPoint(ctx,options,x,y){var type,xOffset,yOffset,size,cornerRadius;var style=options.pointStyle;var rotation=options.rotation;var radius=options.radius;var rad=(rotation||0)*RAD_PER_DEG;if(style&&_typeof(style)==='object'){type=style.toString();if(type==='[object HTMLImageElement]'||type==='[object HTMLCanvasElement]'){ctx.save();ctx.translate(x,y);ctx.rotate(rad);ctx.drawImage(style,-style.width/2,-style.height/2,style.width,style.height);ctx.restore();return;}}if(isNaN(radius)||radius<=0){return;}ctx.beginPath();switch(style){default:ctx.arc(x,y,radius,0,TAU);ctx.closePath();break;case'triangle':ctx.moveTo(x+Math.sin(rad)*radius,y-Math.cos(rad)*radius);rad+=TWO_THIRDS_PI;ctx.lineTo(x+Math.sin(rad)*radius,y-Math.cos(rad)*radius);rad+=TWO_THIRDS_PI;ctx.lineTo(x+Math.sin(rad)*radius,y-Math.cos(rad)*radius);ctx.closePath();break;case'rectRounded':cornerRadius=radius*0.516;size=radius-cornerRadius;xOffset=Math.cos(rad+QUARTER_PI)*size;yOffset=Math.sin(rad+QUARTER_PI)*size;ctx.arc(x-xOffset,y-yOffset,cornerRadius,rad-PI,rad-HALF_PI);ctx.arc(x+yOffset,y-xOffset,cornerRadius,rad-HALF_PI,rad);ctx.arc(x+xOffset,y+yOffset,cornerRadius,rad,rad+HALF_PI);ctx.arc(x-yOffset,y+xOffset,cornerRadius,rad+HALF_PI,rad+PI);ctx.closePath();break;case'rect':if(!rotation){size=Math.SQRT1_2*radius;ctx.rect(x-size,y-size,2*size,2*size);break;}rad+=QUARTER_PI;case'rectRot':xOffset=Math.cos(rad)*radius;yOffset=Math.sin(rad)*radius;ctx.moveTo(x-xOffset,y-yOffset);ctx.lineTo(x+yOffset,y-xOffset);ctx.lineTo(x+xOffset,y+yOffset);ctx.lineTo(x-yOffset,y+xOffset);ctx.closePath();break;case'crossRot':rad+=QUARTER_PI;case'cross':xOffset=Math.cos(rad)*radius;yOffset=Math.sin(rad)*radius;ctx.moveTo(x-xOffset,y-yOffset);ctx.lineTo(x+xOffset,y+yOffset);ctx.moveTo(x+yOffset,y-xOffset);ctx.lineTo(x-yOffset,y+xOffset);break;case'star':xOffset=Math.cos(rad)*radius;yOffset=Math.sin(rad)*radius;ctx.moveTo(x-xOffset,y-yOffset);ctx.lineTo(x+xOffset,y+yOffset);ctx.moveTo(x+yOffset,y-xOffset);ctx.lineTo(x-yOffset,y+xOffset);rad+=QUARTER_PI;xOffset=Math.cos(rad)*radius;yOffset=Math.sin(rad)*radius;ctx.moveTo(x-xOffset,y-yOffset);ctx.lineTo(x+xOffset,y+yOffset);ctx.moveTo(x+yOffset,y-xOffset);ctx.lineTo(x-yOffset,y+xOffset);break;case'line':xOffset=Math.cos(rad)*radius;yOffset=Math.sin(rad)*radius;ctx.moveTo(x-xOffset,y-yOffset);ctx.lineTo(x+xOffset,y+yOffset);break;case'dash':ctx.moveTo(x,y);ctx.lineTo(x+Math.cos(rad)*radius,y+Math.sin(rad)*radius);break;}ctx.fill();if(options.borderWidth>0){ctx.stroke();}}function _isPointInArea(point,area,margin){margin=margin||0.5;return!area||point&&point.x>area.left-margin&&point.x<area.right+margin&&point.y>area.top-margin&&point.y<area.bottom+margin;}function clipArea(ctx,area){ctx.save();ctx.beginPath();ctx.rect(area.left,area.top,area.right-area.left,area.bottom-area.top);ctx.clip();}function unclipArea(ctx){ctx.restore();}function _steppedLineTo(ctx,previous,target,flip,mode){if(!previous){return ctx.lineTo(target.x,target.y);}if(mode==='middle'){var midpoint=(previous.x+target.x)/2.0;ctx.lineTo(midpoint,previous.y);ctx.lineTo(midpoint,target.y);}else if(mode==='after'!==!!flip){ctx.lineTo(previous.x,target.y);}else{ctx.lineTo(target.x,previous.y);}ctx.lineTo(target.x,target.y);}function _bezierCurveTo(ctx,previous,target,flip){if(!previous){return ctx.lineTo(target.x,target.y);}ctx.bezierCurveTo(flip?previous.cp1x:previous.cp2x,flip?previous.cp1y:previous.cp2y,flip?target.cp2x:target.cp1x,flip?target.cp2y:target.cp1y,target.x,target.y);}function renderText(ctx,text,x,y,font){var opts=arguments.length>5&&arguments[5]!==undefined?arguments[5]:{};var lines=isArray(text)?text:[text];var stroke=opts.strokeWidth>0&&opts.strokeColor!=='';var i,line;ctx.save();ctx.font=font.string;setRenderOpts(ctx,opts);for(i=0;i<lines.length;++i){line=lines[i];if(stroke){if(opts.strokeColor){ctx.strokeStyle=opts.strokeColor;}if(!isNullOrUndef(opts.strokeWidth)){ctx.lineWidth=opts.strokeWidth;}ctx.strokeText(line,x,y,opts.maxWidth);}ctx.fillText(line,x,y,opts.maxWidth);decorateText(ctx,x,y,line,opts);y+=font.lineHeight;}ctx.restore();}function setRenderOpts(ctx,opts){if(opts.translation){ctx.translate(opts.translation[0],opts.translation[1]);}if(!isNullOrUndef(opts.rotation)){ctx.rotate(opts.rotation);}if(opts.color){ctx.fillStyle=opts.color;}if(opts.textAlign){ctx.textAlign=opts.textAlign;}if(opts.textBaseline){ctx.textBaseline=opts.textBaseline;}}function decorateText(ctx,x,y,line,opts){if(opts.strikethrough||opts.underline){var metrics=ctx.measureText(line);var left=x-metrics.actualBoundingBoxLeft;var right=x+metrics.actualBoundingBoxRight;var top=y-metrics.actualBoundingBoxAscent;var bottom=y+metrics.actualBoundingBoxDescent;var yDecoration=opts.strikethrough?(top+bottom)/2:bottom;ctx.strokeStyle=ctx.fillStyle;ctx.beginPath();ctx.lineWidth=opts.decorationWidth||2;ctx.moveTo(left,yDecoration);ctx.lineTo(right,yDecoration);ctx.stroke();}}function addRoundedRectPath(ctx,rect){var x=rect.x,y=rect.y,w=rect.w,h=rect.h,radius=rect.radius;ctx.arc(x+radius.topLeft,y+radius.topLeft,radius.topLeft,-HALF_PI,PI,true);ctx.lineTo(x,y+h-radius.bottomLeft);ctx.arc(x+radius.bottomLeft,y+h-radius.bottomLeft,radius.bottomLeft,PI,HALF_PI,true);ctx.lineTo(x+w-radius.bottomRight,y+h);ctx.arc(x+w-radius.bottomRight,y+h-radius.bottomRight,radius.bottomRight,HALF_PI,0,true);ctx.lineTo(x+w,y+radius.topRight);ctx.arc(x+w-radius.topRight,y+radius.topRight,radius.topRight,0,-HALF_PI,true);ctx.lineTo(x+radius.topLeft,y);}function _lookup(table,value,cmp){cmp=cmp||function(index){return table[index]<value;};var hi=table.length-1;var lo=0;var mid;while(hi-lo>1){mid=lo+hi>>1;if(cmp(mid)){lo=mid;}else{hi=mid;}}return{lo:lo,hi:hi};}var _lookupByKey=function _lookupByKey(table,key,value){return _lookup(table,value,function(index){return table[index][key]<value;});};var _rlookupByKey=function _rlookupByKey(table,key,value){return _lookup(table,value,function(index){return table[index][key]>=value;});};function _filterBetween(values,min,max){var start=0;var end=values.length;while(start<end&&values[start]<min){start++;}while(end>start&&values[end-1]>max){end--;}return start>0||end<values.length?values.slice(start,end):values;}var arrayEvents=['push','pop','shift','splice','unshift'];function listenArrayEvents(array,listener){if(array._chartjs){array._chartjs.listeners.push(listener);return;}Object.defineProperty(array,'_chartjs',{configurable:true,enumerable:false,value:{listeners:[listener]}});arrayEvents.forEach(function(key){var method='_onData'+_capitalize(key);var base=array[key];Object.defineProperty(array,key,{configurable:true,enumerable:false,value:function value(){for(var _len13=arguments.length,args=new Array(_len13),_key13=0;_key13<_len13;_key13++){args[_key13]=arguments[_key13];}var res=base.apply(this,args);array._chartjs.listeners.forEach(function(object){if(typeof object[method]==='function'){object[method].apply(object,args);}});return res;}});});}function unlistenArrayEvents(array,listener){var stub=array._chartjs;if(!stub){return;}var listeners=stub.listeners;var index=listeners.indexOf(listener);if(index!==-1){listeners.splice(index,1);}if(listeners.length>0){return;}arrayEvents.forEach(function(key){delete array[key];});delete array._chartjs;}function _arrayUnique(items){var set=new Set();var i,ilen;for(i=0,ilen=items.length;i<ilen;++i){set.add(items[i]);}if(set.size===ilen){return items;}return Array.from(set);}function _isDomSupported(){return typeof window!=='undefined'&&typeof document!=='undefined';}function _getParentNode(domNode){var parent=domNode.parentNode;if(parent&&parent.toString()==='[object ShadowRoot]'){parent=parent.host;}return parent;}function parseMaxStyle(styleValue,node,parentProperty){var valueInPixels;if(typeof styleValue==='string'){valueInPixels=parseInt(styleValue,10);if(styleValue.indexOf('%')!==-1){valueInPixels=valueInPixels/100*node.parentNode[parentProperty];}}else{valueInPixels=styleValue;}return valueInPixels;}var getComputedStyle=function getComputedStyle(element){return window.getComputedStyle(element,null);};function getStyle(el,property){return getComputedStyle(el).getPropertyValue(property);}var positions=['top','right','bottom','left'];function getPositionedStyle(styles,style,suffix){var result={};suffix=suffix?'-'+suffix:'';for(var i=0;i<4;i++){var pos=positions[i];result[pos]=parseFloat(styles[style+'-'+pos+suffix])||0;}result.width=result.left+result.right;result.height=result.top+result.bottom;return result;}var useOffsetPos=function useOffsetPos(x,y,target){return(x>0||y>0)&&(!target||!target.shadowRoot);};function getCanvasPosition(evt,canvas){var e=evt["native"]||evt;var touches=e.touches;var source=touches&&touches.length?touches[0]:e;var offsetX=source.offsetX,offsetY=source.offsetY;var box=false;var x,y;if(useOffsetPos(offsetX,offsetY,e.target)){x=offsetX;y=offsetY;}else{var rect=canvas.getBoundingClientRect();x=source.clientX-rect.left;y=source.clientY-rect.top;box=true;}return{x:x,y:y,box:box};}function getRelativePosition$1(evt,chart){var canvas=chart.canvas,currentDevicePixelRatio=chart.currentDevicePixelRatio;var style=getComputedStyle(canvas);var borderBox=style.boxSizing==='border-box';var paddings=getPositionedStyle(style,'padding');var borders=getPositionedStyle(style,'border','width');var _getCanvasPosition=getCanvasPosition(evt,canvas),x=_getCanvasPosition.x,y=_getCanvasPosition.y,box=_getCanvasPosition.box;var xOffset=paddings.left+(box&&borders.left);var yOffset=paddings.top+(box&&borders.top);var width=chart.width,height=chart.height;if(borderBox){width-=paddings.width+borders.width;height-=paddings.height+borders.height;}return{x:Math.round((x-xOffset)/width*canvas.width/currentDevicePixelRatio),y:Math.round((y-yOffset)/height*canvas.height/currentDevicePixelRatio)};}function getContainerSize(canvas,width,height){var maxWidth,maxHeight;if(width===undefined||height===undefined){var container=_getParentNode(canvas);if(!container){width=canvas.clientWidth;height=canvas.clientHeight;}else{var rect=container.getBoundingClientRect();var containerStyle=getComputedStyle(container);var containerBorder=getPositionedStyle(containerStyle,'border','width');var containerPadding=getPositionedStyle(containerStyle,'padding');width=rect.width-containerPadding.width-containerBorder.width;height=rect.height-containerPadding.height-containerBorder.height;maxWidth=parseMaxStyle(containerStyle.maxWidth,container,'clientWidth');maxHeight=parseMaxStyle(containerStyle.maxHeight,container,'clientHeight');}}return{width:width,height:height,maxWidth:maxWidth||INFINITY,maxHeight:maxHeight||INFINITY};}var round1=function round1(v){return Math.round(v*10)/10;};function _getMaximumSize(canvas,bbWidth,bbHeight,aspectRatio){var style=getComputedStyle(canvas);var margins=getPositionedStyle(style,'margin');var maxWidth=parseMaxStyle(style.maxWidth,canvas,'clientWidth')||INFINITY;var maxHeight=parseMaxStyle(style.maxHeight,canvas,'clientHeight')||INFINITY;var containerSize=getContainerSize(canvas,bbWidth,bbHeight);var width=containerSize.width,height=containerSize.height;if(style.boxSizing==='content-box'){var borders=getPositionedStyle(style,'border','width');var paddings=getPositionedStyle(style,'padding');width-=paddings.width+borders.width;height-=paddings.height+borders.height;}width=Math.max(0,width-margins.width);height=Math.max(0,aspectRatio?Math.floor(width/aspectRatio):height-margins.height);width=round1(Math.min(width,maxWidth,containerSize.maxWidth));height=round1(Math.min(height,maxHeight,containerSize.maxHeight));if(width&&!height){height=round1(width/2);}return{width:width,height:height};}function retinaScale(chart,forceRatio,forceStyle){var pixelRatio=forceRatio||1;var deviceHeight=Math.floor(chart.height*pixelRatio);var deviceWidth=Math.floor(chart.width*pixelRatio);chart.height=deviceHeight/pixelRatio;chart.width=deviceWidth/pixelRatio;var canvas=chart.canvas;if(canvas.style&&(forceStyle||!canvas.style.height&&!canvas.style.width)){canvas.style.height="".concat(chart.height,"px");canvas.style.width="".concat(chart.width,"px");}if(chart.currentDevicePixelRatio!==pixelRatio||canvas.height!==deviceHeight||canvas.width!==deviceWidth){chart.currentDevicePixelRatio=pixelRatio;canvas.height=deviceHeight;canvas.width=deviceWidth;chart.ctx.setTransform(pixelRatio,0,0,pixelRatio,0,0);return true;}return false;}var supportsEventListenerOptions=function(){var passiveSupported=false;try{var options={get passive(){passiveSupported=true;return false;}};window.addEventListener('test',null,options);window.removeEventListener('test',null,options);}catch(e){}return passiveSupported;}();function readUsedSize(element,property){var value=getStyle(element,property);var matches=value&&value.match(/^(\d+)(\.\d+)?px$/);return matches?+matches[1]:undefined;}function getRelativePosition(e,chart){if('native'in e){return{x:e.x,y:e.y};}return getRelativePosition$1(e,chart);}function evaluateAllVisibleItems(chart,handler){var metasets=chart.getSortedVisibleDatasetMetas();var index,data,element;for(var i=0,ilen=metasets.length;i<ilen;++i){var _metasets$i=metasets[i];index=_metasets$i.index;data=_metasets$i.data;for(var j=0,jlen=data.length;j<jlen;++j){element=data[j];if(!element.skip){handler(element,index,j);}}}}function binarySearch(metaset,axis,value,intersect){var controller=metaset.controller,data=metaset.data,_sorted=metaset._sorted;var iScale=controller._cachedMeta.iScale;if(iScale&&axis===iScale.axis&&_sorted&&data.length){var lookupMethod=iScale._reversePixels?_rlookupByKey:_lookupByKey;if(!intersect){return lookupMethod(data,axis,value);}else if(controller._sharedOptions){var el=data[0];var range=typeof el.getRange==='function'&&el.getRange(axis);if(range){var start=lookupMethod(data,axis,value-range);var end=lookupMethod(data,axis,value+range);return{lo:start.lo,hi:end.hi};}}}return{lo:0,hi:data.length-1};}function optimizedEvaluateItems(chart,axis,position,handler,intersect){var metasets=chart.getSortedVisibleDatasetMetas();var value=position[axis];for(var i=0,ilen=metasets.length;i<ilen;++i){var _metasets$i2=metasets[i],index=_metasets$i2.index,data=_metasets$i2.data;var _binarySearch=binarySearch(metasets[i],axis,value,intersect),lo=_binarySearch.lo,hi=_binarySearch.hi;for(var j=lo;j<=hi;++j){var element=data[j];if(!element.skip){handler(element,index,j);}}}}function getDistanceMetricForAxis(axis){var useX=axis.indexOf('x')!==-1;var useY=axis.indexOf('y')!==-1;return function(pt1,pt2){var deltaX=useX?Math.abs(pt1.x-pt2.x):0;var deltaY=useY?Math.abs(pt1.y-pt2.y):0;return Math.sqrt(Math.pow(deltaX,2)+Math.pow(deltaY,2));};}function getIntersectItems(chart,position,axis,useFinalPosition){var items=[];if(!_isPointInArea(position,chart.chartArea,chart._minPadding)){return items;}var evaluationFunc=function evaluationFunc(element,datasetIndex,index){if(element.inRange(position.x,position.y,useFinalPosition)){items.push({element:element,datasetIndex:datasetIndex,index:index});}};optimizedEvaluateItems(chart,axis,position,evaluationFunc,true);return items;}function getNearestItems(chart,position,axis,intersect,useFinalPosition){var distanceMetric=getDistanceMetricForAxis(axis);var minDistance=Number.POSITIVE_INFINITY;var items=[];if(!_isPointInArea(position,chart.chartArea,chart._minPadding)){return items;}var evaluationFunc=function evaluationFunc(element,datasetIndex,index){if(intersect&&!element.inRange(position.x,position.y,useFinalPosition)){return;}var center=element.getCenterPoint(useFinalPosition);if(!_isPointInArea(center,chart.chartArea,chart._minPadding)&&!element.inRange(position.x,position.y,useFinalPosition)){return;}var distance=distanceMetric(position,center);if(distance<minDistance){items=[{element:element,datasetIndex:datasetIndex,index:index}];minDistance=distance;}else if(distance===minDistance){items.push({element:element,datasetIndex:datasetIndex,index:index});}};optimizedEvaluateItems(chart,axis,position,evaluationFunc);return items;}function getAxisItems(chart,e,options,useFinalPosition){var position=getRelativePosition(e,chart);var items=[];var axis=options.axis;var rangeMethod=axis==='x'?'inXRange':'inYRange';var intersectsItem=false;evaluateAllVisibleItems(chart,function(element,datasetIndex,index){if(element[rangeMethod](position[axis],useFinalPosition)){items.push({element:element,datasetIndex:datasetIndex,index:index});}if(element.inRange(position.x,position.y,useFinalPosition)){intersectsItem=true;}});if(options.intersect&&!intersectsItem){return[];}return items;}var Interaction={modes:{index:function index(chart,e,options,useFinalPosition){var position=getRelativePosition(e,chart);var axis=options.axis||'x';var items=options.intersect?getIntersectItems(chart,position,axis,useFinalPosition):getNearestItems(chart,position,axis,false,useFinalPosition);var elements=[];if(!items.length){return[];}chart.getSortedVisibleDatasetMetas().forEach(function(meta){var index=items[0].index;var element=meta.data[index];if(element&&!element.skip){elements.push({element:element,datasetIndex:meta.index,index:index});}});return elements;},dataset:function dataset(chart,e,options,useFinalPosition){var position=getRelativePosition(e,chart);var axis=options.axis||'xy';var items=options.intersect?getIntersectItems(chart,position,axis,useFinalPosition):getNearestItems(chart,position,axis,false,useFinalPosition);if(items.length>0){var datasetIndex=items[0].datasetIndex;var data=chart.getDatasetMeta(datasetIndex).data;items=[];for(var i=0;i<data.length;++i){items.push({element:data[i],datasetIndex:datasetIndex,index:i});}}return items;},point:function point(chart,e,options,useFinalPosition){var position=getRelativePosition(e,chart);var axis=options.axis||'xy';return getIntersectItems(chart,position,axis,useFinalPosition);},nearest:function nearest(chart,e,options,useFinalPosition){var position=getRelativePosition(e,chart);var axis=options.axis||'xy';return getNearestItems(chart,position,axis,options.intersect,useFinalPosition);},x:function x(chart,e,options,useFinalPosition){options.axis='x';return getAxisItems(chart,e,options,useFinalPosition);},y:function y(chart,e,options,useFinalPosition){options.axis='y';return getAxisItems(chart,e,options,useFinalPosition);}}};var LINE_HEIGHT=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);var FONT_STYLE=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function toLineHeight(value,size){var matches=(''+value).match(LINE_HEIGHT);if(!matches||matches[1]==='normal'){return size*1.2;}value=+matches[2];switch(matches[3]){case'px':return value;case'%':value/=100;break;}return size*value;}var numberOrZero$1=function numberOrZero$1(v){return+v||0;};function _readValueToProps(value,props){var ret={};var objProps=isObject(props);var keys=objProps?Object.keys(props):props;var read=isObject(value)?objProps?function(prop){return valueOrDefault(value[prop],value[props[prop]]);}:function(prop){return value[prop];}:function(){return value;};var _iterator2=_createForOfIteratorHelper(keys),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var prop=_step2.value;ret[prop]=numberOrZero$1(read(prop));}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return ret;}function toTRBL(value){return _readValueToProps(value,{top:'y',right:'x',bottom:'y',left:'x'});}function toTRBLCorners(value){return _readValueToProps(value,['topLeft','topRight','bottomLeft','bottomRight']);}function toPadding(value){var obj=toTRBL(value);obj.width=obj.left+obj.right;obj.height=obj.top+obj.bottom;return obj;}function toFont(options,fallback){options=options||{};fallback=fallback||defaults.font;var size=valueOrDefault(options.size,fallback.size);if(typeof size==='string'){size=parseInt(size,10);}var style=valueOrDefault(options.style,fallback.style);if(style&&!(''+style).match(FONT_STYLE)){console.warn('Invalid font style specified: "'+style+'"');style='';}var font={family:valueOrDefault(options.family,fallback.family),lineHeight:toLineHeight(valueOrDefault(options.lineHeight,fallback.lineHeight),size),size:size,style:style,weight:valueOrDefault(options.weight,fallback.weight),string:''};font.string=toFontString(font);return font;}function resolve(inputs,context,index,info){var cacheable=true;var i,ilen,value;for(i=0,ilen=inputs.length;i<ilen;++i){value=inputs[i];if(value===undefined){continue;}if(context!==undefined&&typeof value==='function'){value=value(context);cacheable=false;}if(index!==undefined&&isArray(value)){value=value[index%value.length];cacheable=false;}if(value!==undefined){if(info&&!cacheable){info.cacheable=false;}return value;}}}function _addGrace(minmax,grace,beginAtZero){var min=minmax.min,max=minmax.max;var change=toDimension(grace,(max-min)/2);var keepZero=function keepZero(value,add){return beginAtZero&&value===0?0:value+add;};return{min:keepZero(min,-Math.abs(change)),max:keepZero(max,change)};}function createContext(parentContext,context){return Object.assign(Object.create(parentContext),context);}var STATIC_POSITIONS=['left','top','right','bottom'];function filterByPosition(array,position){return array.filter(function(v){return v.pos===position;});}function filterDynamicPositionByAxis(array,axis){return array.filter(function(v){return STATIC_POSITIONS.indexOf(v.pos)===-1&&v.box.axis===axis;});}function sortByWeight(array,reverse){return array.sort(function(a,b){var v0=reverse?b:a;var v1=reverse?a:b;return v0.weight===v1.weight?v0.index-v1.index:v0.weight-v1.weight;});}function wrapBoxes(boxes){var layoutBoxes=[];var i,ilen,box,pos,stack,stackWeight;for(i=0,ilen=(boxes||[]).length;i<ilen;++i){box=boxes[i];var _box=box;pos=_box.position;var _box$options=_box.options;stack=_box$options.stack;var _box$options$stackWei=_box$options.stackWeight;stackWeight=_box$options$stackWei===void 0?1:_box$options$stackWei;layoutBoxes.push({index:i,box:box,pos:pos,horizontal:box.isHorizontal(),weight:box.weight,stack:stack&&pos+stack,stackWeight:stackWeight});}return layoutBoxes;}function buildStacks(layouts){var stacks={};var _iterator3=_createForOfIteratorHelper(layouts),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var wrap=_step3.value;var stack=wrap.stack,pos=wrap.pos,stackWeight=wrap.stackWeight;if(!stack||!STATIC_POSITIONS.includes(pos)){continue;}var _stack=stacks[stack]||(stacks[stack]={count:0,placed:0,weight:0,size:0});_stack.count++;_stack.weight+=stackWeight;}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}return stacks;}function setLayoutDims(layouts,params){var stacks=buildStacks(layouts);var vBoxMaxWidth=params.vBoxMaxWidth,hBoxMaxHeight=params.hBoxMaxHeight;var i,ilen,layout;for(i=0,ilen=layouts.length;i<ilen;++i){layout=layouts[i];var fullSize=layout.box.fullSize;var stack=stacks[layout.stack];var factor=stack&&layout.stackWeight/stack.weight;if(layout.horizontal){layout.width=factor?factor*vBoxMaxWidth:fullSize&&params.availableWidth;layout.height=hBoxMaxHeight;}else{layout.width=vBoxMaxWidth;layout.height=factor?factor*hBoxMaxHeight:fullSize&&params.availableHeight;}}return stacks;}function buildLayoutBoxes(boxes){var layoutBoxes=wrapBoxes(boxes);var fullSize=sortByWeight(layoutBoxes.filter(function(wrap){return wrap.box.fullSize;}),true);var left=sortByWeight(filterByPosition(layoutBoxes,'left'),true);var right=sortByWeight(filterByPosition(layoutBoxes,'right'));var top=sortByWeight(filterByPosition(layoutBoxes,'top'),true);var bottom=sortByWeight(filterByPosition(layoutBoxes,'bottom'));var centerHorizontal=filterDynamicPositionByAxis(layoutBoxes,'x');var centerVertical=filterDynamicPositionByAxis(layoutBoxes,'y');return{fullSize:fullSize,leftAndTop:left.concat(top),rightAndBottom:right.concat(centerVertical).concat(bottom).concat(centerHorizontal),chartArea:filterByPosition(layoutBoxes,'chartArea'),vertical:left.concat(right).concat(centerVertical),horizontal:top.concat(bottom).concat(centerHorizontal)};}function getCombinedMax(maxPadding,chartArea,a,b){return Math.max(maxPadding[a],chartArea[a])+Math.max(maxPadding[b],chartArea[b]);}function updateMaxPadding(maxPadding,boxPadding){maxPadding.top=Math.max(maxPadding.top,boxPadding.top);maxPadding.left=Math.max(maxPadding.left,boxPadding.left);maxPadding.bottom=Math.max(maxPadding.bottom,boxPadding.bottom);maxPadding.right=Math.max(maxPadding.right,boxPadding.right);}function updateDims(chartArea,params,layout,stacks){var pos=layout.pos,box=layout.box;var maxPadding=chartArea.maxPadding;if(!isObject(pos)){if(layout.size){chartArea[pos]-=layout.size;}var stack=stacks[layout.stack]||{size:0,count:1};stack.size=Math.max(stack.size,layout.horizontal?box.height:box.width);layout.size=stack.size/stack.count;chartArea[pos]+=layout.size;}if(box.getPadding){updateMaxPadding(maxPadding,box.getPadding());}var newWidth=Math.max(0,params.outerWidth-getCombinedMax(maxPadding,chartArea,'left','right'));var newHeight=Math.max(0,params.outerHeight-getCombinedMax(maxPadding,chartArea,'top','bottom'));var widthChanged=newWidth!==chartArea.w;var heightChanged=newHeight!==chartArea.h;chartArea.w=newWidth;chartArea.h=newHeight;return layout.horizontal?{same:widthChanged,other:heightChanged}:{same:heightChanged,other:widthChanged};}function handleMaxPadding(chartArea){var maxPadding=chartArea.maxPadding;function updatePos(pos){var change=Math.max(maxPadding[pos]-chartArea[pos],0);chartArea[pos]+=change;return change;}chartArea.y+=updatePos('top');chartArea.x+=updatePos('left');updatePos('right');updatePos('bottom');}function getMargins(horizontal,chartArea){var maxPadding=chartArea.maxPadding;function marginForPositions(positions){var margin={left:0,top:0,right:0,bottom:0};positions.forEach(function(pos){margin[pos]=Math.max(chartArea[pos],maxPadding[pos]);});return margin;}return horizontal?marginForPositions(['left','right']):marginForPositions(['top','bottom']);}function fitBoxes(boxes,chartArea,params,stacks){var refitBoxes=[];var i,ilen,layout,box,refit,changed;for(i=0,ilen=boxes.length,refit=0;i<ilen;++i){layout=boxes[i];box=layout.box;box.update(layout.width||chartArea.w,layout.height||chartArea.h,getMargins(layout.horizontal,chartArea));var _updateDims=updateDims(chartArea,params,layout,stacks),same=_updateDims.same,other=_updateDims.other;refit|=same&&refitBoxes.length;changed=changed||other;if(!box.fullSize){refitBoxes.push(layout);}}return refit&&fitBoxes(refitBoxes,chartArea,params,stacks)||changed;}function setBoxDims(box,left,top,width,height){box.top=top;box.left=left;box.right=left+width;box.bottom=top+height;box.width=width;box.height=height;}function placeBoxes(boxes,chartArea,params,stacks){var userPadding=params.padding;var x=chartArea.x,y=chartArea.y;var _iterator4=_createForOfIteratorHelper(boxes),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var layout=_step4.value;var box=layout.box;var stack=stacks[layout.stack]||{count:1,placed:0,weight:1};var weight=layout.stackWeight/stack.weight||1;if(layout.horizontal){var width=chartArea.w*weight;var height=stack.size||box.height;if(defined(stack.start)){y=stack.start;}if(box.fullSize){setBoxDims(box,userPadding.left,y,params.outerWidth-userPadding.right-userPadding.left,height);}else{setBoxDims(box,chartArea.left+stack.placed,y,width,height);}stack.start=y;stack.placed+=width;y=box.bottom;}else{var _height=chartArea.h*weight;var _width=stack.size||box.width;if(defined(stack.start)){x=stack.start;}if(box.fullSize){setBoxDims(box,x,userPadding.top,_width,params.outerHeight-userPadding.bottom-userPadding.top);}else{setBoxDims(box,x,chartArea.top+stack.placed,_width,_height);}stack.start=x;stack.placed+=_height;x=box.right;}}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}chartArea.x=x;chartArea.y=y;}defaults.set('layout',{autoPadding:true,padding:{top:0,right:0,bottom:0,left:0}});var layouts={addBox:function addBox(chart,item){if(!chart.boxes){chart.boxes=[];}item.fullSize=item.fullSize||false;item.position=item.position||'top';item.weight=item.weight||0;item._layers=item._layers||function(){return[{z:0,draw:function draw(chartArea){item.draw(chartArea);}}];};chart.boxes.push(item);},removeBox:function removeBox(chart,layoutItem){var index=chart.boxes?chart.boxes.indexOf(layoutItem):-1;if(index!==-1){chart.boxes.splice(index,1);}},configure:function configure(chart,item,options){item.fullSize=options.fullSize;item.position=options.position;item.weight=options.weight;},update:function update(chart,width,height,minPadding){if(!chart){return;}var padding=toPadding(chart.options.layout.padding);var availableWidth=Math.max(width-padding.width,0);var availableHeight=Math.max(height-padding.height,0);var boxes=buildLayoutBoxes(chart.boxes);var verticalBoxes=boxes.vertical;var horizontalBoxes=boxes.horizontal;each(chart.boxes,function(box){if(typeof box.beforeLayout==='function'){box.beforeLayout();}});var visibleVerticalBoxCount=verticalBoxes.reduce(function(total,wrap){return wrap.box.options&&wrap.box.options.display===false?total:total+1;},0)||1;var params=Object.freeze({outerWidth:width,outerHeight:height,padding:padding,availableWidth:availableWidth,availableHeight:availableHeight,vBoxMaxWidth:availableWidth/2/visibleVerticalBoxCount,hBoxMaxHeight:availableHeight/2});var maxPadding=Object.assign({},padding);updateMaxPadding(maxPadding,toPadding(minPadding));var chartArea=Object.assign({maxPadding:maxPadding,w:availableWidth,h:availableHeight,x:padding.left,y:padding.top},padding);var stacks=setLayoutDims(verticalBoxes.concat(horizontalBoxes),params);fitBoxes(boxes.fullSize,chartArea,params,stacks);fitBoxes(verticalBoxes,chartArea,params,stacks);if(fitBoxes(horizontalBoxes,chartArea,params,stacks)){fitBoxes(verticalBoxes,chartArea,params,stacks);}handleMaxPadding(chartArea);placeBoxes(boxes.leftAndTop,chartArea,params,stacks);chartArea.x+=chartArea.w;chartArea.y+=chartArea.h;placeBoxes(boxes.rightAndBottom,chartArea,params,stacks);chart.chartArea={left:chartArea.left,top:chartArea.top,right:chartArea.left+chartArea.w,bottom:chartArea.top+chartArea.h,height:chartArea.h,width:chartArea.w};each(boxes.chartArea,function(layout){var box=layout.box;Object.assign(box,chart.chartArea);box.update(chartArea.w,chartArea.h);});}};function _createResolver(scopes){var _cache2;var prefixes=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[''];var rootScopes=arguments.length>2&&arguments[2]!==undefined?arguments[2]:scopes;var fallback=arguments.length>3?arguments[3]:undefined;var getTarget=arguments.length>4&&arguments[4]!==undefined?arguments[4]:function(){return scopes[0];};if(!defined(fallback)){fallback=_resolve('_fallback',scopes);}var cache=(_cache2={},_defineProperty(_cache2,Symbol.toStringTag,'Object'),_defineProperty(_cache2,"_cacheable",true),_defineProperty(_cache2,"_scopes",scopes),_defineProperty(_cache2,"_rootScopes",rootScopes),_defineProperty(_cache2,"_fallback",fallback),_defineProperty(_cache2,"_getTarget",getTarget),_defineProperty(_cache2,"override",function override(scope){return _createResolver([scope].concat(_toConsumableArray(scopes)),prefixes,rootScopes,fallback);}),_cache2);return new Proxy(cache,{deleteProperty:function deleteProperty(target,prop){delete target[prop];delete target._keys;delete scopes[0][prop];return true;},get:function get(target,prop){return _cached(target,prop,function(){return _resolveWithPrefixes(prop,prefixes,scopes,target);});},getOwnPropertyDescriptor:function getOwnPropertyDescriptor(target,prop){return Reflect.getOwnPropertyDescriptor(target._scopes[0],prop);},getPrototypeOf:function getPrototypeOf(){return Reflect.getPrototypeOf(scopes[0]);},has:function has(target,prop){return getKeysFromAllScopes(target).includes(prop);},ownKeys:function ownKeys(target){return getKeysFromAllScopes(target);},set:function set(target,prop,value){var storage=target._storage||(target._storage=getTarget());storage[prop]=value;delete target[prop];delete target._keys;return true;}});}function _attachContext(proxy,context,subProxy,descriptorDefaults){var cache={_cacheable:false,_proxy:proxy,_context:context,_subProxy:subProxy,_stack:new Set(),_descriptors:_descriptors(proxy,descriptorDefaults),setContext:function setContext(ctx){return _attachContext(proxy,ctx,subProxy,descriptorDefaults);},override:function override(scope){return _attachContext(proxy.override(scope),context,subProxy,descriptorDefaults);}};return new Proxy(cache,{deleteProperty:function deleteProperty(target,prop){delete target[prop];delete proxy[prop];return true;},get:function get(target,prop,receiver){return _cached(target,prop,function(){return _resolveWithContext(target,prop,receiver);});},getOwnPropertyDescriptor:function getOwnPropertyDescriptor(target,prop){return target._descriptors.allKeys?Reflect.has(proxy,prop)?{enumerable:true,configurable:true}:undefined:Reflect.getOwnPropertyDescriptor(proxy,prop);},getPrototypeOf:function getPrototypeOf(){return Reflect.getPrototypeOf(proxy);},has:function has(target,prop){return Reflect.has(proxy,prop);},ownKeys:function ownKeys(){return Reflect.ownKeys(proxy);},set:function set(target,prop,value){proxy[prop]=value;delete target[prop];return true;}});}function _descriptors(proxy){var defaults=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{scriptable:true,indexable:true};var _proxy$_scriptable=proxy._scriptable,_scriptable=_proxy$_scriptable===void 0?defaults.scriptable:_proxy$_scriptable,_proxy$_indexable=proxy._indexable,_indexable=_proxy$_indexable===void 0?defaults.indexable:_proxy$_indexable,_proxy$_allKeys=proxy._allKeys,_allKeys=_proxy$_allKeys===void 0?defaults.allKeys:_proxy$_allKeys;return{allKeys:_allKeys,scriptable:_scriptable,indexable:_indexable,isScriptable:isFunction(_scriptable)?_scriptable:function(){return _scriptable;},isIndexable:isFunction(_indexable)?_indexable:function(){return _indexable;}};}var readKey=function readKey(prefix,name){return prefix?prefix+_capitalize(name):name;};var needsSubResolver=function needsSubResolver(prop,value){return isObject(value)&&prop!=='adapters';};function _cached(target,prop,resolve){if(Object.prototype.hasOwnProperty.call(target,prop)){return target[prop];}var value=resolve();target[prop]=value;return value;}function _resolveWithContext(target,prop,receiver){var _proxy=target._proxy,_context=target._context,_subProxy=target._subProxy,descriptors=target._descriptors;var value=_proxy[prop];if(isFunction(value)&&descriptors.isScriptable(prop)){value=_resolveScriptable(prop,value,target,receiver);}if(isArray(value)&&value.length){value=_resolveArray(prop,value,target,descriptors.isIndexable);}if(needsSubResolver(prop,value)){value=_attachContext(value,_context,_subProxy&&_subProxy[prop],descriptors);}return value;}function _resolveScriptable(prop,value,target,receiver){var _proxy=target._proxy,_context=target._context,_subProxy=target._subProxy,_stack=target._stack;if(_stack.has(prop)){throw new Error('Recursion detected: '+Array.from(_stack).join('->')+'->'+prop);}_stack.add(prop);value=value(_context,_subProxy||receiver);_stack["delete"](prop);if(isObject(value)){value=createSubResolver(_proxy._scopes,_proxy,prop,value);}return value;}function _resolveArray(prop,value,target,isIndexable){var _proxy=target._proxy,_context=target._context,_subProxy=target._subProxy,descriptors=target._descriptors;if(defined(_context.index)&&isIndexable(prop)){value=value[_context.index%value.length];}else if(isObject(value[0])){var arr=value;var scopes=_proxy._scopes.filter(function(s){return s!==arr;});value=[];var _iterator5=_createForOfIteratorHelper(arr),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var item=_step5.value;var resolver=createSubResolver(scopes,_proxy,prop,item);value.push(_attachContext(resolver,_context,_subProxy&&_subProxy[prop],descriptors));}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}}return value;}function resolveFallback(fallback,prop,value){return isFunction(fallback)?fallback(prop,value):fallback;}var getScope=function getScope(key,parent){return key===true?parent:typeof key==='string'?resolveObjectKey(parent,key):undefined;};function addScopes(set,parentScopes,key,parentFallback){var _iterator6=_createForOfIteratorHelper(parentScopes),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var parent=_step6.value;var scope=getScope(key,parent);if(scope){set.add(scope);var fallback=resolveFallback(scope._fallback,key,scope);if(defined(fallback)&&fallback!==key&&fallback!==parentFallback){return fallback;}}else if(scope===false&&defined(parentFallback)&&key!==parentFallback){return null;}}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}return false;}function createSubResolver(parentScopes,resolver,prop,value){var rootScopes=resolver._rootScopes;var fallback=resolveFallback(resolver._fallback,prop,value);var allScopes=[].concat(_toConsumableArray(parentScopes),_toConsumableArray(rootScopes));var set=new Set();set.add(value);var key=addScopesFromKey(set,allScopes,prop,fallback||prop);if(key===null){return false;}if(defined(fallback)&&fallback!==prop){key=addScopesFromKey(set,allScopes,fallback,key);if(key===null){return false;}}return _createResolver(Array.from(set),[''],rootScopes,fallback,function(){return subGetTarget(resolver,prop,value);});}function addScopesFromKey(set,allScopes,key,fallback){while(key){key=addScopes(set,allScopes,key,fallback);}return key;}function subGetTarget(resolver,prop,value){var parent=resolver._getTarget();if(!(prop in parent)){parent[prop]={};}var target=parent[prop];if(isArray(target)&&isObject(value)){return value;}return target;}function _resolveWithPrefixes(prop,prefixes,scopes,proxy){var value;var _iterator7=_createForOfIteratorHelper(prefixes),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var prefix=_step7.value;value=_resolve(readKey(prefix,prop),scopes);if(defined(value)){return needsSubResolver(prop,value)?createSubResolver(scopes,proxy,prop,value):value;}}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}}function _resolve(key,scopes){var _iterator8=_createForOfIteratorHelper(scopes),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var scope=_step8.value;if(!scope){continue;}var value=scope[key];if(defined(value)){return value;}}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}}function getKeysFromAllScopes(target){var keys=target._keys;if(!keys){keys=target._keys=resolveKeysFromAllScopes(target._scopes);}return keys;}function resolveKeysFromAllScopes(scopes){var set=new Set();var _iterator9=_createForOfIteratorHelper(scopes),_step9;try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var scope=_step9.value;var _iterator10=_createForOfIteratorHelper(Object.keys(scope).filter(function(k){return!k.startsWith('_');})),_step10;try{for(_iterator10.s();!(_step10=_iterator10.n()).done;){var key=_step10.value;set.add(key);}}catch(err){_iterator10.e(err);}finally{_iterator10.f();}}}catch(err){_iterator9.e(err);}finally{_iterator9.f();}return Array.from(set);}var EPSILON=Number.EPSILON||1e-14;var getPoint=function getPoint(points,i){return i<points.length&&!points[i].skip&&points[i];};var getValueAxis=function getValueAxis(indexAxis){return indexAxis==='x'?'y':'x';};function splineCurve(firstPoint,middlePoint,afterPoint,t){var previous=firstPoint.skip?middlePoint:firstPoint;var current=middlePoint;var next=afterPoint.skip?middlePoint:afterPoint;var d01=distanceBetweenPoints(current,previous);var d12=distanceBetweenPoints(next,current);var s01=d01/(d01+d12);var s12=d12/(d01+d12);s01=isNaN(s01)?0:s01;s12=isNaN(s12)?0:s12;var fa=t*s01;var fb=t*s12;return{previous:{x:current.x-fa*(next.x-previous.x),y:current.y-fa*(next.y-previous.y)},next:{x:current.x+fb*(next.x-previous.x),y:current.y+fb*(next.y-previous.y)}};}function monotoneAdjust(points,deltaK,mK){var pointsLen=points.length;var alphaK,betaK,tauK,squaredMagnitude,pointCurrent;var pointAfter=getPoint(points,0);for(var i=0;i<pointsLen-1;++i){pointCurrent=pointAfter;pointAfter=getPoint(points,i+1);if(!pointCurrent||!pointAfter){continue;}if(almostEquals(deltaK[i],0,EPSILON)){mK[i]=mK[i+1]=0;continue;}alphaK=mK[i]/deltaK[i];betaK=mK[i+1]/deltaK[i];squaredMagnitude=Math.pow(alphaK,2)+Math.pow(betaK,2);if(squaredMagnitude<=9){continue;}tauK=3/Math.sqrt(squaredMagnitude);mK[i]=alphaK*tauK*deltaK[i];mK[i+1]=betaK*tauK*deltaK[i];}}function monotoneCompute(points,mK){var indexAxis=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'x';var valueAxis=getValueAxis(indexAxis);var pointsLen=points.length;var delta,pointBefore,pointCurrent;var pointAfter=getPoint(points,0);for(var i=0;i<pointsLen;++i){pointBefore=pointCurrent;pointCurrent=pointAfter;pointAfter=getPoint(points,i+1);if(!pointCurrent){continue;}var iPixel=pointCurrent[indexAxis];var vPixel=pointCurrent[valueAxis];if(pointBefore){delta=(iPixel-pointBefore[indexAxis])/3;pointCurrent["cp1".concat(indexAxis)]=iPixel-delta;pointCurrent["cp1".concat(valueAxis)]=vPixel-delta*mK[i];}if(pointAfter){delta=(pointAfter[indexAxis]-iPixel)/3;pointCurrent["cp2".concat(indexAxis)]=iPixel+delta;pointCurrent["cp2".concat(valueAxis)]=vPixel+delta*mK[i];}}}function splineCurveMonotone(points){var indexAxis=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'x';var valueAxis=getValueAxis(indexAxis);var pointsLen=points.length;var deltaK=Array(pointsLen).fill(0);var mK=Array(pointsLen);var i,pointBefore,pointCurrent;var pointAfter=getPoint(points,0);for(i=0;i<pointsLen;++i){pointBefore=pointCurrent;pointCurrent=pointAfter;pointAfter=getPoint(points,i+1);if(!pointCurrent){continue;}if(pointAfter){var slopeDelta=pointAfter[indexAxis]-pointCurrent[indexAxis];deltaK[i]=slopeDelta!==0?(pointAfter[valueAxis]-pointCurrent[valueAxis])/slopeDelta:0;}mK[i]=!pointBefore?deltaK[i]:!pointAfter?deltaK[i-1]:sign(deltaK[i-1])!==sign(deltaK[i])?0:(deltaK[i-1]+deltaK[i])/2;}monotoneAdjust(points,deltaK,mK);monotoneCompute(points,mK,indexAxis);}function capControlPoint(pt,min,max){return Math.max(Math.min(pt,max),min);}function capBezierPoints(points,area){var i,ilen,point,inArea,inAreaPrev;var inAreaNext=_isPointInArea(points[0],area);for(i=0,ilen=points.length;i<ilen;++i){inAreaPrev=inArea;inArea=inAreaNext;inAreaNext=i<ilen-1&&_isPointInArea(points[i+1],area);if(!inArea){continue;}point=points[i];if(inAreaPrev){point.cp1x=capControlPoint(point.cp1x,area.left,area.right);point.cp1y=capControlPoint(point.cp1y,area.top,area.bottom);}if(inAreaNext){point.cp2x=capControlPoint(point.cp2x,area.left,area.right);point.cp2y=capControlPoint(point.cp2y,area.top,area.bottom);}}}function _updateBezierControlPoints(points,options,area,loop,indexAxis){var i,ilen,point,controlPoints;if(options.spanGaps){points=points.filter(function(pt){return!pt.skip;});}if(options.cubicInterpolationMode==='monotone'){splineCurveMonotone(points,indexAxis);}else{var prev=loop?points[points.length-1]:points[0];for(i=0,ilen=points.length;i<ilen;++i){point=points[i];controlPoints=splineCurve(prev,point,points[Math.min(i+1,ilen-(loop?0:1))%ilen],options.tension);point.cp1x=controlPoints.previous.x;point.cp1y=controlPoints.previous.y;point.cp2x=controlPoints.next.x;point.cp2y=controlPoints.next.y;prev=point;}}if(options.capBezierPoints){capBezierPoints(points,area);}}var atEdge=function atEdge(t){return t===0||t===1;};var elasticIn=function elasticIn(t,s,p){return-(Math.pow(2,10*(t-=1))*Math.sin((t-s)*TAU/p));};var elasticOut=function elasticOut(t,s,p){return Math.pow(2,-10*t)*Math.sin((t-s)*TAU/p)+1;};var effects={linear:function linear(t){return t;},easeInQuad:function easeInQuad(t){return t*t;},easeOutQuad:function easeOutQuad(t){return-t*(t-2);},easeInOutQuad:function easeInOutQuad(t){return(t/=0.5)<1?0.5*t*t:-0.5*(--t*(t-2)-1);},easeInCubic:function easeInCubic(t){return t*t*t;},easeOutCubic:function easeOutCubic(t){return(t-=1)*t*t+1;},easeInOutCubic:function easeInOutCubic(t){return(t/=0.5)<1?0.5*t*t*t:0.5*((t-=2)*t*t+2);},easeInQuart:function easeInQuart(t){return t*t*t*t;},easeOutQuart:function easeOutQuart(t){return-((t-=1)*t*t*t-1);},easeInOutQuart:function easeInOutQuart(t){return(t/=0.5)<1?0.5*t*t*t*t:-0.5*((t-=2)*t*t*t-2);},easeInQuint:function easeInQuint(t){return t*t*t*t*t;},easeOutQuint:function easeOutQuint(t){return(t-=1)*t*t*t*t+1;},easeInOutQuint:function easeInOutQuint(t){return(t/=0.5)<1?0.5*t*t*t*t*t:0.5*((t-=2)*t*t*t*t+2);},easeInSine:function easeInSine(t){return-Math.cos(t*HALF_PI)+1;},easeOutSine:function easeOutSine(t){return Math.sin(t*HALF_PI);},easeInOutSine:function easeInOutSine(t){return-0.5*(Math.cos(PI*t)-1);},easeInExpo:function easeInExpo(t){return t===0?0:Math.pow(2,10*(t-1));},easeOutExpo:function easeOutExpo(t){return t===1?1:-Math.pow(2,-10*t)+1;},easeInOutExpo:function easeInOutExpo(t){return atEdge(t)?t:t<0.5?0.5*Math.pow(2,10*(t*2-1)):0.5*(-Math.pow(2,-10*(t*2-1))+2);},easeInCirc:function easeInCirc(t){return t>=1?t:-(Math.sqrt(1-t*t)-1);},easeOutCirc:function easeOutCirc(t){return Math.sqrt(1-(t-=1)*t);},easeInOutCirc:function easeInOutCirc(t){return(t/=0.5)<1?-0.5*(Math.sqrt(1-t*t)-1):0.5*(Math.sqrt(1-(t-=2)*t)+1);},easeInElastic:function easeInElastic(t){return atEdge(t)?t:elasticIn(t,0.075,0.3);},easeOutElastic:function easeOutElastic(t){return atEdge(t)?t:elasticOut(t,0.075,0.3);},easeInOutElastic:function easeInOutElastic(t){var s=0.1125;var p=0.45;return atEdge(t)?t:t<0.5?0.5*elasticIn(t*2,s,p):0.5+0.5*elasticOut(t*2-1,s,p);},easeInBack:function easeInBack(t){var s=1.70158;return t*t*((s+1)*t-s);},easeOutBack:function easeOutBack(t){var s=1.70158;return(t-=1)*t*((s+1)*t+s)+1;},easeInOutBack:function easeInOutBack(t){var s=1.70158;if((t/=0.5)<1){return 0.5*(t*t*(((s*=1.525)+1)*t-s));}return 0.5*((t-=2)*t*(((s*=1.525)+1)*t+s)+2);},easeInBounce:function easeInBounce(t){return 1-effects.easeOutBounce(1-t);},easeOutBounce:function easeOutBounce(t){var m=7.5625;var d=2.75;if(t<1/d){return m*t*t;}if(t<2/d){return m*(t-=1.5/d)*t+0.75;}if(t<2.5/d){return m*(t-=2.25/d)*t+0.9375;}return m*(t-=2.625/d)*t+0.984375;},easeInOutBounce:function easeInOutBounce(t){return t<0.5?effects.easeInBounce(t*2)*0.5:effects.easeOutBounce(t*2-1)*0.5+0.5;}};function _pointInLine(p1,p2,t,mode){return{x:p1.x+t*(p2.x-p1.x),y:p1.y+t*(p2.y-p1.y)};}function _steppedInterpolation(p1,p2,t,mode){return{x:p1.x+t*(p2.x-p1.x),y:mode==='middle'?t<0.5?p1.y:p2.y:mode==='after'?t<1?p1.y:p2.y:t>0?p2.y:p1.y};}function _bezierInterpolation(p1,p2,t,mode){var cp1={x:p1.cp2x,y:p1.cp2y};var cp2={x:p2.cp1x,y:p2.cp1y};var a=_pointInLine(p1,cp1,t);var b=_pointInLine(cp1,cp2,t);var c=_pointInLine(cp2,p2,t);var d=_pointInLine(a,b,t);var e=_pointInLine(b,c,t);return _pointInLine(d,e,t);}var intlCache=new Map();function getNumberFormat(locale,options){options=options||{};var cacheKey=locale+JSON.stringify(options);var formatter=intlCache.get(cacheKey);if(!formatter){formatter=new Intl.NumberFormat(locale,options);intlCache.set(cacheKey,formatter);}return formatter;}function formatNumber(num,locale,options){return getNumberFormat(locale,options).format(num);}var getRightToLeftAdapter=function getRightToLeftAdapter(rectX,width){return{x:function x(_x2){return rectX+rectX+width-_x2;},setWidth:function setWidth(w){width=w;},textAlign:function textAlign(align){if(align==='center'){return align;}return align==='right'?'left':'right';},xPlus:function xPlus(x,value){return x-value;},leftForLtr:function leftForLtr(x,itemWidth){return x-itemWidth;}};};var getLeftToRightAdapter=function getLeftToRightAdapter(){return{x:function x(_x3){return _x3;},setWidth:function setWidth(w){},textAlign:function textAlign(align){return align;},xPlus:function xPlus(x,value){return x+value;},leftForLtr:function leftForLtr(x,_itemWidth){return x;}};};function getRtlAdapter(rtl,rectX,width){return rtl?getRightToLeftAdapter(rectX,width):getLeftToRightAdapter();}function overrideTextDirection(ctx,direction){var style,original;if(direction==='ltr'||direction==='rtl'){style=ctx.canvas.style;original=[style.getPropertyValue('direction'),style.getPropertyPriority('direction')];style.setProperty('direction',direction,'important');ctx.prevTextDirection=original;}}function restoreTextDirection(ctx,original){if(original!==undefined){delete ctx.prevTextDirection;ctx.canvas.style.setProperty('direction',original[0],original[1]);}}function propertyFn(property){if(property==='angle'){return{between:_angleBetween,compare:_angleDiff,normalize:_normalizeAngle};}return{between:function between(n,s,e){return n>=Math.min(s,e)&&n<=Math.max(e,s);},compare:function compare(a,b){return a-b;},normalize:function normalize(x){return x;}};}function normalizeSegment(_ref33){var start=_ref33.start,end=_ref33.end,count=_ref33.count,loop=_ref33.loop,style=_ref33.style;return{start:start%count,end:end%count,loop:loop&&(end-start+1)%count===0,style:style};}function getSegment(segment,points,bounds){var property=bounds.property,startBound=bounds.start,endBound=bounds.end;var _propertyFn=propertyFn(property),between=_propertyFn.between,normalize=_propertyFn.normalize;var count=points.length;var start=segment.start,end=segment.end,loop=segment.loop;var i,ilen;if(loop){start+=count;end+=count;for(i=0,ilen=count;i<ilen;++i){if(!between(normalize(points[start%count][property]),startBound,endBound)){break;}start--;end--;}start%=count;end%=count;}if(end<start){end+=count;}return{start:start,end:end,loop:loop,style:segment.style};}function _boundSegment(segment,points,bounds){if(!bounds){return[segment];}var property=bounds.property,startBound=bounds.start,endBound=bounds.end;var count=points.length;var _propertyFn2=propertyFn(property),compare=_propertyFn2.compare,between=_propertyFn2.between,normalize=_propertyFn2.normalize;var _getSegment=getSegment(segment,points,bounds),start=_getSegment.start,end=_getSegment.end,loop=_getSegment.loop,style=_getSegment.style;var result=[];var inside=false;var subStart=null;var value,point,prevValue;var startIsBefore=function startIsBefore(){return between(startBound,prevValue,value)&&compare(startBound,prevValue)!==0;};var endIsBefore=function endIsBefore(){return compare(endBound,value)===0||between(endBound,prevValue,value);};var shouldStart=function shouldStart(){return inside||startIsBefore();};var shouldStop=function shouldStop(){return!inside||endIsBefore();};for(var i=start,prev=start;i<=end;++i){point=points[i%count];if(point.skip){continue;}value=normalize(point[property]);if(value===prevValue){continue;}inside=between(value,startBound,endBound);if(subStart===null&&shouldStart()){subStart=compare(value,startBound)===0?i:prev;}if(subStart!==null&&shouldStop()){result.push(normalizeSegment({start:subStart,end:i,loop:loop,count:count,style:style}));subStart=null;}prev=i;prevValue=value;}if(subStart!==null){result.push(normalizeSegment({start:subStart,end:end,loop:loop,count:count,style:style}));}return result;}function _boundSegments(line,bounds){var result=[];var segments=line.segments;for(var i=0;i<segments.length;i++){var sub=_boundSegment(segments[i],line.points,bounds);if(sub.length){result.push.apply(result,_toConsumableArray(sub));}}return result;}function findStartAndEnd(points,count,loop,spanGaps){var start=0;var end=count-1;if(loop&&!spanGaps){while(start<count&&!points[start].skip){start++;}}while(start<count&&points[start].skip){start++;}start%=count;if(loop){end+=start;}while(end>start&&points[end%count].skip){end--;}end%=count;return{start:start,end:end};}function solidSegments(points,start,max,loop){var count=points.length;var result=[];var last=start;var prev=points[start];var end;for(end=start+1;end<=max;++end){var cur=points[end%count];if(cur.skip||cur.stop){if(!prev.skip){loop=false;result.push({start:start%count,end:(end-1)%count,loop:loop});start=last=cur.stop?end:null;}}else{last=end;if(prev.skip){start=end;}}prev=cur;}if(last!==null){result.push({start:start%count,end:last%count,loop:loop});}return result;}function _computeSegments(line,segmentOptions){var points=line.points;var spanGaps=line.options.spanGaps;var count=points.length;if(!count){return[];}var loop=!!line._loop;var _findStartAndEnd=findStartAndEnd(points,count,loop,spanGaps),start=_findStartAndEnd.start,end=_findStartAndEnd.end;if(spanGaps===true){return splitByStyles(line,[{start:start,end:end,loop:loop}],points,segmentOptions);}var max=end<start?end+count:end;var completeLoop=!!line._fullLoop&&start===0&&end===count-1;return splitByStyles(line,solidSegments(points,start,max,completeLoop),points,segmentOptions);}function splitByStyles(line,segments,points,segmentOptions){if(!segmentOptions||!segmentOptions.setContext||!points){return segments;}return doSplitByStyles(line,segments,points,segmentOptions);}function doSplitByStyles(line,segments,points,segmentOptions){var chartContext=line._chart.getContext();var baseStyle=readStyle(line.options);var datasetIndex=line._datasetIndex,spanGaps=line.options.spanGaps;var count=points.length;var result=[];var prevStyle=baseStyle;var start=segments[0].start;var i=start;function addStyle(s,e,l,st){var dir=spanGaps?-1:1;if(s===e){return;}s+=count;while(points[s%count].skip){s-=dir;}while(points[e%count].skip){e+=dir;}if(s%count!==e%count){result.push({start:s%count,end:e%count,loop:l,style:st});prevStyle=st;start=e%count;}}var _iterator11=_createForOfIteratorHelper(segments),_step11;try{for(_iterator11.s();!(_step11=_iterator11.n()).done;){var segment=_step11.value;start=spanGaps?start:segment.start;var prev=points[start%count];var style=void 0;for(i=start+1;i<=segment.end;i++){var pt=points[i%count];style=readStyle(segmentOptions.setContext(createContext(chartContext,{type:'segment',p0:prev,p1:pt,p0DataIndex:(i-1)%count,p1DataIndex:i%count,datasetIndex:datasetIndex})));if(styleChanged(style,prevStyle)){addStyle(start,i-1,segment.loop,prevStyle);}prev=pt;prevStyle=style;}if(start<i-1){addStyle(start,i-1,segment.loop,prevStyle);}}}catch(err){_iterator11.e(err);}finally{_iterator11.f();}return result;}function readStyle(options){return{backgroundColor:options.backgroundColor,borderCapStyle:options.borderCapStyle,borderDash:options.borderDash,borderDashOffset:options.borderDashOffset,borderJoinStyle:options.borderJoinStyle,borderWidth:options.borderWidth,borderColor:options.borderColor};}function styleChanged(style,prevStyle){return prevStyle&&JSON.stringify(style)!==JSON.stringify(prevStyle);}var helpers=/*#__PURE__*/Object.freeze({__proto__:null,easingEffects:effects,color:_color,getHoverColor:getHoverColor,noop:noop,uid:uid,isNullOrUndef:isNullOrUndef,isArray:isArray,isObject:isObject,isFinite:isNumberFinite,finiteOrDefault:finiteOrDefault,valueOrDefault:valueOrDefault,toPercentage:toPercentage,toDimension:toDimension,callback:callback,each:each,_elementsEqual:_elementsEqual,clone:clone,_merger:_merger,merge:merge,mergeIf:mergeIf,_mergerIf:_mergerIf,_deprecated:_deprecated,resolveObjectKey:resolveObjectKey,_capitalize:_capitalize,defined:defined,isFunction:isFunction,setsEqual:setsEqual,toFontString:toFontString,_measureText:_measureText,_longestText:_longestText,_alignPixel:_alignPixel,clearCanvas:clearCanvas,drawPoint:drawPoint,_isPointInArea:_isPointInArea,clipArea:clipArea,unclipArea:unclipArea,_steppedLineTo:_steppedLineTo,_bezierCurveTo:_bezierCurveTo,renderText:renderText,addRoundedRectPath:addRoundedRectPath,_lookup:_lookup,_lookupByKey:_lookupByKey,_rlookupByKey:_rlookupByKey,_filterBetween:_filterBetween,listenArrayEvents:listenArrayEvents,unlistenArrayEvents:unlistenArrayEvents,_arrayUnique:_arrayUnique,_createResolver:_createResolver,_attachContext:_attachContext,_descriptors:_descriptors,splineCurve:splineCurve,splineCurveMonotone:splineCurveMonotone,_updateBezierControlPoints:_updateBezierControlPoints,_isDomSupported:_isDomSupported,_getParentNode:_getParentNode,getStyle:getStyle,getRelativePosition:getRelativePosition$1,getMaximumSize:_getMaximumSize,retinaScale:retinaScale,supportsEventListenerOptions:supportsEventListenerOptions,readUsedSize:readUsedSize,fontString:fontString,requestAnimFrame:requestAnimFrame,throttled:throttled,debounce:debounce,_toLeftRightCenter:_toLeftRightCenter,_alignStartEnd:_alignStartEnd,_textX:_textX,_pointInLine:_pointInLine,_steppedInterpolation:_steppedInterpolation,_bezierInterpolation:_bezierInterpolation,formatNumber:formatNumber,toLineHeight:toLineHeight,_readValueToProps:_readValueToProps,toTRBL:toTRBL,toTRBLCorners:toTRBLCorners,toPadding:toPadding,toFont:toFont,resolve:resolve,_addGrace:_addGrace,createContext:createContext,PI:PI,TAU:TAU,PITAU:PITAU,INFINITY:INFINITY,RAD_PER_DEG:RAD_PER_DEG,HALF_PI:HALF_PI,QUARTER_PI:QUARTER_PI,TWO_THIRDS_PI:TWO_THIRDS_PI,log10:log10,sign:sign,niceNum:niceNum,_factorize:_factorize,isNumber:isNumber,almostEquals:almostEquals,almostWhole:almostWhole,_setMinAndMaxByKey:_setMinAndMaxByKey,toRadians:toRadians,toDegrees:toDegrees,_decimalPlaces:_decimalPlaces,getAngleFromPoint:getAngleFromPoint,distanceBetweenPoints:distanceBetweenPoints,_angleDiff:_angleDiff,_normalizeAngle:_normalizeAngle,_angleBetween:_angleBetween,_limitValue:_limitValue,_int16Range:_int16Range,getRtlAdapter:getRtlAdapter,overrideTextDirection:overrideTextDirection,restoreTextDirection:restoreTextDirection,_boundSegment:_boundSegment,_boundSegments:_boundSegments,_computeSegments:_computeSegments});var BasePlatform=/*#__PURE__*/function(){function BasePlatform(){_classCallCheck(this,BasePlatform);}_createClass(BasePlatform,[{key:"acquireContext",value:function acquireContext(canvas,aspectRatio){}},{key:"releaseContext",value:function releaseContext(context){return false;}},{key:"addEventListener",value:function addEventListener(chart,type,listener){}},{key:"removeEventListener",value:function removeEventListener(chart,type,listener){}},{key:"getDevicePixelRatio",value:function getDevicePixelRatio(){return 1;}},{key:"getMaximumSize",value:function getMaximumSize(element,width,height,aspectRatio){width=Math.max(0,width||element.width);height=height||element.height;return{width:width,height:Math.max(0,aspectRatio?Math.floor(width/aspectRatio):height)};}},{key:"isAttached",value:function isAttached(canvas){return true;}},{key:"updateConfig",value:function updateConfig(config){}}]);return BasePlatform;}();var BasicPlatform=/*#__PURE__*/function(_BasePlatform){_inherits(BasicPlatform,_BasePlatform);var _super2=_createSuper(BasicPlatform);function BasicPlatform(){_classCallCheck(this,BasicPlatform);return _super2.apply(this,arguments);}_createClass(BasicPlatform,[{key:"acquireContext",value:function acquireContext(item){return item&&item.getContext&&item.getContext('2d')||null;}},{key:"updateConfig",value:function updateConfig(config){config.options.animation=false;}}]);return BasicPlatform;}(BasePlatform);var EXPANDO_KEY='$chartjs';var EVENT_TYPES={touchstart:'mousedown',touchmove:'mousemove',touchend:'mouseup',pointerenter:'mouseenter',pointerdown:'mousedown',pointermove:'mousemove',pointerup:'mouseup',pointerleave:'mouseout',pointerout:'mouseout'};var isNullOrEmpty=function isNullOrEmpty(value){return value===null||value==='';};function initCanvas(canvas,aspectRatio){var style=canvas.style;var renderHeight=canvas.getAttribute('height');var renderWidth=canvas.getAttribute('width');canvas[EXPANDO_KEY]={initial:{height:renderHeight,width:renderWidth,style:{display:style.display,height:style.height,width:style.width}}};style.display=style.display||'block';style.boxSizing=style.boxSizing||'border-box';if(isNullOrEmpty(renderWidth)){var displayWidth=readUsedSize(canvas,'width');if(displayWidth!==undefined){canvas.width=displayWidth;}}if(isNullOrEmpty(renderHeight)){if(canvas.style.height===''){canvas.height=canvas.width/(aspectRatio||2);}else{var displayHeight=readUsedSize(canvas,'height');if(displayHeight!==undefined){canvas.height=displayHeight;}}}return canvas;}var eventListenerOptions=supportsEventListenerOptions?{passive:true}:false;function addListener(node,type,listener){node.addEventListener(type,listener,eventListenerOptions);}function removeListener(chart,type,listener){chart.canvas.removeEventListener(type,listener,eventListenerOptions);}function fromNativeEvent(event,chart){var type=EVENT_TYPES[event.type]||event.type;var _getRelativePosition$=getRelativePosition$1(event,chart),x=_getRelativePosition$.x,y=_getRelativePosition$.y;return{type:type,chart:chart,"native":event,x:x!==undefined?x:null,y:y!==undefined?y:null};}function createAttachObserver(chart,type,listener){var canvas=chart.canvas;var observer=new MutationObserver(function(entries){var _iterator12=_createForOfIteratorHelper(entries),_step12;try{for(_iterator12.s();!(_step12=_iterator12.n()).done;){var entry=_step12.value;var _iterator13=_createForOfIteratorHelper(entry.addedNodes),_step13;try{for(_iterator13.s();!(_step13=_iterator13.n()).done;){var node=_step13.value;if(node===canvas||node.contains(canvas)){return listener();}}}catch(err){_iterator13.e(err);}finally{_iterator13.f();}}}catch(err){_iterator12.e(err);}finally{_iterator12.f();}});observer.observe(document,{childList:true,subtree:true});return observer;}function createDetachObserver(chart,type,listener){var canvas=chart.canvas;var observer=new MutationObserver(function(entries){var _iterator14=_createForOfIteratorHelper(entries),_step14;try{for(_iterator14.s();!(_step14=_iterator14.n()).done;){var entry=_step14.value;var _iterator15=_createForOfIteratorHelper(entry.removedNodes),_step15;try{for(_iterator15.s();!(_step15=_iterator15.n()).done;){var node=_step15.value;if(node===canvas||node.contains(canvas)){return listener();}}}catch(err){_iterator15.e(err);}finally{_iterator15.f();}}}catch(err){_iterator14.e(err);}finally{_iterator14.f();}});observer.observe(document,{childList:true,subtree:true});return observer;}var drpListeningCharts=new Map();var oldDevicePixelRatio=0;function onWindowResize(){var dpr=window.devicePixelRatio;if(dpr===oldDevicePixelRatio){return;}oldDevicePixelRatio=dpr;drpListeningCharts.forEach(function(resize,chart){if(chart.currentDevicePixelRatio!==dpr){resize();}});}function listenDevicePixelRatioChanges(chart,resize){if(!drpListeningCharts.size){window.addEventListener('resize',onWindowResize);}drpListeningCharts.set(chart,resize);}function unlistenDevicePixelRatioChanges(chart){drpListeningCharts["delete"](chart);if(!drpListeningCharts.size){window.removeEventListener('resize',onWindowResize);}}function createResizeObserver(chart,type,listener){var canvas=chart.canvas;var container=canvas&&_getParentNode(canvas);if(!container){return;}var resize=throttled(function(width,height){var w=container.clientWidth;listener(width,height);if(w<container.clientWidth){listener();}},window);var observer=new ResizeObserver(function(entries){var entry=entries[0];var width=entry.contentRect.width;var height=entry.contentRect.height;if(width===0&&height===0){return;}resize(width,height);});observer.observe(container);listenDevicePixelRatioChanges(chart,resize);return observer;}function releaseObserver(chart,type,observer){if(observer){observer.disconnect();}if(type==='resize'){unlistenDevicePixelRatioChanges(chart);}}function createProxyAndListen(chart,type,listener){var canvas=chart.canvas;var proxy=throttled(function(event){if(chart.ctx!==null){listener(fromNativeEvent(event,chart));}},chart,function(args){var event=args[0];return[event,event.offsetX,event.offsetY];});addListener(canvas,type,proxy);return proxy;}var DomPlatform=/*#__PURE__*/function(_BasePlatform2){_inherits(DomPlatform,_BasePlatform2);var _super3=_createSuper(DomPlatform);function DomPlatform(){_classCallCheck(this,DomPlatform);return _super3.apply(this,arguments);}_createClass(DomPlatform,[{key:"acquireContext",value:function acquireContext(canvas,aspectRatio){var context=canvas&&canvas.getContext&&canvas.getContext('2d');if(context&&context.canvas===canvas){initCanvas(canvas,aspectRatio);return context;}return null;}},{key:"releaseContext",value:function releaseContext(context){var canvas=context.canvas;if(!canvas[EXPANDO_KEY]){return false;}var initial=canvas[EXPANDO_KEY].initial;['height','width'].forEach(function(prop){var value=initial[prop];if(isNullOrUndef(value)){canvas.removeAttribute(prop);}else{canvas.setAttribute(prop,value);}});var style=initial.style||{};Object.keys(style).forEach(function(key){canvas.style[key]=style[key];});canvas.width=canvas.width;delete canvas[EXPANDO_KEY];return true;}},{key:"addEventListener",value:function addEventListener(chart,type,listener){this.removeEventListener(chart,type);var proxies=chart.$proxies||(chart.$proxies={});var handlers={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver};var handler=handlers[type]||createProxyAndListen;proxies[type]=handler(chart,type,listener);}},{key:"removeEventListener",value:function removeEventListener(chart,type){var proxies=chart.$proxies||(chart.$proxies={});var proxy=proxies[type];if(!proxy){return;}var handlers={attach:releaseObserver,detach:releaseObserver,resize:releaseObserver};var handler=handlers[type]||removeListener;handler(chart,type,proxy);proxies[type]=undefined;}},{key:"getDevicePixelRatio",value:function getDevicePixelRatio(){return window.devicePixelRatio;}},{key:"getMaximumSize",value:function getMaximumSize(canvas,width,height,aspectRatio){return _getMaximumSize(canvas,width,height,aspectRatio);}},{key:"isAttached",value:function isAttached(canvas){var container=_getParentNode(canvas);return!!(container&&container.isConnected);}}]);return DomPlatform;}(BasePlatform);function _detectPlatform(canvas){if(!_isDomSupported()||typeof OffscreenCanvas!=='undefined'&&canvas instanceof OffscreenCanvas){return BasicPlatform;}return DomPlatform;}var platforms=/*#__PURE__*/Object.freeze({__proto__:null,_detectPlatform:_detectPlatform,BasePlatform:BasePlatform,BasicPlatform:BasicPlatform,DomPlatform:DomPlatform});var transparent='transparent';var interpolators={"boolean":function boolean(from,to,factor){return factor>0.5?to:from;},color:function color(from,to,factor){var c0=_color(from||transparent);var c1=c0.valid&&_color(to||transparent);return c1&&c1.valid?c1.mix(c0,factor).hexString():to;},number:function number(from,to,factor){return from+(to-from)*factor;}};var Animation=/*#__PURE__*/function(){function Animation(cfg,target,prop,to){_classCallCheck(this,Animation);var currentValue=target[prop];to=resolve([cfg.to,to,currentValue,cfg.from]);var from=resolve([cfg.from,currentValue,to]);this._active=true;this._fn=cfg.fn||interpolators[cfg.type||_typeof(from)];this._easing=effects[cfg.easing]||effects.linear;this._start=Math.floor(Date.now()+(cfg.delay||0));this._duration=this._total=Math.floor(cfg.duration);this._loop=!!cfg.loop;this._target=target;this._prop=prop;this._from=from;this._to=to;this._promises=undefined;}_createClass(Animation,[{key:"active",value:function active(){return this._active;}},{key:"update",value:function update(cfg,to,date){if(this._active){this._notify(false);var currentValue=this._target[this._prop];var elapsed=date-this._start;var remain=this._duration-elapsed;this._start=date;this._duration=Math.floor(Math.max(remain,cfg.duration));this._total+=elapsed;this._loop=!!cfg.loop;this._to=resolve([cfg.to,to,currentValue,cfg.from]);this._from=resolve([cfg.from,currentValue,to]);}}},{key:"cancel",value:function cancel(){if(this._active){this.tick(Date.now());this._active=false;this._notify(false);}}},{key:"tick",value:function tick(date){var elapsed=date-this._start;var duration=this._duration;var prop=this._prop;var from=this._from;var loop=this._loop;var to=this._to;var factor;this._active=from!==to&&(loop||elapsed<duration);if(!this._active){this._target[prop]=to;this._notify(true);return;}if(elapsed<0){this._target[prop]=from;return;}factor=elapsed/duration%2;factor=loop&&factor>1?2-factor:factor;factor=this._easing(Math.min(1,Math.max(0,factor)));this._target[prop]=this._fn(from,to,factor);}},{key:"wait",value:function wait(){var promises=this._promises||(this._promises=[]);return new Promise(function(res,rej){promises.push({res:res,rej:rej});});}},{key:"_notify",value:function _notify(resolved){var method=resolved?'res':'rej';var promises=this._promises||[];for(var i=0;i<promises.length;i++){promises[i][method]();}}}]);return Animation;}();var numbers=['x','y','borderWidth','radius','tension'];var colors=['color','borderColor','backgroundColor'];defaults.set('animation',{delay:undefined,duration:1000,easing:'easeOutQuart',fn:undefined,from:undefined,loop:undefined,to:undefined,type:undefined});var animationOptions=Object.keys(defaults.animation);defaults.describe('animation',{_fallback:false,_indexable:false,_scriptable:function _scriptable(name){return name!=='onProgress'&&name!=='onComplete'&&name!=='fn';}});defaults.set('animations',{colors:{type:'color',properties:colors},numbers:{type:'number',properties:numbers}});defaults.describe('animations',{_fallback:'animation'});defaults.set('transitions',{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:'transparent'},visible:{type:'boolean',duration:0}}},hide:{animations:{colors:{to:'transparent'},visible:{type:'boolean',easing:'linear',fn:function fn(v){return v|0;}}}}});var Animations=/*#__PURE__*/function(){function Animations(chart,config){_classCallCheck(this,Animations);this._chart=chart;this._properties=new Map();this.configure(config);}_createClass(Animations,[{key:"configure",value:function configure(config){if(!isObject(config)){return;}var animatedProps=this._properties;Object.getOwnPropertyNames(config).forEach(function(key){var cfg=config[key];if(!isObject(cfg)){return;}var resolved={};var _iterator16=_createForOfIteratorHelper(animationOptions),_step16;try{for(_iterator16.s();!(_step16=_iterator16.n()).done;){var option=_step16.value;resolved[option]=cfg[option];}}catch(err){_iterator16.e(err);}finally{_iterator16.f();}(isArray(cfg.properties)&&cfg.properties||[key]).forEach(function(prop){if(prop===key||!animatedProps.has(prop)){animatedProps.set(prop,resolved);}});});}},{key:"_animateOptions",value:function _animateOptions(target,values){var newOptions=values.options;var options=resolveTargetOptions(target,newOptions);if(!options){return[];}var animations=this._createAnimations(options,newOptions);if(newOptions.$shared){awaitAll(target.options.$animations,newOptions).then(function(){target.options=newOptions;},function(){});}return animations;}},{key:"_createAnimations",value:function _createAnimations(target,values){var animatedProps=this._properties;var animations=[];var running=target.$animations||(target.$animations={});var props=Object.keys(values);var date=Date.now();var i;for(i=props.length-1;i>=0;--i){var prop=props[i];if(prop.charAt(0)==='$'){continue;}if(prop==='options'){animations.push.apply(animations,_toConsumableArray(this._animateOptions(target,values)));continue;}var value=values[prop];var animation=running[prop];var cfg=animatedProps.get(prop);if(animation){if(cfg&&animation.active()){animation.update(cfg,value,date);continue;}else{animation.cancel();}}if(!cfg||!cfg.duration){target[prop]=value;continue;}running[prop]=animation=new Animation(cfg,target,prop,value);animations.push(animation);}return animations;}},{key:"update",value:function update(target,values){if(this._properties.size===0){Object.assign(target,values);return;}var animations=this._createAnimations(target,values);if(animations.length){animator.add(this._chart,animations);return true;}}}]);return Animations;}();function awaitAll(animations,properties){var running=[];var keys=Object.keys(properties);for(var i=0;i<keys.length;i++){var anim=animations[keys[i]];if(anim&&anim.active()){running.push(anim.wait());}}return Promise.all(running);}function resolveTargetOptions(target,newOptions){if(!newOptions){return;}var options=target.options;if(!options){target.options=newOptions;return;}if(options.$shared){target.options=options=Object.assign({},options,{$shared:false,$animations:{}});}return options;}function scaleClip(scale,allowedOverflow){var opts=scale&&scale.options||{};var reverse=opts.reverse;var min=opts.min===undefined?allowedOverflow:0;var max=opts.max===undefined?allowedOverflow:0;return{start:reverse?max:min,end:reverse?min:max};}function defaultClip(xScale,yScale,allowedOverflow){if(allowedOverflow===false){return false;}var x=scaleClip(xScale,allowedOverflow);var y=scaleClip(yScale,allowedOverflow);return{top:y.end,right:x.end,bottom:y.start,left:x.start};}function toClip(value){var t,r,b,l;if(isObject(value)){t=value.top;r=value.right;b=value.bottom;l=value.left;}else{t=r=b=l=value;}return{top:t,right:r,bottom:b,left:l,disabled:value===false};}function getSortedDatasetIndices(chart,filterVisible){var keys=[];var metasets=chart._getSortedDatasetMetas(filterVisible);var i,ilen;for(i=0,ilen=metasets.length;i<ilen;++i){keys.push(metasets[i].index);}return keys;}function _applyStack(stack,value,dsIndex){var options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var keys=stack.keys;var singleMode=options.mode==='single';var i,ilen,datasetIndex,otherValue;if(value===null){return;}for(i=0,ilen=keys.length;i<ilen;++i){datasetIndex=+keys[i];if(datasetIndex===dsIndex){if(options.all){continue;}break;}otherValue=stack.values[datasetIndex];if(isNumberFinite(otherValue)&&(singleMode||value===0||sign(value)===sign(otherValue))){value+=otherValue;}}return value;}function convertObjectDataToArray(data){var keys=Object.keys(data);var adata=new Array(keys.length);var i,ilen,key;for(i=0,ilen=keys.length;i<ilen;++i){key=keys[i];adata[i]={x:key,y:data[key]};}return adata;}function isStacked(scale,meta){var stacked=scale&&scale.options.stacked;return stacked||stacked===undefined&&meta.stack!==undefined;}function getStackKey(indexScale,valueScale,meta){return"".concat(indexScale.id,".").concat(valueScale.id,".").concat(meta.stack||meta.type);}function getUserBounds(scale){var _scale$getUserBounds=scale.getUserBounds(),min=_scale$getUserBounds.min,max=_scale$getUserBounds.max,minDefined=_scale$getUserBounds.minDefined,maxDefined=_scale$getUserBounds.maxDefined;return{min:minDefined?min:Number.NEGATIVE_INFINITY,max:maxDefined?max:Number.POSITIVE_INFINITY};}function getOrCreateStack(stacks,stackKey,indexValue){var subStack=stacks[stackKey]||(stacks[stackKey]={});return subStack[indexValue]||(subStack[indexValue]={});}function getLastIndexInStack(stack,vScale,positive,type){var _iterator17=_createForOfIteratorHelper(vScale.getMatchingVisibleMetas(type).reverse()),_step17;try{for(_iterator17.s();!(_step17=_iterator17.n()).done;){var meta=_step17.value;var value=stack[meta.index];if(positive&&value>0||!positive&&value<0){return meta.index;}}}catch(err){_iterator17.e(err);}finally{_iterator17.f();}return null;}function updateStacks(controller,parsed){var chart=controller.chart,meta=controller._cachedMeta;var stacks=chart._stacks||(chart._stacks={});var iScale=meta.iScale,vScale=meta.vScale,datasetIndex=meta.index;var iAxis=iScale.axis;var vAxis=vScale.axis;var key=getStackKey(iScale,vScale,meta);var ilen=parsed.length;var stack;for(var i=0;i<ilen;++i){var item=parsed[i];var index=item[iAxis],value=item[vAxis];var itemStacks=item._stacks||(item._stacks={});stack=itemStacks[vAxis]=getOrCreateStack(stacks,key,index);stack[datasetIndex]=value;stack._top=getLastIndexInStack(stack,vScale,true,meta.type);stack._bottom=getLastIndexInStack(stack,vScale,false,meta.type);}}function getFirstScaleId(chart,axis){var scales=chart.scales;return Object.keys(scales).filter(function(key){return scales[key].axis===axis;}).shift();}function createDatasetContext(parent,index){return createContext(parent,{active:false,dataset:undefined,datasetIndex:index,index:index,mode:'default',type:'dataset'});}function createDataContext(parent,index,element){return createContext(parent,{active:false,dataIndex:index,parsed:undefined,raw:undefined,element:element,index:index,mode:'default',type:'data'});}function clearStacks(meta,items){var datasetIndex=meta.controller.index;var axis=meta.vScale&&meta.vScale.axis;if(!axis){return;}items=items||meta._parsed;var _iterator18=_createForOfIteratorHelper(items),_step18;try{for(_iterator18.s();!(_step18=_iterator18.n()).done;){var parsed=_step18.value;var stacks=parsed._stacks;if(!stacks||stacks[axis]===undefined||stacks[axis][datasetIndex]===undefined){return;}delete stacks[axis][datasetIndex];}}catch(err){_iterator18.e(err);}finally{_iterator18.f();}}var isDirectUpdateMode=function isDirectUpdateMode(mode){return mode==='reset'||mode==='none';};var cloneIfNotShared=function cloneIfNotShared(cached,shared){return shared?cached:Object.assign({},cached);};var createStack=function createStack(canStack,meta,chart){return canStack&&!meta.hidden&&meta._stacked&&{keys:getSortedDatasetIndices(chart,true),values:null};};var DatasetController=/*#__PURE__*/function(){function DatasetController(chart,datasetIndex){_classCallCheck(this,DatasetController);this.chart=chart;this._ctx=chart.ctx;this.index=datasetIndex;this._cachedDataOpts={};this._cachedMeta=this.getMeta();this._type=this._cachedMeta.type;this.options=undefined;this._parsing=false;this._data=undefined;this._objectData=undefined;this._sharedOptions=undefined;this._drawStart=undefined;this._drawCount=undefined;this.enableOptionSharing=false;this.$context=undefined;this._syncList=[];this.initialize();}_createClass(DatasetController,[{key:"initialize",value:function initialize(){var meta=this._cachedMeta;this.configure();this.linkScales();meta._stacked=isStacked(meta.vScale,meta);this.addElements();}},{key:"updateIndex",value:function updateIndex(datasetIndex){if(this.index!==datasetIndex){clearStacks(this._cachedMeta);}this.index=datasetIndex;}},{key:"linkScales",value:function linkScales(){var chart=this.chart;var meta=this._cachedMeta;var dataset=this.getDataset();var chooseId=function chooseId(axis,x,y,r){return axis==='x'?x:axis==='r'?r:y;};var xid=meta.xAxisID=valueOrDefault(dataset.xAxisID,getFirstScaleId(chart,'x'));var yid=meta.yAxisID=valueOrDefault(dataset.yAxisID,getFirstScaleId(chart,'y'));var rid=meta.rAxisID=valueOrDefault(dataset.rAxisID,getFirstScaleId(chart,'r'));var indexAxis=meta.indexAxis;var iid=meta.iAxisID=chooseId(indexAxis,xid,yid,rid);var vid=meta.vAxisID=chooseId(indexAxis,yid,xid,rid);meta.xScale=this.getScaleForId(xid);meta.yScale=this.getScaleForId(yid);meta.rScale=this.getScaleForId(rid);meta.iScale=this.getScaleForId(iid);meta.vScale=this.getScaleForId(vid);}},{key:"getDataset",value:function getDataset(){return this.chart.data.datasets[this.index];}},{key:"getMeta",value:function getMeta(){return this.chart.getDatasetMeta(this.index);}},{key:"getScaleForId",value:function getScaleForId(scaleID){return this.chart.scales[scaleID];}},{key:"_getOtherScale",value:function _getOtherScale(scale){var meta=this._cachedMeta;return scale===meta.iScale?meta.vScale:meta.iScale;}},{key:"reset",value:function reset(){this._update('reset');}},{key:"_destroy",value:function _destroy(){var meta=this._cachedMeta;if(this._data){unlistenArrayEvents(this._data,this);}if(meta._stacked){clearStacks(meta);}}},{key:"_dataCheck",value:function _dataCheck(){var dataset=this.getDataset();var data=dataset.data||(dataset.data=[]);var _data=this._data;if(isObject(data)){this._data=convertObjectDataToArray(data);}else if(_data!==data){if(_data){unlistenArrayEvents(_data,this);var meta=this._cachedMeta;clearStacks(meta);meta._parsed=[];}if(data&&Object.isExtensible(data)){listenArrayEvents(data,this);}this._syncList=[];this._data=data;}}},{key:"addElements",value:function addElements(){var meta=this._cachedMeta;this._dataCheck();if(this.datasetElementType){meta.dataset=new this.datasetElementType();}}},{key:"buildOrUpdateElements",value:function buildOrUpdateElements(resetNewElements){var meta=this._cachedMeta;var dataset=this.getDataset();var stackChanged=false;this._dataCheck();var oldStacked=meta._stacked;meta._stacked=isStacked(meta.vScale,meta);if(meta.stack!==dataset.stack){stackChanged=true;clearStacks(meta);meta.stack=dataset.stack;}this._resyncElements(resetNewElements);if(stackChanged||oldStacked!==meta._stacked){updateStacks(this,meta._parsed);}}},{key:"configure",value:function configure(){var config=this.chart.config;var scopeKeys=config.datasetScopeKeys(this._type);var scopes=config.getOptionScopes(this.getDataset(),scopeKeys,true);this.options=config.createResolver(scopes,this.getContext());this._parsing=this.options.parsing;}},{key:"parse",value:function parse(start,count){var meta=this._cachedMeta,data=this._data;var iScale=meta.iScale,_stacked=meta._stacked;var iAxis=iScale.axis;var sorted=start===0&&count===data.length?true:meta._sorted;var prev=start>0&&meta._parsed[start-1];var i,cur,parsed;if(this._parsing===false){meta._parsed=data;meta._sorted=true;parsed=data;}else{if(isArray(data[start])){parsed=this.parseArrayData(meta,data,start,count);}else if(isObject(data[start])){parsed=this.parseObjectData(meta,data,start,count);}else{parsed=this.parsePrimitiveData(meta,data,start,count);}var isNotInOrderComparedToPrev=function isNotInOrderComparedToPrev(){return cur[iAxis]===null||prev&&cur[iAxis]<prev[iAxis];};for(i=0;i<count;++i){meta._parsed[i+start]=cur=parsed[i];if(sorted){if(isNotInOrderComparedToPrev()){sorted=false;}prev=cur;}}meta._sorted=sorted;}if(_stacked){updateStacks(this,parsed);}}},{key:"parsePrimitiveData",value:function parsePrimitiveData(meta,data,start,count){var iScale=meta.iScale,vScale=meta.vScale;var iAxis=iScale.axis;var vAxis=vScale.axis;var labels=iScale.getLabels();var singleScale=iScale===vScale;var parsed=new Array(count);var i,ilen,index;for(i=0,ilen=count;i<ilen;++i){var _parsed$i;index=i+start;parsed[i]=(_parsed$i={},_defineProperty(_parsed$i,iAxis,singleScale||iScale.parse(labels[index],index)),_defineProperty(_parsed$i,vAxis,vScale.parse(data[index],index)),_parsed$i);}return parsed;}},{key:"parseArrayData",value:function parseArrayData(meta,data,start,count){var xScale=meta.xScale,yScale=meta.yScale;var parsed=new Array(count);var i,ilen,index,item;for(i=0,ilen=count;i<ilen;++i){index=i+start;item=data[index];parsed[i]={x:xScale.parse(item[0],index),y:yScale.parse(item[1],index)};}return parsed;}},{key:"parseObjectData",value:function parseObjectData(meta,data,start,count){var xScale=meta.xScale,yScale=meta.yScale;var _this$_parsing=this._parsing,_this$_parsing$xAxisK=_this$_parsing.xAxisKey,xAxisKey=_this$_parsing$xAxisK===void 0?'x':_this$_parsing$xAxisK,_this$_parsing$yAxisK=_this$_parsing.yAxisKey,yAxisKey=_this$_parsing$yAxisK===void 0?'y':_this$_parsing$yAxisK;var parsed=new Array(count);var i,ilen,index,item;for(i=0,ilen=count;i<ilen;++i){index=i+start;item=data[index];parsed[i]={x:xScale.parse(resolveObjectKey(item,xAxisKey),index),y:yScale.parse(resolveObjectKey(item,yAxisKey),index)};}return parsed;}},{key:"getParsed",value:function getParsed(index){return this._cachedMeta._parsed[index];}},{key:"getDataElement",value:function getDataElement(index){return this._cachedMeta.data[index];}},{key:"applyStack",value:function applyStack(scale,parsed,mode){var chart=this.chart;var meta=this._cachedMeta;var value=parsed[scale.axis];var stack={keys:getSortedDatasetIndices(chart,true),values:parsed._stacks[scale.axis]};return _applyStack(stack,value,meta.index,{mode:mode});}},{key:"updateRangeFromParsed",value:function updateRangeFromParsed(range,scale,parsed,stack){var parsedValue=parsed[scale.axis];var value=parsedValue===null?NaN:parsedValue;var values=stack&&parsed._stacks[scale.axis];if(stack&&values){stack.values=values;value=_applyStack(stack,parsedValue,this._cachedMeta.index);}range.min=Math.min(range.min,value);range.max=Math.max(range.max,value);}},{key:"getMinMax",value:function getMinMax(scale,canStack){var meta=this._cachedMeta;var _parsed=meta._parsed;var sorted=meta._sorted&&scale===meta.iScale;var ilen=_parsed.length;var otherScale=this._getOtherScale(scale);var stack=createStack(canStack,meta,this.chart);var range={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};var _getUserBounds=getUserBounds(otherScale),otherMin=_getUserBounds.min,otherMax=_getUserBounds.max;var i,parsed;function _skip(){parsed=_parsed[i];var otherValue=parsed[otherScale.axis];return!isNumberFinite(parsed[scale.axis])||otherMin>otherValue||otherMax<otherValue;}for(i=0;i<ilen;++i){if(_skip()){continue;}this.updateRangeFromParsed(range,scale,parsed,stack);if(sorted){break;}}if(sorted){for(i=ilen-1;i>=0;--i){if(_skip()){continue;}this.updateRangeFromParsed(range,scale,parsed,stack);break;}}return range;}},{key:"getAllParsedValues",value:function getAllParsedValues(scale){var parsed=this._cachedMeta._parsed;var values=[];var i,ilen,value;for(i=0,ilen=parsed.length;i<ilen;++i){value=parsed[i][scale.axis];if(isNumberFinite(value)){values.push(value);}}return values;}},{key:"getMaxOverflow",value:function getMaxOverflow(){return false;}},{key:"getLabelAndValue",value:function getLabelAndValue(index){var meta=this._cachedMeta;var iScale=meta.iScale;var vScale=meta.vScale;var parsed=this.getParsed(index);return{label:iScale?''+iScale.getLabelForValue(parsed[iScale.axis]):'',value:vScale?''+vScale.getLabelForValue(parsed[vScale.axis]):''};}},{key:"_update",value:function _update(mode){var meta=this._cachedMeta;this.configure();this._cachedDataOpts={};this.update(mode||'default');meta._clip=toClip(valueOrDefault(this.options.clip,defaultClip(meta.xScale,meta.yScale,this.getMaxOverflow())));}},{key:"update",value:function update(mode){}},{key:"draw",value:function draw(){var ctx=this._ctx;var chart=this.chart;var meta=this._cachedMeta;var elements=meta.data||[];var area=chart.chartArea;var active=[];var start=this._drawStart||0;var count=this._drawCount||elements.length-start;var i;if(meta.dataset){meta.dataset.draw(ctx,area,start,count);}for(i=start;i<start+count;++i){var element=elements[i];if(element.hidden){continue;}if(element.active){active.push(element);}else{element.draw(ctx,area);}}for(i=0;i<active.length;++i){active[i].draw(ctx,area);}}},{key:"getStyle",value:function getStyle(index,active){var mode=active?'active':'default';return index===undefined&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(mode):this.resolveDataElementOptions(index||0,mode);}},{key:"getContext",value:function getContext(index,active,mode){var dataset=this.getDataset();var context;if(index>=0&&index<this._cachedMeta.data.length){var element=this._cachedMeta.data[index];context=element.$context||(element.$context=createDataContext(this.getContext(),index,element));context.parsed=this.getParsed(index);context.raw=dataset.data[index];context.index=context.dataIndex=index;}else{context=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index));context.dataset=dataset;context.index=context.datasetIndex=this.index;}context.active=!!active;context.mode=mode;return context;}},{key:"resolveDatasetElementOptions",value:function resolveDatasetElementOptions(mode){return this._resolveElementOptions(this.datasetElementType.id,mode);}},{key:"resolveDataElementOptions",value:function resolveDataElementOptions(index,mode){return this._resolveElementOptions(this.dataElementType.id,mode,index);}},{key:"_resolveElementOptions",value:function _resolveElementOptions(elementType){var _this4=this;var mode=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'default';var index=arguments.length>2?arguments[2]:undefined;var active=mode==='active';var cache=this._cachedDataOpts;var cacheKey=elementType+'-'+mode;var cached=cache[cacheKey];var sharing=this.enableOptionSharing&&defined(index);if(cached){return cloneIfNotShared(cached,sharing);}var config=this.chart.config;var scopeKeys=config.datasetElementScopeKeys(this._type,elementType);var prefixes=active?["".concat(elementType,"Hover"),'hover',elementType,'']:[elementType,''];var scopes=config.getOptionScopes(this.getDataset(),scopeKeys);var names=Object.keys(defaults.elements[elementType]);var context=function context(){return _this4.getContext(index,active);};var values=config.resolveNamedOptions(scopes,names,context,prefixes);if(values.$shared){values.$shared=sharing;cache[cacheKey]=Object.freeze(cloneIfNotShared(values,sharing));}return values;}},{key:"_resolveAnimations",value:function _resolveAnimations(index,transition,active){var chart=this.chart;var cache=this._cachedDataOpts;var cacheKey="animation-".concat(transition);var cached=cache[cacheKey];if(cached){return cached;}var options;if(chart.options.animation!==false){var config=this.chart.config;var scopeKeys=config.datasetAnimationScopeKeys(this._type,transition);var scopes=config.getOptionScopes(this.getDataset(),scopeKeys);options=config.createResolver(scopes,this.getContext(index,active,transition));}var animations=new Animations(chart,options&&options.animations);if(options&&options._cacheable){cache[cacheKey]=Object.freeze(animations);}return animations;}},{key:"getSharedOptions",value:function getSharedOptions(options){if(!options.$shared){return;}return this._sharedOptions||(this._sharedOptions=Object.assign({},options));}},{key:"includeOptions",value:function includeOptions(mode,sharedOptions){return!sharedOptions||isDirectUpdateMode(mode)||this.chart._animationsDisabled;}},{key:"updateElement",value:function updateElement(element,index,properties,mode){if(isDirectUpdateMode(mode)){Object.assign(element,properties);}else{this._resolveAnimations(index,mode).update(element,properties);}}},{key:"updateSharedOptions",value:function updateSharedOptions(sharedOptions,mode,newOptions){if(sharedOptions&&!isDirectUpdateMode(mode)){this._resolveAnimations(undefined,mode).update(sharedOptions,newOptions);}}},{key:"_setStyle",value:function _setStyle(element,index,mode,active){element.active=active;var options=this.getStyle(index,active);this._resolveAnimations(index,mode,active).update(element,{options:!active&&this.getSharedOptions(options)||options});}},{key:"removeHoverStyle",value:function removeHoverStyle(element,datasetIndex,index){this._setStyle(element,index,'active',false);}},{key:"setHoverStyle",value:function setHoverStyle(element,datasetIndex,index){this._setStyle(element,index,'active',true);}},{key:"_removeDatasetHoverStyle",value:function _removeDatasetHoverStyle(){var element=this._cachedMeta.dataset;if(element){this._setStyle(element,undefined,'active',false);}}},{key:"_setDatasetHoverStyle",value:function _setDatasetHoverStyle(){var element=this._cachedMeta.dataset;if(element){this._setStyle(element,undefined,'active',true);}}},{key:"_resyncElements",value:function _resyncElements(resetNewElements){var data=this._data;var elements=this._cachedMeta.data;var _iterator19=_createForOfIteratorHelper(this._syncList),_step19;try{for(_iterator19.s();!(_step19=_iterator19.n()).done;){var _step19$value=_slicedToArray(_step19.value,3),method=_step19$value[0],arg1=_step19$value[1],arg2=_step19$value[2];this[method](arg1,arg2);}}catch(err){_iterator19.e(err);}finally{_iterator19.f();}this._syncList=[];var numMeta=elements.length;var numData=data.length;var count=Math.min(numData,numMeta);if(count){this.parse(0,count);}if(numData>numMeta){this._insertElements(numMeta,numData-numMeta,resetNewElements);}else if(numData<numMeta){this._removeElements(numData,numMeta-numData);}}},{key:"_insertElements",value:function _insertElements(start,count){var resetNewElements=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var meta=this._cachedMeta;var data=meta.data;var end=start+count;var i;var move=function move(arr){arr.length+=count;for(i=arr.length-1;i>=end;i--){arr[i]=arr[i-count];}};move(data);for(i=start;i<end;++i){data[i]=new this.dataElementType();}if(this._parsing){move(meta._parsed);}this.parse(start,count);if(resetNewElements){this.updateElements(data,start,count,'reset');}}},{key:"updateElements",value:function updateElements(element,start,count,mode){}},{key:"_removeElements",value:function _removeElements(start,count){var meta=this._cachedMeta;if(this._parsing){var removed=meta._parsed.splice(start,count);if(meta._stacked){clearStacks(meta,removed);}}meta.data.splice(start,count);}},{key:"_sync",value:function _sync(args){if(this._parsing){this._syncList.push(args);}else{var _args2=_slicedToArray(args,3),method=_args2[0],arg1=_args2[1],arg2=_args2[2];this[method](arg1,arg2);}}},{key:"_onDataPush",value:function _onDataPush(){var count=arguments.length;this._sync(['_insertElements',this.getDataset().data.length-count,count]);}},{key:"_onDataPop",value:function _onDataPop(){this._sync(['_removeElements',this._cachedMeta.data.length-1,1]);}},{key:"_onDataShift",value:function _onDataShift(){this._sync(['_removeElements',0,1]);}},{key:"_onDataSplice",value:function _onDataSplice(start,count){this._sync(['_removeElements',start,count]);this._sync(['_insertElements',start,arguments.length-2]);}},{key:"_onDataUnshift",value:function _onDataUnshift(){this._sync(['_insertElements',0,arguments.length]);}}]);return DatasetController;}();DatasetController.defaults={};DatasetController.prototype.datasetElementType=null;DatasetController.prototype.dataElementType=null;var Element=/*#__PURE__*/function(){function Element(){_classCallCheck(this,Element);this.x=undefined;this.y=undefined;this.active=false;this.options=undefined;this.$animations=undefined;}_createClass(Element,[{key:"tooltipPosition",value:function tooltipPosition(useFinalPosition){var _this$getProps=this.getProps(['x','y'],useFinalPosition),x=_this$getProps.x,y=_this$getProps.y;return{x:x,y:y};}},{key:"hasValue",value:function hasValue(){return isNumber(this.x)&&isNumber(this.y);}},{key:"getProps",value:function getProps(props,_final){var _this5=this;var anims=this.$animations;if(!_final||!anims){return this;}var ret={};props.forEach(function(prop){ret[prop]=anims[prop]&&anims[prop].active()?anims[prop]._to:_this5[prop];});return ret;}}]);return Element;}();Element.defaults={};Element.defaultRoutes=undefined;var formatters={values:function values(value){return isArray(value)?value:''+value;},numeric:function numeric(tickValue,index,ticks){if(tickValue===0){return'0';}var locale=this.chart.options.locale;var notation;var delta=tickValue;if(ticks.length>1){var maxTick=Math.max(Math.abs(ticks[0].value),Math.abs(ticks[ticks.length-1].value));if(maxTick<1e-4||maxTick>1e+15){notation='scientific';}delta=calculateDelta(tickValue,ticks);}var logDelta=log10(Math.abs(delta));var numDecimal=Math.max(Math.min(-1*Math.floor(logDelta),20),0);var options={notation:notation,minimumFractionDigits:numDecimal,maximumFractionDigits:numDecimal};Object.assign(options,this.options.ticks.format);return formatNumber(tickValue,locale,options);},logarithmic:function logarithmic(tickValue,index,ticks){if(tickValue===0){return'0';}var remain=tickValue/Math.pow(10,Math.floor(log10(tickValue)));if(remain===1||remain===2||remain===5){return formatters.numeric.call(this,tickValue,index,ticks);}return'';}};function calculateDelta(tickValue,ticks){var delta=ticks.length>3?ticks[2].value-ticks[1].value:ticks[1].value-ticks[0].value;if(Math.abs(delta)>=1&&tickValue!==Math.floor(tickValue)){delta=tickValue-Math.floor(tickValue);}return delta;}var Ticks={formatters:formatters};defaults.set('scale',{display:true,offset:false,reverse:false,beginAtZero:false,bounds:'ticks',grace:0,grid:{display:true,lineWidth:1,drawBorder:true,drawOnChartArea:true,drawTicks:true,tickLength:8,tickWidth:function tickWidth(_ctx,options){return options.lineWidth;},tickColor:function tickColor(_ctx,options){return options.color;},offset:false,borderDash:[],borderDashOffset:0.0,borderWidth:1},title:{display:false,text:'',padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:false,textStrokeWidth:0,textStrokeColor:'',padding:3,display:true,autoSkip:true,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:'center',crossAlign:'near',showLabelBackdrop:false,backdropColor:'rgba(255, 255, 255, 0.75)',backdropPadding:2}});defaults.route('scale.ticks','color','','color');defaults.route('scale.grid','color','','borderColor');defaults.route('scale.grid','borderColor','','borderColor');defaults.route('scale.title','color','','color');defaults.describe('scale',{_fallback:false,_scriptable:function _scriptable(name){return!name.startsWith('before')&&!name.startsWith('after')&&name!=='callback'&&name!=='parser';},_indexable:function _indexable(name){return name!=='borderDash'&&name!=='tickBorderDash';}});defaults.describe('scales',{_fallback:'scale'});defaults.describe('scale.ticks',{_scriptable:function _scriptable(name){return name!=='backdropPadding'&&name!=='callback';},_indexable:function _indexable(name){return name!=='backdropPadding';}});function autoSkip(scale,ticks){var tickOpts=scale.options.ticks;var ticksLimit=tickOpts.maxTicksLimit||determineMaxTicks(scale);var majorIndices=tickOpts.major.enabled?getMajorIndices(ticks):[];var numMajorIndices=majorIndices.length;var first=majorIndices[0];var last=majorIndices[numMajorIndices-1];var newTicks=[];if(numMajorIndices>ticksLimit){skipMajors(ticks,newTicks,majorIndices,numMajorIndices/ticksLimit);return newTicks;}var spacing=calculateSpacing(majorIndices,ticks,ticksLimit);if(numMajorIndices>0){var i,ilen;var avgMajorSpacing=numMajorIndices>1?Math.round((last-first)/(numMajorIndices-1)):null;skip(ticks,newTicks,spacing,isNullOrUndef(avgMajorSpacing)?0:first-avgMajorSpacing,first);for(i=0,ilen=numMajorIndices-1;i<ilen;i++){skip(ticks,newTicks,spacing,majorIndices[i],majorIndices[i+1]);}skip(ticks,newTicks,spacing,last,isNullOrUndef(avgMajorSpacing)?ticks.length:last+avgMajorSpacing);return newTicks;}skip(ticks,newTicks,spacing);return newTicks;}function determineMaxTicks(scale){var offset=scale.options.offset;var tickLength=scale._tickSize();var maxScale=scale._length/tickLength+(offset?0:1);var maxChart=scale._maxLength/tickLength;return Math.floor(Math.min(maxScale,maxChart));}function calculateSpacing(majorIndices,ticks,ticksLimit){var evenMajorSpacing=getEvenSpacing(majorIndices);var spacing=ticks.length/ticksLimit;if(!evenMajorSpacing){return Math.max(spacing,1);}var factors=_factorize(evenMajorSpacing);for(var i=0,ilen=factors.length-1;i<ilen;i++){var factor=factors[i];if(factor>spacing){return factor;}}return Math.max(spacing,1);}function getMajorIndices(ticks){var result=[];var i,ilen;for(i=0,ilen=ticks.length;i<ilen;i++){if(ticks[i].major){result.push(i);}}return result;}function skipMajors(ticks,newTicks,majorIndices,spacing){var count=0;var next=majorIndices[0];var i;spacing=Math.ceil(spacing);for(i=0;i<ticks.length;i++){if(i===next){newTicks.push(ticks[i]);count++;next=majorIndices[count*spacing];}}}function skip(ticks,newTicks,spacing,majorStart,majorEnd){var start=valueOrDefault(majorStart,0);var end=Math.min(valueOrDefault(majorEnd,ticks.length),ticks.length);var count=0;var length,i,next;spacing=Math.ceil(spacing);if(majorEnd){length=majorEnd-majorStart;spacing=length/Math.floor(length/spacing);}next=start;while(next<0){count++;next=Math.round(start+count*spacing);}for(i=Math.max(start,0);i<end;i++){if(i===next){newTicks.push(ticks[i]);count++;next=Math.round(start+count*spacing);}}}function getEvenSpacing(arr){var len=arr.length;var i,diff;if(len<2){return false;}for(diff=arr[0],i=1;i<len;++i){if(arr[i]-arr[i-1]!==diff){return false;}}return diff;}var reverseAlign=function reverseAlign(align){return align==='left'?'right':align==='right'?'left':align;};var offsetFromEdge=function offsetFromEdge(scale,edge,offset){return edge==='top'||edge==='left'?scale[edge]+offset:scale[edge]-offset;};function sample(arr,numItems){var result=[];var increment=arr.length/numItems;var len=arr.length;var i=0;for(;i<len;i+=increment){result.push(arr[Math.floor(i)]);}return result;}function getPixelForGridLine(scale,index,offsetGridLines){var length=scale.ticks.length;var validIndex=Math.min(index,length-1);var start=scale._startPixel;var end=scale._endPixel;var epsilon=1e-6;var lineValue=scale.getPixelForTick(validIndex);var offset;if(offsetGridLines){if(length===1){offset=Math.max(lineValue-start,end-lineValue);}else if(index===0){offset=(scale.getPixelForTick(1)-lineValue)/2;}else{offset=(lineValue-scale.getPixelForTick(validIndex-1))/2;}lineValue+=validIndex<index?offset:-offset;if(lineValue<start-epsilon||lineValue>end+epsilon){return;}}return lineValue;}function garbageCollect(caches,length){each(caches,function(cache){var gc=cache.gc;var gcLen=gc.length/2;var i;if(gcLen>length){for(i=0;i<gcLen;++i){delete cache.data[gc[i]];}gc.splice(0,gcLen);}});}function getTickMarkLength(options){return options.drawTicks?options.tickLength:0;}function getTitleHeight(options,fallback){if(!options.display){return 0;}var font=toFont(options.font,fallback);var padding=toPadding(options.padding);var lines=isArray(options.text)?options.text.length:1;return lines*font.lineHeight+padding.height;}function createScaleContext(parent,scale){return createContext(parent,{scale:scale,type:'scale'});}function createTickContext(parent,index,tick){return createContext(parent,{tick:tick,index:index,type:'tick'});}function titleAlign(align,position,reverse){var ret=_toLeftRightCenter(align);if(reverse&&position!=='right'||!reverse&&position==='right'){ret=reverseAlign(ret);}return ret;}function titleArgs(scale,offset,position,align){var top=scale.top,left=scale.left,bottom=scale.bottom,right=scale.right,chart=scale.chart;var chartArea=chart.chartArea,scales=chart.scales;var rotation=0;var maxWidth,titleX,titleY;var height=bottom-top;var width=right-left;if(scale.isHorizontal()){titleX=_alignStartEnd(align,left,right);if(isObject(position)){var positionAxisID=Object.keys(position)[0];var value=position[positionAxisID];titleY=scales[positionAxisID].getPixelForValue(value)+height-offset;}else if(position==='center'){titleY=(chartArea.bottom+chartArea.top)/2+height-offset;}else{titleY=offsetFromEdge(scale,position,offset);}maxWidth=right-left;}else{if(isObject(position)){var _positionAxisID=Object.keys(position)[0];var _value=position[_positionAxisID];titleX=scales[_positionAxisID].getPixelForValue(_value)-width+offset;}else if(position==='center'){titleX=(chartArea.left+chartArea.right)/2-width+offset;}else{titleX=offsetFromEdge(scale,position,offset);}titleY=_alignStartEnd(align,bottom,top);rotation=position==='left'?-HALF_PI:HALF_PI;}return{titleX:titleX,titleY:titleY,maxWidth:maxWidth,rotation:rotation};}var Scale=/*#__PURE__*/function(_Element){_inherits(Scale,_Element);var _super4=_createSuper(Scale);function Scale(cfg){var _this6;_classCallCheck(this,Scale);_this6=_super4.call(this);_this6.id=cfg.id;_this6.type=cfg.type;_this6.options=undefined;_this6.ctx=cfg.ctx;_this6.chart=cfg.chart;_this6.top=undefined;_this6.bottom=undefined;_this6.left=undefined;_this6.right=undefined;_this6.width=undefined;_this6.height=undefined;_this6._margins={left:0,right:0,top:0,bottom:0};_this6.maxWidth=undefined;_this6.maxHeight=undefined;_this6.paddingTop=undefined;_this6.paddingBottom=undefined;_this6.paddingLeft=undefined;_this6.paddingRight=undefined;_this6.axis=undefined;_this6.labelRotation=undefined;_this6.min=undefined;_this6.max=undefined;_this6._range=undefined;_this6.ticks=[];_this6._gridLineItems=null;_this6._labelItems=null;_this6._labelSizes=null;_this6._length=0;_this6._maxLength=0;_this6._longestTextCache={};_this6._startPixel=undefined;_this6._endPixel=undefined;_this6._reversePixels=false;_this6._userMax=undefined;_this6._userMin=undefined;_this6._suggestedMax=undefined;_this6._suggestedMin=undefined;_this6._ticksLength=0;_this6._borderValue=0;_this6._cache={};_this6._dataLimitsCached=false;_this6.$context=undefined;return _this6;}_createClass(Scale,[{key:"init",value:function init(options){this.options=options.setContext(this.getContext());this.axis=options.axis;this._userMin=this.parse(options.min);this._userMax=this.parse(options.max);this._suggestedMin=this.parse(options.suggestedMin);this._suggestedMax=this.parse(options.suggestedMax);}},{key:"parse",value:function parse(raw,index){return raw;}},{key:"getUserBounds",value:function getUserBounds(){var _userMin=this._userMin,_userMax=this._userMax,_suggestedMin=this._suggestedMin,_suggestedMax=this._suggestedMax;_userMin=finiteOrDefault(_userMin,Number.POSITIVE_INFINITY);_userMax=finiteOrDefault(_userMax,Number.NEGATIVE_INFINITY);_suggestedMin=finiteOrDefault(_suggestedMin,Number.POSITIVE_INFINITY);_suggestedMax=finiteOrDefault(_suggestedMax,Number.NEGATIVE_INFINITY);return{min:finiteOrDefault(_userMin,_suggestedMin),max:finiteOrDefault(_userMax,_suggestedMax),minDefined:isNumberFinite(_userMin),maxDefined:isNumberFinite(_userMax)};}},{key:"getMinMax",value:function getMinMax(canStack){var _this$getUserBounds=this.getUserBounds(),min=_this$getUserBounds.min,max=_this$getUserBounds.max,minDefined=_this$getUserBounds.minDefined,maxDefined=_this$getUserBounds.maxDefined;var range;if(minDefined&&maxDefined){return{min:min,max:max};}var metas=this.getMatchingVisibleMetas();for(var i=0,ilen=metas.length;i<ilen;++i){range=metas[i].controller.getMinMax(this,canStack);if(!minDefined){min=Math.min(min,range.min);}if(!maxDefined){max=Math.max(max,range.max);}}min=maxDefined&&min>max?max:min;max=minDefined&&min>max?min:max;return{min:finiteOrDefault(min,finiteOrDefault(max,min)),max:finiteOrDefault(max,finiteOrDefault(min,max))};}},{key:"getPadding",value:function getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0};}},{key:"getTicks",value:function getTicks(){return this.ticks;}},{key:"getLabels",value:function getLabels(){var data=this.chart.data;return this.options.labels||(this.isHorizontal()?data.xLabels:data.yLabels)||data.labels||[];}},{key:"beforeLayout",value:function beforeLayout(){this._cache={};this._dataLimitsCached=false;}},{key:"beforeUpdate",value:function beforeUpdate(){callback(this.options.beforeUpdate,[this]);}},{key:"update",value:function update(maxWidth,maxHeight,margins){var _this$options=this.options,beginAtZero=_this$options.beginAtZero,grace=_this$options.grace,tickOpts=_this$options.ticks;var sampleSize=tickOpts.sampleSize;this.beforeUpdate();this.maxWidth=maxWidth;this.maxHeight=maxHeight;this._margins=margins=Object.assign({left:0,right:0,top:0,bottom:0},margins);this.ticks=null;this._labelSizes=null;this._gridLineItems=null;this._labelItems=null;this.beforeSetDimensions();this.setDimensions();this.afterSetDimensions();this._maxLength=this.isHorizontal()?this.width+margins.left+margins.right:this.height+margins.top+margins.bottom;if(!this._dataLimitsCached){this.beforeDataLimits();this.determineDataLimits();this.afterDataLimits();this._range=_addGrace(this,grace,beginAtZero);this._dataLimitsCached=true;}this.beforeBuildTicks();this.ticks=this.buildTicks()||[];this.afterBuildTicks();var samplingEnabled=sampleSize<this.ticks.length;this._convertTicksToLabels(samplingEnabled?sample(this.ticks,sampleSize):this.ticks);this.configure();this.beforeCalculateLabelRotation();this.calculateLabelRotation();this.afterCalculateLabelRotation();if(tickOpts.display&&(tickOpts.autoSkip||tickOpts.source==='auto')){this.ticks=autoSkip(this,this.ticks);this._labelSizes=null;}if(samplingEnabled){this._convertTicksToLabels(this.ticks);}this.beforeFit();this.fit();this.afterFit();this.afterUpdate();}},{key:"configure",value:function configure(){var reversePixels=this.options.reverse;var startPixel,endPixel;if(this.isHorizontal()){startPixel=this.left;endPixel=this.right;}else{startPixel=this.top;endPixel=this.bottom;reversePixels=!reversePixels;}this._startPixel=startPixel;this._endPixel=endPixel;this._reversePixels=reversePixels;this._length=endPixel-startPixel;this._alignToPixels=this.options.alignToPixels;}},{key:"afterUpdate",value:function afterUpdate(){callback(this.options.afterUpdate,[this]);}},{key:"beforeSetDimensions",value:function beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this]);}},{key:"setDimensions",value:function setDimensions(){if(this.isHorizontal()){this.width=this.maxWidth;this.left=0;this.right=this.width;}else{this.height=this.maxHeight;this.top=0;this.bottom=this.height;}this.paddingLeft=0;this.paddingTop=0;this.paddingRight=0;this.paddingBottom=0;}},{key:"afterSetDimensions",value:function afterSetDimensions(){callback(this.options.afterSetDimensions,[this]);}},{key:"_callHooks",value:function _callHooks(name){this.chart.notifyPlugins(name,this.getContext());callback(this.options[name],[this]);}},{key:"beforeDataLimits",value:function beforeDataLimits(){this._callHooks('beforeDataLimits');}},{key:"determineDataLimits",value:function determineDataLimits(){}},{key:"afterDataLimits",value:function afterDataLimits(){this._callHooks('afterDataLimits');}},{key:"beforeBuildTicks",value:function beforeBuildTicks(){this._callHooks('beforeBuildTicks');}},{key:"buildTicks",value:function buildTicks(){return[];}},{key:"afterBuildTicks",value:function afterBuildTicks(){this._callHooks('afterBuildTicks');}},{key:"beforeTickToLabelConversion",value:function beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this]);}},{key:"generateTickLabels",value:function generateTickLabels(ticks){var tickOpts=this.options.ticks;var i,ilen,tick;for(i=0,ilen=ticks.length;i<ilen;i++){tick=ticks[i];tick.label=callback(tickOpts.callback,[tick.value,i,ticks],this);}}},{key:"afterTickToLabelConversion",value:function afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this]);}},{key:"beforeCalculateLabelRotation",value:function beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this]);}},{key:"calculateLabelRotation",value:function calculateLabelRotation(){var options=this.options;var tickOpts=options.ticks;var numTicks=this.ticks.length;var minRotation=tickOpts.minRotation||0;var maxRotation=tickOpts.maxRotation;var labelRotation=minRotation;var tickWidth,maxHeight,maxLabelDiagonal;if(!this._isVisible()||!tickOpts.display||minRotation>=maxRotation||numTicks<=1||!this.isHorizontal()){this.labelRotation=minRotation;return;}var labelSizes=this._getLabelSizes();var maxLabelWidth=labelSizes.widest.width;var maxLabelHeight=labelSizes.highest.height;var maxWidth=_limitValue(this.chart.width-maxLabelWidth,0,this.maxWidth);tickWidth=options.offset?this.maxWidth/numTicks:maxWidth/(numTicks-1);if(maxLabelWidth+6>tickWidth){tickWidth=maxWidth/(numTicks-(options.offset?0.5:1));maxHeight=this.maxHeight-getTickMarkLength(options.grid)-tickOpts.padding-getTitleHeight(options.title,this.chart.options.font);maxLabelDiagonal=Math.sqrt(maxLabelWidth*maxLabelWidth+maxLabelHeight*maxLabelHeight);labelRotation=toDegrees(Math.min(Math.asin(_limitValue((labelSizes.highest.height+6)/tickWidth,-1,1)),Math.asin(_limitValue(maxHeight/maxLabelDiagonal,-1,1))-Math.asin(_limitValue(maxLabelHeight/maxLabelDiagonal,-1,1))));labelRotation=Math.max(minRotation,Math.min(maxRotation,labelRotation));}this.labelRotation=labelRotation;}},{key:"afterCalculateLabelRotation",value:function afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this]);}},{key:"beforeFit",value:function beforeFit(){callback(this.options.beforeFit,[this]);}},{key:"fit",value:function fit(){var minSize={width:0,height:0};var chart=this.chart,_this$options2=this.options,tickOpts=_this$options2.ticks,titleOpts=_this$options2.title,gridOpts=_this$options2.grid;var display=this._isVisible();var isHorizontal=this.isHorizontal();if(display){var titleHeight=getTitleHeight(titleOpts,chart.options.font);if(isHorizontal){minSize.width=this.maxWidth;minSize.height=getTickMarkLength(gridOpts)+titleHeight;}else{minSize.height=this.maxHeight;minSize.width=getTickMarkLength(gridOpts)+titleHeight;}if(tickOpts.display&&this.ticks.length){var _this$_getLabelSizes=this._getLabelSizes(),first=_this$_getLabelSizes.first,last=_this$_getLabelSizes.last,widest=_this$_getLabelSizes.widest,highest=_this$_getLabelSizes.highest;var tickPadding=tickOpts.padding*2;var angleRadians=toRadians(this.labelRotation);var cos=Math.cos(angleRadians);var sin=Math.sin(angleRadians);if(isHorizontal){var labelHeight=tickOpts.mirror?0:sin*widest.width+cos*highest.height;minSize.height=Math.min(this.maxHeight,minSize.height+labelHeight+tickPadding);}else{var labelWidth=tickOpts.mirror?0:cos*widest.width+sin*highest.height;minSize.width=Math.min(this.maxWidth,minSize.width+labelWidth+tickPadding);}this._calculatePadding(first,last,sin,cos);}}this._handleMargins();if(isHorizontal){this.width=this._length=chart.width-this._margins.left-this._margins.right;this.height=minSize.height;}else{this.width=minSize.width;this.height=this._length=chart.height-this._margins.top-this._margins.bottom;}}},{key:"_calculatePadding",value:function _calculatePadding(first,last,sin,cos){var _this$options3=this.options,_this$options3$ticks=_this$options3.ticks,align=_this$options3$ticks.align,padding=_this$options3$ticks.padding,position=_this$options3.position;var isRotated=this.labelRotation!==0;var labelsBelowTicks=position!=='top'&&this.axis==='x';if(this.isHorizontal()){var offsetLeft=this.getPixelForTick(0)-this.left;var offsetRight=this.right-this.getPixelForTick(this.ticks.length-1);var paddingLeft=0;var paddingRight=0;if(isRotated){if(labelsBelowTicks){paddingLeft=cos*first.width;paddingRight=sin*last.height;}else{paddingLeft=sin*first.height;paddingRight=cos*last.width;}}else if(align==='start'){paddingRight=last.width;}else if(align==='end'){paddingLeft=first.width;}else{paddingLeft=first.width/2;paddingRight=last.width/2;}this.paddingLeft=Math.max((paddingLeft-offsetLeft+padding)*this.width/(this.width-offsetLeft),0);this.paddingRight=Math.max((paddingRight-offsetRight+padding)*this.width/(this.width-offsetRight),0);}else{var paddingTop=last.height/2;var paddingBottom=first.height/2;if(align==='start'){paddingTop=0;paddingBottom=first.height;}else if(align==='end'){paddingTop=last.height;paddingBottom=0;}this.paddingTop=paddingTop+padding;this.paddingBottom=paddingBottom+padding;}}},{key:"_handleMargins",value:function _handleMargins(){if(this._margins){this._margins.left=Math.max(this.paddingLeft,this._margins.left);this._margins.top=Math.max(this.paddingTop,this._margins.top);this._margins.right=Math.max(this.paddingRight,this._margins.right);this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom);}}},{key:"afterFit",value:function afterFit(){callback(this.options.afterFit,[this]);}},{key:"isHorizontal",value:function isHorizontal(){var _this$options4=this.options,axis=_this$options4.axis,position=_this$options4.position;return position==='top'||position==='bottom'||axis==='x';}},{key:"isFullSize",value:function isFullSize(){return this.options.fullSize;}},{key:"_convertTicksToLabels",value:function _convertTicksToLabels(ticks){this.beforeTickToLabelConversion();this.generateTickLabels(ticks);var i,ilen;for(i=0,ilen=ticks.length;i<ilen;i++){if(isNullOrUndef(ticks[i].label)){ticks.splice(i,1);ilen--;i--;}}this.afterTickToLabelConversion();}},{key:"_getLabelSizes",value:function _getLabelSizes(){var labelSizes=this._labelSizes;if(!labelSizes){var sampleSize=this.options.ticks.sampleSize;var ticks=this.ticks;if(sampleSize<ticks.length){ticks=sample(ticks,sampleSize);}this._labelSizes=labelSizes=this._computeLabelSizes(ticks,ticks.length);}return labelSizes;}},{key:"_computeLabelSizes",value:function _computeLabelSizes(ticks,length){var ctx=this.ctx,caches=this._longestTextCache;var widths=[];var heights=[];var widestLabelSize=0;var highestLabelSize=0;var i,j,jlen,label,tickFont,fontString,cache,lineHeight,width,height,nestedLabel;for(i=0;i<length;++i){label=ticks[i].label;tickFont=this._resolveTickFontOptions(i);ctx.font=fontString=tickFont.string;cache=caches[fontString]=caches[fontString]||{data:{},gc:[]};lineHeight=tickFont.lineHeight;width=height=0;if(!isNullOrUndef(label)&&!isArray(label)){width=_measureText(ctx,cache.data,cache.gc,width,label);height=lineHeight;}else if(isArray(label)){for(j=0,jlen=label.length;j<jlen;++j){nestedLabel=label[j];if(!isNullOrUndef(nestedLabel)&&!isArray(nestedLabel)){width=_measureText(ctx,cache.data,cache.gc,width,nestedLabel);height+=lineHeight;}}}widths.push(width);heights.push(height);widestLabelSize=Math.max(width,widestLabelSize);highestLabelSize=Math.max(height,highestLabelSize);}garbageCollect(caches,length);var widest=widths.indexOf(widestLabelSize);var highest=heights.indexOf(highestLabelSize);var valueAt=function valueAt(idx){return{width:widths[idx]||0,height:heights[idx]||0};};return{first:valueAt(0),last:valueAt(length-1),widest:valueAt(widest),highest:valueAt(highest),widths:widths,heights:heights};}},{key:"getLabelForValue",value:function getLabelForValue(value){return value;}},{key:"getPixelForValue",value:function getPixelForValue(value,index){return NaN;}},{key:"getValueForPixel",value:function getValueForPixel(pixel){}},{key:"getPixelForTick",value:function getPixelForTick(index){var ticks=this.ticks;if(index<0||index>ticks.length-1){return null;}return this.getPixelForValue(ticks[index].value);}},{key:"getPixelForDecimal",value:function getPixelForDecimal(decimal){if(this._reversePixels){decimal=1-decimal;}var pixel=this._startPixel+decimal*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,pixel,0):pixel);}},{key:"getDecimalForPixel",value:function getDecimalForPixel(pixel){var decimal=(pixel-this._startPixel)/this._length;return this._reversePixels?1-decimal:decimal;}},{key:"getBasePixel",value:function getBasePixel(){return this.getPixelForValue(this.getBaseValue());}},{key:"getBaseValue",value:function getBaseValue(){var min=this.min,max=this.max;return min<0&&max<0?max:min>0&&max>0?min:0;}},{key:"getContext",value:function getContext(index){var ticks=this.ticks||[];if(index>=0&&index<ticks.length){var tick=ticks[index];return tick.$context||(tick.$context=createTickContext(this.getContext(),index,tick));}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this));}},{key:"_tickSize",value:function _tickSize(){var optionTicks=this.options.ticks;var rot=toRadians(this.labelRotation);var cos=Math.abs(Math.cos(rot));var sin=Math.abs(Math.sin(rot));var labelSizes=this._getLabelSizes();var padding=optionTicks.autoSkipPadding||0;var w=labelSizes?labelSizes.widest.width+padding:0;var h=labelSizes?labelSizes.highest.height+padding:0;return this.isHorizontal()?h*cos>w*sin?w/cos:h/sin:h*sin<w*cos?h/cos:w/sin;}},{key:"_isVisible",value:function _isVisible(){var display=this.options.display;if(display!=='auto'){return!!display;}return this.getMatchingVisibleMetas().length>0;}},{key:"_computeGridLineItems",value:function _computeGridLineItems(chartArea){var axis=this.axis;var chart=this.chart;var options=this.options;var grid=options.grid,position=options.position;var offset=grid.offset;var isHorizontal=this.isHorizontal();var ticks=this.ticks;var ticksLength=ticks.length+(offset?1:0);var tl=getTickMarkLength(grid);var items=[];var borderOpts=grid.setContext(this.getContext());var axisWidth=borderOpts.drawBorder?borderOpts.borderWidth:0;var axisHalfWidth=axisWidth/2;var alignBorderValue=function alignBorderValue(pixel){return _alignPixel(chart,pixel,axisWidth);};var borderValue,i,lineValue,alignedLineValue;var tx1,ty1,tx2,ty2,x1,y1,x2,y2;if(position==='top'){borderValue=alignBorderValue(this.bottom);ty1=this.bottom-tl;ty2=borderValue-axisHalfWidth;y1=alignBorderValue(chartArea.top)+axisHalfWidth;y2=chartArea.bottom;}else if(position==='bottom'){borderValue=alignBorderValue(this.top);y1=chartArea.top;y2=alignBorderValue(chartArea.bottom)-axisHalfWidth;ty1=borderValue+axisHalfWidth;ty2=this.top+tl;}else if(position==='left'){borderValue=alignBorderValue(this.right);tx1=this.right-tl;tx2=borderValue-axisHalfWidth;x1=alignBorderValue(chartArea.left)+axisHalfWidth;x2=chartArea.right;}else if(position==='right'){borderValue=alignBorderValue(this.left);x1=chartArea.left;x2=alignBorderValue(chartArea.right)-axisHalfWidth;tx1=borderValue+axisHalfWidth;tx2=this.left+tl;}else if(axis==='x'){if(position==='center'){borderValue=alignBorderValue((chartArea.top+chartArea.bottom)/2+0.5);}else if(isObject(position)){var positionAxisID=Object.keys(position)[0];var value=position[positionAxisID];borderValue=alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));}y1=chartArea.top;y2=chartArea.bottom;ty1=borderValue+axisHalfWidth;ty2=ty1+tl;}else if(axis==='y'){if(position==='center'){borderValue=alignBorderValue((chartArea.left+chartArea.right)/2);}else if(isObject(position)){var _positionAxisID2=Object.keys(position)[0];var _value2=position[_positionAxisID2];borderValue=alignBorderValue(this.chart.scales[_positionAxisID2].getPixelForValue(_value2));}tx1=borderValue-axisHalfWidth;tx2=tx1-tl;x1=chartArea.left;x2=chartArea.right;}var limit=valueOrDefault(options.ticks.maxTicksLimit,ticksLength);var step=Math.max(1,Math.ceil(ticksLength/limit));for(i=0;i<ticksLength;i+=step){var optsAtIndex=grid.setContext(this.getContext(i));var lineWidth=optsAtIndex.lineWidth;var lineColor=optsAtIndex.color;var borderDash=grid.borderDash||[];var borderDashOffset=optsAtIndex.borderDashOffset;var tickWidth=optsAtIndex.tickWidth;var tickColor=optsAtIndex.tickColor;var tickBorderDash=optsAtIndex.tickBorderDash||[];var tickBorderDashOffset=optsAtIndex.tickBorderDashOffset;lineValue=getPixelForGridLine(this,i,offset);if(lineValue===undefined){continue;}alignedLineValue=_alignPixel(chart,lineValue,lineWidth);if(isHorizontal){tx1=tx2=x1=x2=alignedLineValue;}else{ty1=ty2=y1=y2=alignedLineValue;}items.push({tx1:tx1,ty1:ty1,tx2:tx2,ty2:ty2,x1:x1,y1:y1,x2:x2,y2:y2,width:lineWidth,color:lineColor,borderDash:borderDash,borderDashOffset:borderDashOffset,tickWidth:tickWidth,tickColor:tickColor,tickBorderDash:tickBorderDash,tickBorderDashOffset:tickBorderDashOffset});}this._ticksLength=ticksLength;this._borderValue=borderValue;return items;}},{key:"_computeLabelItems",value:function _computeLabelItems(chartArea){var axis=this.axis;var options=this.options;var position=options.position,optionTicks=options.ticks;var isHorizontal=this.isHorizontal();var ticks=this.ticks;var align=optionTicks.align,crossAlign=optionTicks.crossAlign,padding=optionTicks.padding,mirror=optionTicks.mirror;var tl=getTickMarkLength(options.grid);var tickAndPadding=tl+padding;var hTickAndPadding=mirror?-padding:tickAndPadding;var rotation=-toRadians(this.labelRotation);var items=[];var i,ilen,tick,label,x,y,textAlign,pixel,font,lineHeight,lineCount,textOffset;var textBaseline='middle';if(position==='top'){y=this.bottom-hTickAndPadding;textAlign=this._getXAxisLabelAlignment();}else if(position==='bottom'){y=this.top+hTickAndPadding;textAlign=this._getXAxisLabelAlignment();}else if(position==='left'){var ret=this._getYAxisLabelAlignment(tl);textAlign=ret.textAlign;x=ret.x;}else if(position==='right'){var _ret=this._getYAxisLabelAlignment(tl);textAlign=_ret.textAlign;x=_ret.x;}else if(axis==='x'){if(position==='center'){y=(chartArea.top+chartArea.bottom)/2+tickAndPadding;}else if(isObject(position)){var positionAxisID=Object.keys(position)[0];var value=position[positionAxisID];y=this.chart.scales[positionAxisID].getPixelForValue(value)+tickAndPadding;}textAlign=this._getXAxisLabelAlignment();}else if(axis==='y'){if(position==='center'){x=(chartArea.left+chartArea.right)/2-tickAndPadding;}else if(isObject(position)){var _positionAxisID3=Object.keys(position)[0];var _value3=position[_positionAxisID3];x=this.chart.scales[_positionAxisID3].getPixelForValue(_value3);}textAlign=this._getYAxisLabelAlignment(tl).textAlign;}if(axis==='y'){if(align==='start'){textBaseline='top';}else if(align==='end'){textBaseline='bottom';}}var labelSizes=this._getLabelSizes();for(i=0,ilen=ticks.length;i<ilen;++i){tick=ticks[i];label=tick.label;var optsAtIndex=optionTicks.setContext(this.getContext(i));pixel=this.getPixelForTick(i)+optionTicks.labelOffset;font=this._resolveTickFontOptions(i);lineHeight=font.lineHeight;lineCount=isArray(label)?label.length:1;var halfCount=lineCount/2;var color=optsAtIndex.color;var strokeColor=optsAtIndex.textStrokeColor;var strokeWidth=optsAtIndex.textStrokeWidth;if(isHorizontal){x=pixel;if(position==='top'){if(crossAlign==='near'||rotation!==0){textOffset=-lineCount*lineHeight+lineHeight/2;}else if(crossAlign==='center'){textOffset=-labelSizes.highest.height/2-halfCount*lineHeight+lineHeight;}else{textOffset=-labelSizes.highest.height+lineHeight/2;}}else{if(crossAlign==='near'||rotation!==0){textOffset=lineHeight/2;}else if(crossAlign==='center'){textOffset=labelSizes.highest.height/2-halfCount*lineHeight;}else{textOffset=labelSizes.highest.height-lineCount*lineHeight;}}if(mirror){textOffset*=-1;}}else{y=pixel;textOffset=(1-lineCount)*lineHeight/2;}var backdrop=void 0;if(optsAtIndex.showLabelBackdrop){var labelPadding=toPadding(optsAtIndex.backdropPadding);var height=labelSizes.heights[i];var width=labelSizes.widths[i];var top=y+textOffset-labelPadding.top;var left=x-labelPadding.left;switch(textBaseline){case'middle':top-=height/2;break;case'bottom':top-=height;break;}switch(textAlign){case'center':left-=width/2;break;case'right':left-=width;break;}backdrop={left:left,top:top,width:width+labelPadding.width,height:height+labelPadding.height,color:optsAtIndex.backdropColor};}items.push({rotation:rotation,label:label,font:font,color:color,strokeColor:strokeColor,strokeWidth:strokeWidth,textOffset:textOffset,textAlign:textAlign,textBaseline:textBaseline,translation:[x,y],backdrop:backdrop});}return items;}},{key:"_getXAxisLabelAlignment",value:function _getXAxisLabelAlignment(){var _this$options5=this.options,position=_this$options5.position,ticks=_this$options5.ticks;var rotation=-toRadians(this.labelRotation);if(rotation){return position==='top'?'left':'right';}var align='center';if(ticks.align==='start'){align='left';}else if(ticks.align==='end'){align='right';}return align;}},{key:"_getYAxisLabelAlignment",value:function _getYAxisLabelAlignment(tl){var _this$options6=this.options,position=_this$options6.position,_this$options6$ticks=_this$options6.ticks,crossAlign=_this$options6$ticks.crossAlign,mirror=_this$options6$ticks.mirror,padding=_this$options6$ticks.padding;var labelSizes=this._getLabelSizes();var tickAndPadding=tl+padding;var widest=labelSizes.widest.width;var textAlign;var x;if(position==='left'){if(mirror){x=this.right+padding;if(crossAlign==='near'){textAlign='left';}else if(crossAlign==='center'){textAlign='center';x+=widest/2;}else{textAlign='right';x+=widest;}}else{x=this.right-tickAndPadding;if(crossAlign==='near'){textAlign='right';}else if(crossAlign==='center'){textAlign='center';x-=widest/2;}else{textAlign='left';x=this.left;}}}else if(position==='right'){if(mirror){x=this.left+padding;if(crossAlign==='near'){textAlign='right';}else if(crossAlign==='center'){textAlign='center';x-=widest/2;}else{textAlign='left';x-=widest;}}else{x=this.left+tickAndPadding;if(crossAlign==='near'){textAlign='left';}else if(crossAlign==='center'){textAlign='center';x+=widest/2;}else{textAlign='right';x=this.right;}}}else{textAlign='right';}return{textAlign:textAlign,x:x};}},{key:"_computeLabelArea",value:function _computeLabelArea(){if(this.options.ticks.mirror){return;}var chart=this.chart;var position=this.options.position;if(position==='left'||position==='right'){return{top:0,left:this.left,bottom:chart.height,right:this.right};}if(position==='top'||position==='bottom'){return{top:this.top,left:0,bottom:this.bottom,right:chart.width};}}},{key:"drawBackground",value:function drawBackground(){var ctx=this.ctx,backgroundColor=this.options.backgroundColor,left=this.left,top=this.top,width=this.width,height=this.height;if(backgroundColor){ctx.save();ctx.fillStyle=backgroundColor;ctx.fillRect(left,top,width,height);ctx.restore();}}},{key:"getLineWidthForValue",value:function getLineWidthForValue(value){var grid=this.options.grid;if(!this._isVisible()||!grid.display){return 0;}var ticks=this.ticks;var index=ticks.findIndex(function(t){return t.value===value;});if(index>=0){var opts=grid.setContext(this.getContext(index));return opts.lineWidth;}return 0;}},{key:"drawGrid",value:function drawGrid(chartArea){var grid=this.options.grid;var ctx=this.ctx;var items=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(chartArea));var i,ilen;var drawLine=function drawLine(p1,p2,style){if(!style.width||!style.color){return;}ctx.save();ctx.lineWidth=style.width;ctx.strokeStyle=style.color;ctx.setLineDash(style.borderDash||[]);ctx.lineDashOffset=style.borderDashOffset;ctx.beginPath();ctx.moveTo(p1.x,p1.y);ctx.lineTo(p2.x,p2.y);ctx.stroke();ctx.restore();};if(grid.display){for(i=0,ilen=items.length;i<ilen;++i){var item=items[i];if(grid.drawOnChartArea){drawLine({x:item.x1,y:item.y1},{x:item.x2,y:item.y2},item);}if(grid.drawTicks){drawLine({x:item.tx1,y:item.ty1},{x:item.tx2,y:item.ty2},{color:item.tickColor,width:item.tickWidth,borderDash:item.tickBorderDash,borderDashOffset:item.tickBorderDashOffset});}}}}},{key:"drawBorder",value:function drawBorder(){var chart=this.chart,ctx=this.ctx,grid=this.options.grid;var borderOpts=grid.setContext(this.getContext());var axisWidth=grid.drawBorder?borderOpts.borderWidth:0;if(!axisWidth){return;}var lastLineWidth=grid.setContext(this.getContext(0)).lineWidth;var borderValue=this._borderValue;var x1,x2,y1,y2;if(this.isHorizontal()){x1=_alignPixel(chart,this.left,axisWidth)-axisWidth/2;x2=_alignPixel(chart,this.right,lastLineWidth)+lastLineWidth/2;y1=y2=borderValue;}else{y1=_alignPixel(chart,this.top,axisWidth)-axisWidth/2;y2=_alignPixel(chart,this.bottom,lastLineWidth)+lastLineWidth/2;x1=x2=borderValue;}ctx.save();ctx.lineWidth=borderOpts.borderWidth;ctx.strokeStyle=borderOpts.borderColor;ctx.beginPath();ctx.moveTo(x1,y1);ctx.lineTo(x2,y2);ctx.stroke();ctx.restore();}},{key:"drawLabels",value:function drawLabels(chartArea){var optionTicks=this.options.ticks;if(!optionTicks.display){return;}var ctx=this.ctx;var area=this._computeLabelArea();if(area){clipArea(ctx,area);}var items=this._labelItems||(this._labelItems=this._computeLabelItems(chartArea));var i,ilen;for(i=0,ilen=items.length;i<ilen;++i){var item=items[i];var tickFont=item.font;var label=item.label;if(item.backdrop){ctx.fillStyle=item.backdrop.color;ctx.fillRect(item.backdrop.left,item.backdrop.top,item.backdrop.width,item.backdrop.height);}var y=item.textOffset;renderText(ctx,label,0,y,tickFont,item);}if(area){unclipArea(ctx);}}},{key:"drawTitle",value:function drawTitle(){var ctx=this.ctx,_this$options7=this.options,position=_this$options7.position,title=_this$options7.title,reverse=_this$options7.reverse;if(!title.display){return;}var font=toFont(title.font);var padding=toPadding(title.padding);var align=title.align;var offset=font.lineHeight/2;if(position==='bottom'||position==='center'||isObject(position)){offset+=padding.bottom;if(isArray(title.text)){offset+=font.lineHeight*(title.text.length-1);}}else{offset+=padding.top;}var _titleArgs=titleArgs(this,offset,position,align),titleX=_titleArgs.titleX,titleY=_titleArgs.titleY,maxWidth=_titleArgs.maxWidth,rotation=_titleArgs.rotation;renderText(ctx,title.text,0,0,font,{color:title.color,maxWidth:maxWidth,rotation:rotation,textAlign:titleAlign(align,position,reverse),textBaseline:'middle',translation:[titleX,titleY]});}},{key:"draw",value:function draw(chartArea){if(!this._isVisible()){return;}this.drawBackground();this.drawGrid(chartArea);this.drawBorder();this.drawTitle();this.drawLabels(chartArea);}},{key:"_layers",value:function _layers(){var _this7=this;var opts=this.options;var tz=opts.ticks&&opts.ticks.z||0;var gz=valueOrDefault(opts.grid&&opts.grid.z,-1);if(!this._isVisible()||this.draw!==Scale.prototype.draw){return[{z:tz,draw:function draw(chartArea){_this7.draw(chartArea);}}];}return[{z:gz,draw:function draw(chartArea){_this7.drawBackground();_this7.drawGrid(chartArea);_this7.drawTitle();}},{z:gz+1,draw:function draw(){_this7.drawBorder();}},{z:tz,draw:function draw(chartArea){_this7.drawLabels(chartArea);}}];}},{key:"getMatchingVisibleMetas",value:function getMatchingVisibleMetas(type){var metas=this.chart.getSortedVisibleDatasetMetas();var axisID=this.axis+'AxisID';var result=[];var i,ilen;for(i=0,ilen=metas.length;i<ilen;++i){var meta=metas[i];if(meta[axisID]===this.id&&(!type||meta.type===type)){result.push(meta);}}return result;}},{key:"_resolveTickFontOptions",value:function _resolveTickFontOptions(index){var opts=this.options.ticks.setContext(this.getContext(index));return toFont(opts.font);}},{key:"_maxDigits",value:function _maxDigits(){var fontSize=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/fontSize;}}]);return Scale;}(Element);var TypedRegistry=/*#__PURE__*/function(){function TypedRegistry(type,scope,override){_classCallCheck(this,TypedRegistry);this.type=type;this.scope=scope;this.override=override;this.items=Object.create(null);}_createClass(TypedRegistry,[{key:"isForType",value:function isForType(type){return Object.prototype.isPrototypeOf.call(this.type.prototype,type.prototype);}},{key:"register",value:function register(item){var proto=Object.getPrototypeOf(item);var parentScope;if(isIChartComponent(proto)){parentScope=this.register(proto);}var items=this.items;var id=item.id;var scope=this.scope+'.'+id;if(!id){throw new Error('class does not have id: '+item);}if(id in items){return scope;}items[id]=item;registerDefaults(item,scope,parentScope);if(this.override){defaults.override(item.id,item.overrides);}return scope;}},{key:"get",value:function get(id){return this.items[id];}},{key:"unregister",value:function unregister(item){var items=this.items;var id=item.id;var scope=this.scope;if(id in items){delete items[id];}if(scope&&id in defaults[scope]){delete defaults[scope][id];if(this.override){delete overrides[id];}}}}]);return TypedRegistry;}();function registerDefaults(item,scope,parentScope){var itemDefaults=merge(Object.create(null),[parentScope?defaults.get(parentScope):{},defaults.get(scope),item.defaults]);defaults.set(scope,itemDefaults);if(item.defaultRoutes){routeDefaults(scope,item.defaultRoutes);}if(item.descriptors){defaults.describe(scope,item.descriptors);}}function routeDefaults(scope,routes){Object.keys(routes).forEach(function(property){var propertyParts=property.split('.');var sourceName=propertyParts.pop();var sourceScope=[scope].concat(propertyParts).join('.');var parts=routes[property].split('.');var targetName=parts.pop();var targetScope=parts.join('.');defaults.route(sourceScope,sourceName,targetScope,targetName);});}function isIChartComponent(proto){return'id'in proto&&'defaults'in proto;}var Registry=/*#__PURE__*/function(){function Registry(){_classCallCheck(this,Registry);this.controllers=new TypedRegistry(DatasetController,'datasets',true);this.elements=new TypedRegistry(Element,'elements');this.plugins=new TypedRegistry(Object,'plugins');this.scales=new TypedRegistry(Scale,'scales');this._typedRegistries=[this.controllers,this.scales,this.elements];}_createClass(Registry,[{key:"add",value:function add(){for(var _len14=arguments.length,args=new Array(_len14),_key14=0;_key14<_len14;_key14++){args[_key14]=arguments[_key14];}this._each('register',args);}},{key:"remove",value:function remove(){for(var _len15=arguments.length,args=new Array(_len15),_key15=0;_key15<_len15;_key15++){args[_key15]=arguments[_key15];}this._each('unregister',args);}},{key:"addControllers",value:function addControllers(){for(var _len16=arguments.length,args=new Array(_len16),_key16=0;_key16<_len16;_key16++){args[_key16]=arguments[_key16];}this._each('register',args,this.controllers);}},{key:"addElements",value:function addElements(){for(var _len17=arguments.length,args=new Array(_len17),_key17=0;_key17<_len17;_key17++){args[_key17]=arguments[_key17];}this._each('register',args,this.elements);}},{key:"addPlugins",value:function addPlugins(){for(var _len18=arguments.length,args=new Array(_len18),_key18=0;_key18<_len18;_key18++){args[_key18]=arguments[_key18];}this._each('register',args,this.plugins);}},{key:"addScales",value:function addScales(){for(var _len19=arguments.length,args=new Array(_len19),_key19=0;_key19<_len19;_key19++){args[_key19]=arguments[_key19];}this._each('register',args,this.scales);}},{key:"getController",value:function getController(id){return this._get(id,this.controllers,'controller');}},{key:"getElement",value:function getElement(id){return this._get(id,this.elements,'element');}},{key:"getPlugin",value:function getPlugin(id){return this._get(id,this.plugins,'plugin');}},{key:"getScale",value:function getScale(id){return this._get(id,this.scales,'scale');}},{key:"removeControllers",value:function removeControllers(){for(var _len20=arguments.length,args=new Array(_len20),_key20=0;_key20<_len20;_key20++){args[_key20]=arguments[_key20];}this._each('unregister',args,this.controllers);}},{key:"removeElements",value:function removeElements(){for(var _len21=arguments.length,args=new Array(_len21),_key21=0;_key21<_len21;_key21++){args[_key21]=arguments[_key21];}this._each('unregister',args,this.elements);}},{key:"removePlugins",value:function removePlugins(){for(var _len22=arguments.length,args=new Array(_len22),_key22=0;_key22<_len22;_key22++){args[_key22]=arguments[_key22];}this._each('unregister',args,this.plugins);}},{key:"removeScales",value:function removeScales(){for(var _len23=arguments.length,args=new Array(_len23),_key23=0;_key23<_len23;_key23++){args[_key23]=arguments[_key23];}this._each('unregister',args,this.scales);}},{key:"_each",value:function _each(method,args,typedRegistry){var _this8=this;_toConsumableArray(args).forEach(function(arg){var reg=typedRegistry||_this8._getRegistryForType(arg);if(typedRegistry||reg.isForType(arg)||reg===_this8.plugins&&arg.id){_this8._exec(method,reg,arg);}else{each(arg,function(item){var itemReg=typedRegistry||_this8._getRegistryForType(item);_this8._exec(method,itemReg,item);});}});}},{key:"_exec",value:function _exec(method,registry,component){var camelMethod=_capitalize(method);callback(component['before'+camelMethod],[],component);registry[method](component);callback(component['after'+camelMethod],[],component);}},{key:"_getRegistryForType",value:function _getRegistryForType(type){for(var i=0;i<this._typedRegistries.length;i++){var reg=this._typedRegistries[i];if(reg.isForType(type)){return reg;}}return this.plugins;}},{key:"_get",value:function _get(id,typedRegistry,type){var item=typedRegistry.get(id);if(item===undefined){throw new Error('"'+id+'" is not a registered '+type+'.');}return item;}}]);return Registry;}();var registry=new Registry();var PluginService=/*#__PURE__*/function(){function PluginService(){_classCallCheck(this,PluginService);this._init=[];}_createClass(PluginService,[{key:"notify",value:function notify(chart,hook,args,filter){if(hook==='beforeInit'){this._init=this._createDescriptors(chart,true);this._notify(this._init,chart,'install');}var descriptors=filter?this._descriptors(chart).filter(filter):this._descriptors(chart);var result=this._notify(descriptors,chart,hook,args);if(hook==='destroy'){this._notify(descriptors,chart,'stop');this._notify(this._init,chart,'uninstall');}return result;}},{key:"_notify",value:function _notify(descriptors,chart,hook,args){args=args||{};var _iterator20=_createForOfIteratorHelper(descriptors),_step20;try{for(_iterator20.s();!(_step20=_iterator20.n()).done;){var descriptor=_step20.value;var plugin=descriptor.plugin;var method=plugin[hook];var params=[chart,args,descriptor.options];if(callback(method,params,plugin)===false&&args.cancelable){return false;}}}catch(err){_iterator20.e(err);}finally{_iterator20.f();}return true;}},{key:"invalidate",value:function invalidate(){if(!isNullOrUndef(this._cache)){this._oldCache=this._cache;this._cache=undefined;}}},{key:"_descriptors",value:function _descriptors(chart){if(this._cache){return this._cache;}var descriptors=this._cache=this._createDescriptors(chart);this._notifyStateChanges(chart);return descriptors;}},{key:"_createDescriptors",value:function _createDescriptors(chart,all){var config=chart&&chart.config;var options=valueOrDefault(config.options&&config.options.plugins,{});var plugins=allPlugins(config);return options===false&&!all?[]:createDescriptors(chart,plugins,options,all);}},{key:"_notifyStateChanges",value:function _notifyStateChanges(chart){var previousDescriptors=this._oldCache||[];var descriptors=this._cache;var diff=function diff(a,b){return a.filter(function(x){return!b.some(function(y){return x.plugin.id===y.plugin.id;});});};this._notify(diff(previousDescriptors,descriptors),chart,'stop');this._notify(diff(descriptors,previousDescriptors),chart,'start');}}]);return PluginService;}();function allPlugins(config){var plugins=[];var keys=Object.keys(registry.plugins.items);for(var i=0;i<keys.length;i++){plugins.push(registry.getPlugin(keys[i]));}var local=config.plugins||[];for(var _i24=0;_i24<local.length;_i24++){var plugin=local[_i24];if(plugins.indexOf(plugin)===-1){plugins.push(plugin);}}return plugins;}function getOpts(options,all){if(!all&&options===false){return null;}if(options===true){return{};}return options;}function createDescriptors(chart,plugins,options,all){var result=[];var context=chart.getContext();for(var i=0;i<plugins.length;i++){var plugin=plugins[i];var id=plugin.id;var opts=getOpts(options[id],all);if(opts===null){continue;}result.push({plugin:plugin,options:pluginOpts(chart.config,plugin,opts,context)});}return result;}function pluginOpts(config,plugin,opts,context){var keys=config.pluginScopeKeys(plugin);var scopes=config.getOptionScopes(opts,keys);return config.createResolver(scopes,context,[''],{scriptable:false,indexable:false,allKeys:true});}function getIndexAxis(type,options){var datasetDefaults=defaults.datasets[type]||{};var datasetOptions=(options.datasets||{})[type]||{};return datasetOptions.indexAxis||options.indexAxis||datasetDefaults.indexAxis||'x';}function getAxisFromDefaultScaleID(id,indexAxis){var axis=id;if(id==='_index_'){axis=indexAxis;}else if(id==='_value_'){axis=indexAxis==='x'?'y':'x';}return axis;}function getDefaultScaleIDFromAxis(axis,indexAxis){return axis===indexAxis?'_index_':'_value_';}function axisFromPosition(position){if(position==='top'||position==='bottom'){return'x';}if(position==='left'||position==='right'){return'y';}}function determineAxis(id,scaleOptions){if(id==='x'||id==='y'){return id;}return scaleOptions.axis||axisFromPosition(scaleOptions.position)||id.charAt(0).toLowerCase();}function mergeScaleConfig(config,options){var chartDefaults=overrides[config.type]||{scales:{}};var configScales=options.scales||{};var chartIndexAxis=getIndexAxis(config.type,options);var firstIDs=Object.create(null);var scales=Object.create(null);Object.keys(configScales).forEach(function(id){var scaleConf=configScales[id];if(!isObject(scaleConf)){return console.error("Invalid scale configuration for scale: ".concat(id));}if(scaleConf._proxy){return console.warn("Ignoring resolver passed as options for scale: ".concat(id));}var axis=determineAxis(id,scaleConf);var defaultId=getDefaultScaleIDFromAxis(axis,chartIndexAxis);var defaultScaleOptions=chartDefaults.scales||{};firstIDs[axis]=firstIDs[axis]||id;scales[id]=mergeIf(Object.create(null),[{axis:axis},scaleConf,defaultScaleOptions[axis],defaultScaleOptions[defaultId]]);});config.data.datasets.forEach(function(dataset){var type=dataset.type||config.type;var indexAxis=dataset.indexAxis||getIndexAxis(type,options);var datasetDefaults=overrides[type]||{};var defaultScaleOptions=datasetDefaults.scales||{};Object.keys(defaultScaleOptions).forEach(function(defaultID){var axis=getAxisFromDefaultScaleID(defaultID,indexAxis);var id=dataset[axis+'AxisID']||firstIDs[axis]||axis;scales[id]=scales[id]||Object.create(null);mergeIf(scales[id],[{axis:axis},configScales[id],defaultScaleOptions[defaultID]]);});});Object.keys(scales).forEach(function(key){var scale=scales[key];mergeIf(scale,[defaults.scales[scale.type],defaults.scale]);});return scales;}function initOptions(config){var options=config.options||(config.options={});options.plugins=valueOrDefault(options.plugins,{});options.scales=mergeScaleConfig(config,options);}function initData(data){data=data||{};data.datasets=data.datasets||[];data.labels=data.labels||[];return data;}function initConfig(config){config=config||{};config.data=initData(config.data);initOptions(config);return config;}var keyCache=new Map();var keysCached=new Set();function cachedKeys(cacheKey,generate){var keys=keyCache.get(cacheKey);if(!keys){keys=generate();keyCache.set(cacheKey,keys);keysCached.add(keys);}return keys;}var addIfFound=function addIfFound(set,obj,key){var opts=resolveObjectKey(obj,key);if(opts!==undefined){set.add(opts);}};var Config=/*#__PURE__*/function(){function Config(config){_classCallCheck(this,Config);this._config=initConfig(config);this._scopeCache=new Map();this._resolverCache=new Map();}_createClass(Config,[{key:"platform",get:function get(){return this._config.platform;}},{key:"type",get:function get(){return this._config.type;},set:function set(type){this._config.type=type;}},{key:"data",get:function get(){return this._config.data;},set:function set(data){this._config.data=initData(data);}},{key:"options",get:function get(){return this._config.options;},set:function set(options){this._config.options=options;}},{key:"plugins",get:function get(){return this._config.plugins;}},{key:"update",value:function update(){var config=this._config;this.clearCache();initOptions(config);}},{key:"clearCache",value:function clearCache(){this._scopeCache.clear();this._resolverCache.clear();}},{key:"datasetScopeKeys",value:function datasetScopeKeys(datasetType){return cachedKeys(datasetType,function(){return[["datasets.".concat(datasetType),'']];});}},{key:"datasetAnimationScopeKeys",value:function datasetAnimationScopeKeys(datasetType,transition){return cachedKeys("".concat(datasetType,".transition.").concat(transition),function(){return[["datasets.".concat(datasetType,".transitions.").concat(transition),"transitions.".concat(transition)],["datasets.".concat(datasetType),'']];});}},{key:"datasetElementScopeKeys",value:function datasetElementScopeKeys(datasetType,elementType){return cachedKeys("".concat(datasetType,"-").concat(elementType),function(){return[["datasets.".concat(datasetType,".elements.").concat(elementType),"datasets.".concat(datasetType),"elements.".concat(elementType),'']];});}},{key:"pluginScopeKeys",value:function pluginScopeKeys(plugin){var id=plugin.id;var type=this.type;return cachedKeys("".concat(type,"-plugin-").concat(id),function(){return[["plugins.".concat(id)].concat(_toConsumableArray(plugin.additionalOptionScopes||[]))];});}},{key:"_cachedScopes",value:function _cachedScopes(mainScope,resetCache){var _scopeCache=this._scopeCache;var cache=_scopeCache.get(mainScope);if(!cache||resetCache){cache=new Map();_scopeCache.set(mainScope,cache);}return cache;}},{key:"getOptionScopes",value:function getOptionScopes(mainScope,keyLists,resetCache){var options=this.options,type=this.type;var cache=this._cachedScopes(mainScope,resetCache);var cached=cache.get(keyLists);if(cached){return cached;}var scopes=new Set();keyLists.forEach(function(keys){if(mainScope){scopes.add(mainScope);keys.forEach(function(key){return addIfFound(scopes,mainScope,key);});}keys.forEach(function(key){return addIfFound(scopes,options,key);});keys.forEach(function(key){return addIfFound(scopes,overrides[type]||{},key);});keys.forEach(function(key){return addIfFound(scopes,defaults,key);});keys.forEach(function(key){return addIfFound(scopes,descriptors,key);});});var array=Array.from(scopes);if(array.length===0){array.push(Object.create(null));}if(keysCached.has(keyLists)){cache.set(keyLists,array);}return array;}},{key:"chartOptionScopes",value:function chartOptionScopes(){var options=this.options,type=this.type;return[options,overrides[type]||{},defaults.datasets[type]||{},{type:type},defaults,descriptors];}},{key:"resolveNamedOptions",value:function resolveNamedOptions(scopes,names,context){var prefixes=arguments.length>3&&arguments[3]!==undefined?arguments[3]:[''];var result={$shared:true};var _getResolver=getResolver(this._resolverCache,scopes,prefixes),resolver=_getResolver.resolver,subPrefixes=_getResolver.subPrefixes;var options=resolver;if(needContext(resolver,names)){result.$shared=false;context=isFunction(context)?context():context;var subResolver=this.createResolver(scopes,context,subPrefixes);options=_attachContext(resolver,context,subResolver);}var _iterator21=_createForOfIteratorHelper(names),_step21;try{for(_iterator21.s();!(_step21=_iterator21.n()).done;){var prop=_step21.value;result[prop]=options[prop];}}catch(err){_iterator21.e(err);}finally{_iterator21.f();}return result;}},{key:"createResolver",value:function createResolver(scopes,context){var prefixes=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[''];var descriptorDefaults=arguments.length>3?arguments[3]:undefined;var _getResolver2=getResolver(this._resolverCache,scopes,prefixes),resolver=_getResolver2.resolver;return isObject(context)?_attachContext(resolver,context,undefined,descriptorDefaults):resolver;}}]);return Config;}();function getResolver(resolverCache,scopes,prefixes){var cache=resolverCache.get(scopes);if(!cache){cache=new Map();resolverCache.set(scopes,cache);}var cacheKey=prefixes.join();var cached=cache.get(cacheKey);if(!cached){var resolver=_createResolver(scopes,prefixes);cached={resolver:resolver,subPrefixes:prefixes.filter(function(p){return!p.toLowerCase().includes('hover');})};cache.set(cacheKey,cached);}return cached;}var hasFunction=function hasFunction(value){return isObject(value)&&Object.getOwnPropertyNames(value).reduce(function(acc,key){return acc||isFunction(value[key]);},false);};function needContext(proxy,names){var _descriptors2=_descriptors(proxy),isScriptable=_descriptors2.isScriptable,isIndexable=_descriptors2.isIndexable;var _iterator22=_createForOfIteratorHelper(names),_step22;try{for(_iterator22.s();!(_step22=_iterator22.n()).done;){var prop=_step22.value;var scriptable=isScriptable(prop);var indexable=isIndexable(prop);var value=(indexable||scriptable)&&proxy[prop];if(scriptable&&(isFunction(value)||hasFunction(value))||indexable&&isArray(value)){return true;}}}catch(err){_iterator22.e(err);}finally{_iterator22.f();}return false;}var version="3.6.0";var KNOWN_POSITIONS=['top','bottom','left','right','chartArea'];function positionIsHorizontal(position,axis){return position==='top'||position==='bottom'||KNOWN_POSITIONS.indexOf(position)===-1&&axis==='x';}function compare2Level(l1,l2){return function(a,b){return a[l1]===b[l1]?a[l2]-b[l2]:a[l1]-b[l1];};}function onAnimationsComplete(context){var chart=context.chart;var animationOptions=chart.options.animation;chart.notifyPlugins('afterRender');callback(animationOptions&&animationOptions.onComplete,[context],chart);}function onAnimationProgress(context){var chart=context.chart;var animationOptions=chart.options.animation;callback(animationOptions&&animationOptions.onProgress,[context],chart);}function getCanvas(item){if(_isDomSupported()&&typeof item==='string'){item=document.getElementById(item);}else if(item&&item.length){item=item[0];}if(item&&item.canvas){item=item.canvas;}return item;}var instances={};var getChart=function getChart(key){var canvas=getCanvas(key);return Object.values(instances).filter(function(c){return c.canvas===canvas;}).pop();};var Chart=/*#__PURE__*/function(){function Chart(item,userConfig){var _this9=this;_classCallCheck(this,Chart);var config=this.config=new Config(userConfig);var initialCanvas=getCanvas(item);var existingChart=getChart(initialCanvas);if(existingChart){throw new Error('Canvas is already in use. Chart with ID \''+existingChart.id+'\''+' must be destroyed before the canvas can be reused.');}var options=config.createResolver(config.chartOptionScopes(),this.getContext());this.platform=new(config.platform||_detectPlatform(initialCanvas))();this.platform.updateConfig(config);var context=this.platform.acquireContext(initialCanvas,options.aspectRatio);var canvas=context&&context.canvas;var height=canvas&&canvas.height;var width=canvas&&canvas.width;this.id=uid();this.ctx=context;this.canvas=canvas;this.width=width;this.height=height;this._options=options;this._aspectRatio=this.aspectRatio;this._layers=[];this._metasets=[];this._stacks=undefined;this.boxes=[];this.currentDevicePixelRatio=undefined;this.chartArea=undefined;this._active=[];this._lastEvent=undefined;this._listeners={};this._responsiveListeners=undefined;this._sortedMetasets=[];this.scales={};this._plugins=new PluginService();this.$proxies={};this._hiddenIndices={};this.attached=false;this._animationsDisabled=undefined;this.$context=undefined;this._doResize=debounce(function(mode){return _this9.update(mode);},options.resizeDelay||0);instances[this.id]=this;if(!context||!canvas){console.error("Failed to create chart: can't acquire context from the given item");return;}animator.listen(this,'complete',onAnimationsComplete);animator.listen(this,'progress',onAnimationProgress);this._initialize();if(this.attached){this.update();}}_createClass(Chart,[{key:"aspectRatio",get:function get(){var _this$options8=this.options,aspectRatio=_this$options8.aspectRatio,maintainAspectRatio=_this$options8.maintainAspectRatio,width=this.width,height=this.height,_aspectRatio=this._aspectRatio;if(!isNullOrUndef(aspectRatio)){return aspectRatio;}if(maintainAspectRatio&&_aspectRatio){return _aspectRatio;}return height?width/height:null;}},{key:"data",get:function get(){return this.config.data;},set:function set(data){this.config.data=data;}},{key:"options",get:function get(){return this._options;},set:function set(options){this.config.options=options;}},{key:"_initialize",value:function _initialize(){this.notifyPlugins('beforeInit');if(this.options.responsive){this.resize();}else{retinaScale(this,this.options.devicePixelRatio);}this.bindEvents();this.notifyPlugins('afterInit');return this;}},{key:"clear",value:function clear(){clearCanvas(this.canvas,this.ctx);return this;}},{key:"stop",value:function stop(){animator.stop(this);return this;}},{key:"resize",value:function resize(width,height){if(!animator.running(this)){this._resize(width,height);}else{this._resizeBeforeDraw={width:width,height:height};}}},{key:"_resize",value:function _resize(width,height){var options=this.options;var canvas=this.canvas;var aspectRatio=options.maintainAspectRatio&&this.aspectRatio;var newSize=this.platform.getMaximumSize(canvas,width,height,aspectRatio);var newRatio=options.devicePixelRatio||this.platform.getDevicePixelRatio();var mode=this.width?'resize':'attach';this.width=newSize.width;this.height=newSize.height;this._aspectRatio=this.aspectRatio;if(!retinaScale(this,newRatio,true)){return;}this.notifyPlugins('resize',{size:newSize});callback(options.onResize,[this,newSize],this);if(this.attached){if(this._doResize(mode)){this.render();}}}},{key:"ensureScalesHaveIDs",value:function ensureScalesHaveIDs(){var options=this.options;var scalesOptions=options.scales||{};each(scalesOptions,function(axisOptions,axisID){axisOptions.id=axisID;});}},{key:"buildOrUpdateScales",value:function buildOrUpdateScales(){var _this10=this;var options=this.options;var scaleOpts=options.scales;var scales=this.scales;var updated=Object.keys(scales).reduce(function(obj,id){obj[id]=false;return obj;},{});var items=[];if(scaleOpts){items=items.concat(Object.keys(scaleOpts).map(function(id){var scaleOptions=scaleOpts[id];var axis=determineAxis(id,scaleOptions);var isRadial=axis==='r';var isHorizontal=axis==='x';return{options:scaleOptions,dposition:isRadial?'chartArea':isHorizontal?'bottom':'left',dtype:isRadial?'radialLinear':isHorizontal?'category':'linear'};}));}each(items,function(item){var scaleOptions=item.options;var id=scaleOptions.id;var axis=determineAxis(id,scaleOptions);var scaleType=valueOrDefault(scaleOptions.type,item.dtype);if(scaleOptions.position===undefined||positionIsHorizontal(scaleOptions.position,axis)!==positionIsHorizontal(item.dposition)){scaleOptions.position=item.dposition;}updated[id]=true;var scale=null;if(id in scales&&scales[id].type===scaleType){scale=scales[id];}else{var scaleClass=registry.getScale(scaleType);scale=new scaleClass({id:id,type:scaleType,ctx:_this10.ctx,chart:_this10});scales[scale.id]=scale;}scale.init(scaleOptions,options);});each(updated,function(hasUpdated,id){if(!hasUpdated){delete scales[id];}});each(scales,function(scale){layouts.configure(_this10,scale,scale.options);layouts.addBox(_this10,scale);});}},{key:"_updateMetasets",value:function _updateMetasets(){var metasets=this._metasets;var numData=this.data.datasets.length;var numMeta=metasets.length;metasets.sort(function(a,b){return a.index-b.index;});if(numMeta>numData){for(var i=numData;i<numMeta;++i){this._destroyDatasetMeta(i);}metasets.splice(numData,numMeta-numData);}this._sortedMetasets=metasets.slice(0).sort(compare2Level('order','index'));}},{key:"_removeUnreferencedMetasets",value:function _removeUnreferencedMetasets(){var _this11=this;var metasets=this._metasets,datasets=this.data.datasets;if(metasets.length>datasets.length){delete this._stacks;}metasets.forEach(function(meta,index){if(datasets.filter(function(x){return x===meta._dataset;}).length===0){_this11._destroyDatasetMeta(index);}});}},{key:"buildOrUpdateControllers",value:function buildOrUpdateControllers(){var newControllers=[];var datasets=this.data.datasets;var i,ilen;this._removeUnreferencedMetasets();for(i=0,ilen=datasets.length;i<ilen;i++){var dataset=datasets[i];var meta=this.getDatasetMeta(i);var type=dataset.type||this.config.type;if(meta.type&&meta.type!==type){this._destroyDatasetMeta(i);meta=this.getDatasetMeta(i);}meta.type=type;meta.indexAxis=dataset.indexAxis||getIndexAxis(type,this.options);meta.order=dataset.order||0;meta.index=i;meta.label=''+dataset.label;meta.visible=this.isDatasetVisible(i);if(meta.controller){meta.controller.updateIndex(i);meta.controller.linkScales();}else{var ControllerClass=registry.getController(type);var _defaults$datasets$ty=defaults.datasets[type],datasetElementType=_defaults$datasets$ty.datasetElementType,dataElementType=_defaults$datasets$ty.dataElementType;Object.assign(ControllerClass.prototype,{dataElementType:registry.getElement(dataElementType),datasetElementType:datasetElementType&&registry.getElement(datasetElementType)});meta.controller=new ControllerClass(this,i);newControllers.push(meta.controller);}}this._updateMetasets();return newControllers;}},{key:"_resetElements",value:function _resetElements(){var _this12=this;each(this.data.datasets,function(dataset,datasetIndex){_this12.getDatasetMeta(datasetIndex).controller.reset();},this);}},{key:"reset",value:function reset(){this._resetElements();this.notifyPlugins('reset');}},{key:"update",value:function update(mode){var _this13=this;var config=this.config;config.update();var options=this._options=config.createResolver(config.chartOptionScopes(),this.getContext());each(this.scales,function(scale){layouts.removeBox(_this13,scale);});var animsDisabled=this._animationsDisabled=!options.animation;this.ensureScalesHaveIDs();this.buildOrUpdateScales();var existingEvents=new Set(Object.keys(this._listeners));var newEvents=new Set(options.events);if(!setsEqual(existingEvents,newEvents)||!!this._responsiveListeners!==options.responsive){this.unbindEvents();this.bindEvents();}this._plugins.invalidate();if(this.notifyPlugins('beforeUpdate',{mode:mode,cancelable:true})===false){return;}var newControllers=this.buildOrUpdateControllers();this.notifyPlugins('beforeElementsUpdate');var minPadding=0;for(var i=0,ilen=this.data.datasets.length;i<ilen;i++){var _this$getDatasetMeta=this.getDatasetMeta(i),controller=_this$getDatasetMeta.controller;var reset=!animsDisabled&&newControllers.indexOf(controller)===-1;controller.buildOrUpdateElements(reset);minPadding=Math.max(+controller.getMaxOverflow(),minPadding);}minPadding=this._minPadding=options.layout.autoPadding?minPadding:0;this._updateLayout(minPadding);if(!animsDisabled){each(newControllers,function(controller){controller.reset();});}this._updateDatasets(mode);this.notifyPlugins('afterUpdate',{mode:mode});this._layers.sort(compare2Level('z','_idx'));if(this._lastEvent){this._eventHandler(this._lastEvent,true);}this.render();}},{key:"_updateLayout",value:function _updateLayout(minPadding){var _this14=this;if(this.notifyPlugins('beforeLayout',{cancelable:true})===false){return;}layouts.update(this,this.width,this.height,minPadding);var area=this.chartArea;var noArea=area.width<=0||area.height<=0;this._layers=[];each(this.boxes,function(box){var _this14$_layers;if(noArea&&box.position==='chartArea'){return;}if(box.configure){box.configure();}(_this14$_layers=_this14._layers).push.apply(_this14$_layers,_toConsumableArray(box._layers()));},this);this._layers.forEach(function(item,index){item._idx=index;});this.notifyPlugins('afterLayout');}},{key:"_updateDatasets",value:function _updateDatasets(mode){if(this.notifyPlugins('beforeDatasetsUpdate',{mode:mode,cancelable:true})===false){return;}for(var i=0,ilen=this.data.datasets.length;i<ilen;++i){this._updateDataset(i,isFunction(mode)?mode({datasetIndex:i}):mode);}this.notifyPlugins('afterDatasetsUpdate',{mode:mode});}},{key:"_updateDataset",value:function _updateDataset(index,mode){var meta=this.getDatasetMeta(index);var args={meta:meta,index:index,mode:mode,cancelable:true};if(this.notifyPlugins('beforeDatasetUpdate',args)===false){return;}meta.controller._update(mode);args.cancelable=false;this.notifyPlugins('afterDatasetUpdate',args);}},{key:"render",value:function render(){if(this.notifyPlugins('beforeRender',{cancelable:true})===false){return;}if(animator.has(this)){if(this.attached&&!animator.running(this)){animator.start(this);}}else{this.draw();onAnimationsComplete({chart:this});}}},{key:"draw",value:function draw(){var i;if(this._resizeBeforeDraw){var _this$_resizeBeforeDr=this._resizeBeforeDraw,width=_this$_resizeBeforeDr.width,height=_this$_resizeBeforeDr.height;this._resize(width,height);this._resizeBeforeDraw=null;}this.clear();if(this.width<=0||this.height<=0){return;}if(this.notifyPlugins('beforeDraw',{cancelable:true})===false){return;}var layers=this._layers;for(i=0;i<layers.length&&layers[i].z<=0;++i){layers[i].draw(this.chartArea);}this._drawDatasets();for(;i<layers.length;++i){layers[i].draw(this.chartArea);}this.notifyPlugins('afterDraw');}},{key:"_getSortedDatasetMetas",value:function _getSortedDatasetMetas(filterVisible){var metasets=this._sortedMetasets;var result=[];var i,ilen;for(i=0,ilen=metasets.length;i<ilen;++i){var meta=metasets[i];if(!filterVisible||meta.visible){result.push(meta);}}return result;}},{key:"getSortedVisibleDatasetMetas",value:function getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(true);}},{key:"_drawDatasets",value:function _drawDatasets(){if(this.notifyPlugins('beforeDatasetsDraw',{cancelable:true})===false){return;}var metasets=this.getSortedVisibleDatasetMetas();for(var i=metasets.length-1;i>=0;--i){this._drawDataset(metasets[i]);}this.notifyPlugins('afterDatasetsDraw');}},{key:"_drawDataset",value:function _drawDataset(meta){var ctx=this.ctx;var clip=meta._clip;var useClip=!clip.disabled;var area=this.chartArea;var args={meta:meta,index:meta.index,cancelable:true};if(this.notifyPlugins('beforeDatasetDraw',args)===false){return;}if(useClip){clipArea(ctx,{left:clip.left===false?0:area.left-clip.left,right:clip.right===false?this.width:area.right+clip.right,top:clip.top===false?0:area.top-clip.top,bottom:clip.bottom===false?this.height:area.bottom+clip.bottom});}meta.controller.draw();if(useClip){unclipArea(ctx);}args.cancelable=false;this.notifyPlugins('afterDatasetDraw',args);}},{key:"getElementsAtEventForMode",value:function getElementsAtEventForMode(e,mode,options,useFinalPosition){var method=Interaction.modes[mode];if(typeof method==='function'){return method(this,e,options,useFinalPosition);}return[];}},{key:"getDatasetMeta",value:function getDatasetMeta(datasetIndex){var dataset=this.data.datasets[datasetIndex];var metasets=this._metasets;var meta=metasets.filter(function(x){return x&&x._dataset===dataset;}).pop();if(!meta){meta={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:dataset&&dataset.order||0,index:datasetIndex,_dataset:dataset,_parsed:[],_sorted:false};metasets.push(meta);}return meta;}},{key:"getContext",value:function getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:'chart'}));}},{key:"getVisibleDatasetCount",value:function getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length;}},{key:"isDatasetVisible",value:function isDatasetVisible(datasetIndex){var dataset=this.data.datasets[datasetIndex];if(!dataset){return false;}var meta=this.getDatasetMeta(datasetIndex);return typeof meta.hidden==='boolean'?!meta.hidden:!dataset.hidden;}},{key:"setDatasetVisibility",value:function setDatasetVisibility(datasetIndex,visible){var meta=this.getDatasetMeta(datasetIndex);meta.hidden=!visible;}},{key:"toggleDataVisibility",value:function toggleDataVisibility(index){this._hiddenIndices[index]=!this._hiddenIndices[index];}},{key:"getDataVisibility",value:function getDataVisibility(index){return!this._hiddenIndices[index];}},{key:"_updateVisibility",value:function _updateVisibility(datasetIndex,dataIndex,visible){var mode=visible?'show':'hide';var meta=this.getDatasetMeta(datasetIndex);var anims=meta.controller._resolveAnimations(undefined,mode);if(defined(dataIndex)){meta.data[dataIndex].hidden=!visible;this.update();}else{this.setDatasetVisibility(datasetIndex,visible);anims.update(meta,{visible:visible});this.update(function(ctx){return ctx.datasetIndex===datasetIndex?mode:undefined;});}}},{key:"hide",value:function hide(datasetIndex,dataIndex){this._updateVisibility(datasetIndex,dataIndex,false);}},{key:"show",value:function show(datasetIndex,dataIndex){this._updateVisibility(datasetIndex,dataIndex,true);}},{key:"_destroyDatasetMeta",value:function _destroyDatasetMeta(datasetIndex){var meta=this._metasets[datasetIndex];if(meta&&meta.controller){meta.controller._destroy();}delete this._metasets[datasetIndex];}},{key:"_stop",value:function _stop(){var i,ilen;this.stop();animator.remove(this);for(i=0,ilen=this.data.datasets.length;i<ilen;++i){this._destroyDatasetMeta(i);}}},{key:"destroy",value:function destroy(){var canvas=this.canvas,ctx=this.ctx;this._stop();this.config.clearCache();if(canvas){this.unbindEvents();clearCanvas(canvas,ctx);this.platform.releaseContext(ctx);this.canvas=null;this.ctx=null;}this.notifyPlugins('destroy');delete instances[this.id];}},{key:"toBase64Image",value:function toBase64Image(){var _this$canvas;return(_this$canvas=this.canvas).toDataURL.apply(_this$canvas,arguments);}},{key:"bindEvents",value:function bindEvents(){this.bindUserEvents();if(this.options.responsive){this.bindResponsiveEvents();}else{this.attached=true;}}},{key:"bindUserEvents",value:function bindUserEvents(){var _this15=this;var listeners=this._listeners;var platform=this.platform;var _add=function _add(type,listener){platform.addEventListener(_this15,type,listener);listeners[type]=listener;};var listener=function listener(e,x,y){e.offsetX=x;e.offsetY=y;_this15._eventHandler(e);};each(this.options.events,function(type){return _add(type,listener);});}},{key:"bindResponsiveEvents",value:function bindResponsiveEvents(){var _this16=this;if(!this._responsiveListeners){this._responsiveListeners={};}var listeners=this._responsiveListeners;var platform=this.platform;var _add=function _add(type,listener){platform.addEventListener(_this16,type,listener);listeners[type]=listener;};var _remove=function _remove(type,listener){if(listeners[type]){platform.removeEventListener(_this16,type,listener);delete listeners[type];}};var listener=function listener(width,height){if(_this16.canvas){_this16.resize(width,height);}};var detached;var attached=function attached(){_remove('attach',attached);_this16.attached=true;_this16.resize();_add('resize',listener);_add('detach',detached);};detached=function detached(){_this16.attached=false;_remove('resize',listener);_this16._stop();_this16._resize(0,0);_add('attach',attached);};if(platform.isAttached(this.canvas)){attached();}else{detached();}}},{key:"unbindEvents",value:function unbindEvents(){var _this17=this;each(this._listeners,function(listener,type){_this17.platform.removeEventListener(_this17,type,listener);});this._listeners={};each(this._responsiveListeners,function(listener,type){_this17.platform.removeEventListener(_this17,type,listener);});this._responsiveListeners=undefined;}},{key:"updateHoverStyle",value:function updateHoverStyle(items,mode,enabled){var prefix=enabled?'set':'remove';var meta,item,i,ilen;if(mode==='dataset'){meta=this.getDatasetMeta(items[0].datasetIndex);meta.controller['_'+prefix+'DatasetHoverStyle']();}for(i=0,ilen=items.length;i<ilen;++i){item=items[i];var controller=item&&this.getDatasetMeta(item.datasetIndex).controller;if(controller){controller[prefix+'HoverStyle'](item.element,item.datasetIndex,item.index);}}}},{key:"getActiveElements",value:function getActiveElements(){return this._active||[];}},{key:"setActiveElements",value:function setActiveElements(activeElements){var _this18=this;var lastActive=this._active||[];var active=activeElements.map(function(_ref34){var datasetIndex=_ref34.datasetIndex,index=_ref34.index;var meta=_this18.getDatasetMeta(datasetIndex);if(!meta){throw new Error('No dataset found at index '+datasetIndex);}return{datasetIndex:datasetIndex,element:meta.data[index],index:index};});var changed=!_elementsEqual(active,lastActive);if(changed){this._active=active;this._updateHoverStyles(active,lastActive);}}},{key:"notifyPlugins",value:function notifyPlugins(hook,args,filter){return this._plugins.notify(this,hook,args,filter);}},{key:"_updateHoverStyles",value:function _updateHoverStyles(active,lastActive,replay){var hoverOptions=this.options.hover;var diff=function diff(a,b){return a.filter(function(x){return!b.some(function(y){return x.datasetIndex===y.datasetIndex&&x.index===y.index;});});};var deactivated=diff(lastActive,active);var activated=replay?active:diff(active,lastActive);if(deactivated.length){this.updateHoverStyle(deactivated,hoverOptions.mode,false);}if(activated.length&&hoverOptions.mode){this.updateHoverStyle(activated,hoverOptions.mode,true);}}},{key:"_eventHandler",value:function _eventHandler(e,replay){var _this19=this;var args={event:e,replay:replay,cancelable:true};var eventFilter=function eventFilter(plugin){return(plugin.options.events||_this19.options.events).includes(e["native"].type);};if(this.notifyPlugins('beforeEvent',args,eventFilter)===false){return;}var changed=this._handleEvent(e,replay);args.cancelable=false;this.notifyPlugins('afterEvent',args,eventFilter);if(changed||args.changed){this.render();}return this;}},{key:"_handleEvent",value:function _handleEvent(e,replay){var _this$_active=this._active,lastActive=_this$_active===void 0?[]:_this$_active,options=this.options;var hoverOptions=options.hover;var useFinalPosition=replay;var active=[];var changed=false;var lastEvent=null;if(e.type!=='mouseout'){active=this.getElementsAtEventForMode(e,hoverOptions.mode,hoverOptions,useFinalPosition);lastEvent=e.type==='click'?this._lastEvent:e;}this._lastEvent=null;if(_isPointInArea(e,this.chartArea,this._minPadding)){callback(options.onHover,[e,active,this],this);if(e.type==='mouseup'||e.type==='click'||e.type==='contextmenu'){callback(options.onClick,[e,active,this],this);}}changed=!_elementsEqual(active,lastActive);if(changed||replay){this._active=active;this._updateHoverStyles(active,lastActive,replay);}this._lastEvent=lastEvent;return changed;}}]);return Chart;}();var invalidatePlugins=function invalidatePlugins(){return each(Chart.instances,function(chart){return chart._plugins.invalidate();});};var enumerable=true;Object.defineProperties(Chart,{defaults:{enumerable:enumerable,value:defaults},instances:{enumerable:enumerable,value:instances},overrides:{enumerable:enumerable,value:overrides},registry:{enumerable:enumerable,value:registry},version:{enumerable:enumerable,value:version},getChart:{enumerable:enumerable,value:getChart},register:{enumerable:enumerable,value:function value(){registry.add.apply(registry,arguments);invalidatePlugins();}},unregister:{enumerable:enumerable,value:function value(){registry.remove.apply(registry,arguments);invalidatePlugins();}}});function _abstract(){throw new Error('This method is not implemented: Check that a complete date adapter is provided.');}var DateAdapter=/*#__PURE__*/function(){function DateAdapter(options){_classCallCheck(this,DateAdapter);this.options=options||{};}_createClass(DateAdapter,[{key:"formats",value:function formats(){return _abstract();}},{key:"parse",value:function parse(value,format){return _abstract();}},{key:"format",value:function format(timestamp,_format){return _abstract();}},{key:"add",value:function add(timestamp,amount,unit){return _abstract();}},{key:"diff",value:function diff(a,b,unit){return _abstract();}},{key:"startOf",value:function startOf(timestamp,unit,weekday){return _abstract();}},{key:"endOf",value:function endOf(timestamp,unit){return _abstract();}}]);return DateAdapter;}();DateAdapter.override=function(members){Object.assign(DateAdapter.prototype,members);};var _adapters={_date:DateAdapter};function getAllScaleValues(scale,type){if(!scale._cache.$bar){var visibleMetas=scale.getMatchingVisibleMetas(type);var values=[];for(var i=0,ilen=visibleMetas.length;i<ilen;i++){values=values.concat(visibleMetas[i].controller.getAllParsedValues(scale));}scale._cache.$bar=_arrayUnique(values.sort(function(a,b){return a-b;}));}return scale._cache.$bar;}function computeMinSampleSize(meta){var scale=meta.iScale;var values=getAllScaleValues(scale,meta.type);var min=scale._length;var i,ilen,curr,prev;var updateMinAndPrev=function updateMinAndPrev(){if(curr===32767||curr===-32768){return;}if(defined(prev)){min=Math.min(min,Math.abs(curr-prev)||min);}prev=curr;};for(i=0,ilen=values.length;i<ilen;++i){curr=scale.getPixelForValue(values[i]);updateMinAndPrev();}prev=undefined;for(i=0,ilen=scale.ticks.length;i<ilen;++i){curr=scale.getPixelForTick(i);updateMinAndPrev();}return min;}function computeFitCategoryTraits(index,ruler,options,stackCount){var thickness=options.barThickness;var size,ratio;if(isNullOrUndef(thickness)){size=ruler.min*options.categoryPercentage;ratio=options.barPercentage;}else{size=thickness*stackCount;ratio=1;}return{chunk:size/stackCount,ratio:ratio,start:ruler.pixels[index]-size/2};}function computeFlexCategoryTraits(index,ruler,options,stackCount){var pixels=ruler.pixels;var curr=pixels[index];var prev=index>0?pixels[index-1]:null;var next=index<pixels.length-1?pixels[index+1]:null;var percent=options.categoryPercentage;if(prev===null){prev=curr-(next===null?ruler.end-ruler.start:next-curr);}if(next===null){next=curr+curr-prev;}var start=curr-(curr-Math.min(prev,next))/2*percent;var size=Math.abs(next-prev)/2*percent;return{chunk:size/stackCount,ratio:options.barPercentage,start:start};}function parseFloatBar(entry,item,vScale,i){var startValue=vScale.parse(entry[0],i);var endValue=vScale.parse(entry[1],i);var min=Math.min(startValue,endValue);var max=Math.max(startValue,endValue);var barStart=min;var barEnd=max;if(Math.abs(min)>Math.abs(max)){barStart=max;barEnd=min;}item[vScale.axis]=barEnd;item._custom={barStart:barStart,barEnd:barEnd,start:startValue,end:endValue,min:min,max:max};}function parseValue(entry,item,vScale,i){if(isArray(entry)){parseFloatBar(entry,item,vScale,i);}else{item[vScale.axis]=vScale.parse(entry,i);}return item;}function parseArrayOrPrimitive(meta,data,start,count){var iScale=meta.iScale;var vScale=meta.vScale;var labels=iScale.getLabels();var singleScale=iScale===vScale;var parsed=[];var i,ilen,item,entry;for(i=start,ilen=start+count;i<ilen;++i){entry=data[i];item={};item[iScale.axis]=singleScale||iScale.parse(labels[i],i);parsed.push(parseValue(entry,item,vScale,i));}return parsed;}function isFloatBar(custom){return custom&&custom.barStart!==undefined&&custom.barEnd!==undefined;}function barSign(size,vScale,actualBase){if(size!==0){return sign(size);}return(vScale.isHorizontal()?1:-1)*(vScale.min>=actualBase?1:-1);}function borderProps(properties){var reverse,start,end,top,bottom;if(properties.horizontal){reverse=properties.base>properties.x;start='left';end='right';}else{reverse=properties.base<properties.y;start='bottom';end='top';}if(reverse){top='end';bottom='start';}else{top='start';bottom='end';}return{start:start,end:end,reverse:reverse,top:top,bottom:bottom};}function setBorderSkipped(properties,options,stack,index){var edge=options.borderSkipped;var res={};if(!edge){properties.borderSkipped=res;return;}var _borderProps=borderProps(properties),start=_borderProps.start,end=_borderProps.end,reverse=_borderProps.reverse,top=_borderProps.top,bottom=_borderProps.bottom;if(edge==='middle'&&stack){properties.enableBorderRadius=true;if((stack._top||0)===index){edge=top;}else if((stack._bottom||0)===index){edge=bottom;}else{res[parseEdge(bottom,start,end,reverse)]=true;edge=top;}}res[parseEdge(edge,start,end,reverse)]=true;properties.borderSkipped=res;}function parseEdge(edge,a,b,reverse){if(reverse){edge=swap(edge,a,b);edge=startEnd(edge,b,a);}else{edge=startEnd(edge,a,b);}return edge;}function swap(orig,v1,v2){return orig===v1?v2:orig===v2?v1:orig;}function startEnd(v,start,end){return v==='start'?start:v==='end'?end:v;}function setInflateAmount(properties,_ref35,ratio){var inflateAmount=_ref35.inflateAmount;properties.inflateAmount=inflateAmount==='auto'?ratio===1?0.33:0:inflateAmount;}var BarController=/*#__PURE__*/function(_DatasetController){_inherits(BarController,_DatasetController);var _super5=_createSuper(BarController);function BarController(){_classCallCheck(this,BarController);return _super5.apply(this,arguments);}_createClass(BarController,[{key:"parsePrimitiveData",value:function parsePrimitiveData(meta,data,start,count){return parseArrayOrPrimitive(meta,data,start,count);}},{key:"parseArrayData",value:function parseArrayData(meta,data,start,count){return parseArrayOrPrimitive(meta,data,start,count);}},{key:"parseObjectData",value:function parseObjectData(meta,data,start,count){var iScale=meta.iScale,vScale=meta.vScale;var _this$_parsing2=this._parsing,_this$_parsing2$xAxis=_this$_parsing2.xAxisKey,xAxisKey=_this$_parsing2$xAxis===void 0?'x':_this$_parsing2$xAxis,_this$_parsing2$yAxis=_this$_parsing2.yAxisKey,yAxisKey=_this$_parsing2$yAxis===void 0?'y':_this$_parsing2$yAxis;var iAxisKey=iScale.axis==='x'?xAxisKey:yAxisKey;var vAxisKey=vScale.axis==='x'?xAxisKey:yAxisKey;var parsed=[];var i,ilen,item,obj;for(i=start,ilen=start+count;i<ilen;++i){obj=data[i];item={};item[iScale.axis]=iScale.parse(resolveObjectKey(obj,iAxisKey),i);parsed.push(parseValue(resolveObjectKey(obj,vAxisKey),item,vScale,i));}return parsed;}},{key:"updateRangeFromParsed",value:function updateRangeFromParsed(range,scale,parsed,stack){_get2(_getPrototypeOf(BarController.prototype),"updateRangeFromParsed",this).call(this,range,scale,parsed,stack);var custom=parsed._custom;if(custom&&scale===this._cachedMeta.vScale){range.min=Math.min(range.min,custom.min);range.max=Math.max(range.max,custom.max);}}},{key:"getMaxOverflow",value:function getMaxOverflow(){return 0;}},{key:"getLabelAndValue",value:function getLabelAndValue(index){var meta=this._cachedMeta;var iScale=meta.iScale,vScale=meta.vScale;var parsed=this.getParsed(index);var custom=parsed._custom;var value=isFloatBar(custom)?'['+custom.start+', '+custom.end+']':''+vScale.getLabelForValue(parsed[vScale.axis]);return{label:''+iScale.getLabelForValue(parsed[iScale.axis]),value:value};}},{key:"initialize",value:function initialize(){this.enableOptionSharing=true;_get2(_getPrototypeOf(BarController.prototype),"initialize",this).call(this);var meta=this._cachedMeta;meta.stack=this.getDataset().stack;}},{key:"update",value:function update(mode){var meta=this._cachedMeta;this.updateElements(meta.data,0,meta.data.length,mode);}},{key:"updateElements",value:function updateElements(bars,start,count,mode){var reset=mode==='reset';var index=this.index,vScale=this._cachedMeta.vScale;var base=vScale.getBasePixel();var horizontal=vScale.isHorizontal();var ruler=this._getRuler();var firstOpts=this.resolveDataElementOptions(start,mode);var sharedOptions=this.getSharedOptions(firstOpts);var includeOptions=this.includeOptions(mode,sharedOptions);this.updateSharedOptions(sharedOptions,mode,firstOpts);for(var i=start;i<start+count;i++){var parsed=this.getParsed(i);var vpixels=reset||isNullOrUndef(parsed[vScale.axis])?{base:base,head:base}:this._calculateBarValuePixels(i);var ipixels=this._calculateBarIndexPixels(i,ruler);var stack=(parsed._stacks||{})[vScale.axis];var properties={horizontal:horizontal,base:vpixels.base,enableBorderRadius:!stack||isFloatBar(parsed._custom)||index===stack._top||index===stack._bottom,x:horizontal?vpixels.head:ipixels.center,y:horizontal?ipixels.center:vpixels.head,height:horizontal?ipixels.size:Math.abs(vpixels.size),width:horizontal?Math.abs(vpixels.size):ipixels.size};if(includeOptions){properties.options=sharedOptions||this.resolveDataElementOptions(i,bars[i].active?'active':mode);}var options=properties.options||bars[i].options;setBorderSkipped(properties,options,stack,index);setInflateAmount(properties,options,ruler.ratio);this.updateElement(bars[i],i,properties,mode);}}},{key:"_getStacks",value:function _getStacks(last,dataIndex){var meta=this._cachedMeta;var iScale=meta.iScale;var metasets=iScale.getMatchingVisibleMetas(this._type);var stacked=iScale.options.stacked;var ilen=metasets.length;var stacks=[];var i,item;for(i=0;i<ilen;++i){item=metasets[i];if(!item.controller.options.grouped){continue;}if(typeof dataIndex!=='undefined'){var val=item.controller.getParsed(dataIndex)[item.controller._cachedMeta.vScale.axis];if(isNullOrUndef(val)||isNaN(val)){continue;}}if(stacked===false||stacks.indexOf(item.stack)===-1||stacked===undefined&&item.stack===undefined){stacks.push(item.stack);}if(item.index===last){break;}}if(!stacks.length){stacks.push(undefined);}return stacks;}},{key:"_getStackCount",value:function _getStackCount(index){return this._getStacks(undefined,index).length;}},{key:"_getStackIndex",value:function _getStackIndex(datasetIndex,name,dataIndex){var stacks=this._getStacks(datasetIndex,dataIndex);var index=name!==undefined?stacks.indexOf(name):-1;return index===-1?stacks.length-1:index;}},{key:"_getRuler",value:function _getRuler(){var opts=this.options;var meta=this._cachedMeta;var iScale=meta.iScale;var pixels=[];var i,ilen;for(i=0,ilen=meta.data.length;i<ilen;++i){pixels.push(iScale.getPixelForValue(this.getParsed(i)[iScale.axis],i));}var barThickness=opts.barThickness;var min=barThickness||computeMinSampleSize(meta);return{min:min,pixels:pixels,start:iScale._startPixel,end:iScale._endPixel,stackCount:this._getStackCount(),scale:iScale,grouped:opts.grouped,ratio:barThickness?1:opts.categoryPercentage*opts.barPercentage};}},{key:"_calculateBarValuePixels",value:function _calculateBarValuePixels(index){var _this$_cachedMeta=this._cachedMeta,vScale=_this$_cachedMeta.vScale,_stacked=_this$_cachedMeta._stacked,_this$options9=this.options,baseValue=_this$options9.base,minBarLength=_this$options9.minBarLength;var actualBase=baseValue||0;var parsed=this.getParsed(index);var custom=parsed._custom;var floating=isFloatBar(custom);var value=parsed[vScale.axis];var start=0;var length=_stacked?this.applyStack(vScale,parsed,_stacked):value;var head,size;if(length!==value){start=length-value;length=value;}if(floating){value=custom.barStart;length=custom.barEnd-custom.barStart;if(value!==0&&sign(value)!==sign(custom.barEnd)){start=0;}start+=value;}var startValue=!isNullOrUndef(baseValue)&&!floating?baseValue:start;var base=vScale.getPixelForValue(startValue);if(this.chart.getDataVisibility(index)){head=vScale.getPixelForValue(start+length);}else{head=base;}size=head-base;if(Math.abs(size)<minBarLength){size=barSign(size,vScale,actualBase)*minBarLength;if(value===actualBase){base-=size/2;}head=base+size;}if(base===vScale.getPixelForValue(actualBase)){var halfGrid=sign(size)*vScale.getLineWidthForValue(actualBase)/2;base+=halfGrid;size-=halfGrid;}return{size:size,base:base,head:head,center:head+size/2};}},{key:"_calculateBarIndexPixels",value:function _calculateBarIndexPixels(index,ruler){var scale=ruler.scale;var options=this.options;var skipNull=options.skipNull;var maxBarThickness=valueOrDefault(options.maxBarThickness,Infinity);var center,size;if(ruler.grouped){var stackCount=skipNull?this._getStackCount(index):ruler.stackCount;var range=options.barThickness==='flex'?computeFlexCategoryTraits(index,ruler,options,stackCount):computeFitCategoryTraits(index,ruler,options,stackCount);var stackIndex=this._getStackIndex(this.index,this._cachedMeta.stack,skipNull?index:undefined);center=range.start+range.chunk*stackIndex+range.chunk/2;size=Math.min(maxBarThickness,range.chunk*range.ratio);}else{center=scale.getPixelForValue(this.getParsed(index)[scale.axis],index);size=Math.min(maxBarThickness,ruler.min*ruler.ratio);}return{base:center-size/2,head:center+size/2,center:center,size:size};}},{key:"draw",value:function draw(){var meta=this._cachedMeta;var vScale=meta.vScale;var rects=meta.data;var ilen=rects.length;var i=0;for(;i<ilen;++i){if(this.getParsed(i)[vScale.axis]!==null){rects[i].draw(this._ctx);}}}}]);return BarController;}(DatasetController);BarController.id='bar';BarController.defaults={datasetElementType:false,dataElementType:'bar',categoryPercentage:0.8,barPercentage:0.9,grouped:true,animations:{numbers:{type:'number',properties:['x','y','base','width','height']}}};BarController.overrides={scales:{_index_:{type:'category',offset:true,grid:{offset:true}},_value_:{type:'linear',beginAtZero:true}}};var BubbleController=/*#__PURE__*/function(_DatasetController2){_inherits(BubbleController,_DatasetController2);var _super6=_createSuper(BubbleController);function BubbleController(){_classCallCheck(this,BubbleController);return _super6.apply(this,arguments);}_createClass(BubbleController,[{key:"initialize",value:function initialize(){this.enableOptionSharing=true;_get2(_getPrototypeOf(BubbleController.prototype),"initialize",this).call(this);}},{key:"parsePrimitiveData",value:function parsePrimitiveData(meta,data,start,count){var parsed=_get2(_getPrototypeOf(BubbleController.prototype),"parsePrimitiveData",this).call(this,meta,data,start,count);for(var i=0;i<parsed.length;i++){parsed[i]._custom=this.resolveDataElementOptions(i+start).radius;}return parsed;}},{key:"parseArrayData",value:function parseArrayData(meta,data,start,count){var parsed=_get2(_getPrototypeOf(BubbleController.prototype),"parseArrayData",this).call(this,meta,data,start,count);for(var i=0;i<parsed.length;i++){var item=data[start+i];parsed[i]._custom=valueOrDefault(item[2],this.resolveDataElementOptions(i+start).radius);}return parsed;}},{key:"parseObjectData",value:function parseObjectData(meta,data,start,count){var parsed=_get2(_getPrototypeOf(BubbleController.prototype),"parseObjectData",this).call(this,meta,data,start,count);for(var i=0;i<parsed.length;i++){var item=data[start+i];parsed[i]._custom=valueOrDefault(item&&item.r&&+item.r,this.resolveDataElementOptions(i+start).radius);}return parsed;}},{key:"getMaxOverflow",value:function getMaxOverflow(){var data=this._cachedMeta.data;var max=0;for(var i=data.length-1;i>=0;--i){max=Math.max(max,data[i].size(this.resolveDataElementOptions(i))/2);}return max>0&&max;}},{key:"getLabelAndValue",value:function getLabelAndValue(index){var meta=this._cachedMeta;var xScale=meta.xScale,yScale=meta.yScale;var parsed=this.getParsed(index);var x=xScale.getLabelForValue(parsed.x);var y=yScale.getLabelForValue(parsed.y);var r=parsed._custom;return{label:meta.label,value:'('+x+', '+y+(r?', '+r:'')+')'};}},{key:"update",value:function update(mode){var points=this._cachedMeta.data;this.updateElements(points,0,points.length,mode);}},{key:"updateElements",value:function updateElements(points,start,count,mode){var reset=mode==='reset';var _this$_cachedMeta2=this._cachedMeta,iScale=_this$_cachedMeta2.iScale,vScale=_this$_cachedMeta2.vScale;var firstOpts=this.resolveDataElementOptions(start,mode);var sharedOptions=this.getSharedOptions(firstOpts);var includeOptions=this.includeOptions(mode,sharedOptions);var iAxis=iScale.axis;var vAxis=vScale.axis;for(var i=start;i<start+count;i++){var point=points[i];var parsed=!reset&&this.getParsed(i);var properties={};var iPixel=properties[iAxis]=reset?iScale.getPixelForDecimal(0.5):iScale.getPixelForValue(parsed[iAxis]);var vPixel=properties[vAxis]=reset?vScale.getBasePixel():vScale.getPixelForValue(parsed[vAxis]);properties.skip=isNaN(iPixel)||isNaN(vPixel);if(includeOptions){properties.options=this.resolveDataElementOptions(i,point.active?'active':mode);if(reset){properties.options.radius=0;}}this.updateElement(point,i,properties,mode);}this.updateSharedOptions(sharedOptions,mode,firstOpts);}},{key:"resolveDataElementOptions",value:function resolveDataElementOptions(index,mode){var parsed=this.getParsed(index);var values=_get2(_getPrototypeOf(BubbleController.prototype),"resolveDataElementOptions",this).call(this,index,mode);if(values.$shared){values=Object.assign({},values,{$shared:false});}var radius=values.radius;if(mode!=='active'){values.radius=0;}values.radius+=valueOrDefault(parsed&&parsed._custom,radius);return values;}}]);return BubbleController;}(DatasetController);BubbleController.id='bubble';BubbleController.defaults={datasetElementType:false,dataElementType:'point',animations:{numbers:{type:'number',properties:['x','y','borderWidth','radius']}}};BubbleController.overrides={scales:{x:{type:'linear'},y:{type:'linear'}},plugins:{tooltip:{callbacks:{title:function title(){return'';}}}}};function getRatioAndOffset(rotation,circumference,cutout){var ratioX=1;var ratioY=1;var offsetX=0;var offsetY=0;if(circumference<TAU){var startAngle=rotation;var endAngle=startAngle+circumference;var startX=Math.cos(startAngle);var startY=Math.sin(startAngle);var endX=Math.cos(endAngle);var endY=Math.sin(endAngle);var calcMax=function calcMax(angle,a,b){return _angleBetween(angle,startAngle,endAngle,true)?1:Math.max(a,a*cutout,b,b*cutout);};var calcMin=function calcMin(angle,a,b){return _angleBetween(angle,startAngle,endAngle,true)?-1:Math.min(a,a*cutout,b,b*cutout);};var maxX=calcMax(0,startX,endX);var maxY=calcMax(HALF_PI,startY,endY);var minX=calcMin(PI,startX,endX);var minY=calcMin(PI+HALF_PI,startY,endY);ratioX=(maxX-minX)/2;ratioY=(maxY-minY)/2;offsetX=-(maxX+minX)/2;offsetY=-(maxY+minY)/2;}return{ratioX:ratioX,ratioY:ratioY,offsetX:offsetX,offsetY:offsetY};}var DoughnutController=/*#__PURE__*/function(_DatasetController3){_inherits(DoughnutController,_DatasetController3);var _super7=_createSuper(DoughnutController);function DoughnutController(chart,datasetIndex){var _this20;_classCallCheck(this,DoughnutController);_this20=_super7.call(this,chart,datasetIndex);_this20.enableOptionSharing=true;_this20.innerRadius=undefined;_this20.outerRadius=undefined;_this20.offsetX=undefined;_this20.offsetY=undefined;return _this20;}_createClass(DoughnutController,[{key:"linkScales",value:function linkScales(){}},{key:"parse",value:function parse(start,count){var data=this.getDataset().data;var meta=this._cachedMeta;if(this._parsing===false){meta._parsed=data;}else{var getter=function getter(i){return+data[i];};if(isObject(data[start])){var _this$_parsing$key=this._parsing.key,key=_this$_parsing$key===void 0?'value':_this$_parsing$key;getter=function getter(i){return+resolveObjectKey(data[i],key);};}var i,ilen;for(i=start,ilen=start+count;i<ilen;++i){meta._parsed[i]=getter(i);}}}},{key:"_getRotation",value:function _getRotation(){return toRadians(this.options.rotation-90);}},{key:"_getCircumference",value:function _getCircumference(){return toRadians(this.options.circumference);}},{key:"_getRotationExtents",value:function _getRotationExtents(){var min=TAU;var max=-TAU;for(var i=0;i<this.chart.data.datasets.length;++i){if(this.chart.isDatasetVisible(i)){var controller=this.chart.getDatasetMeta(i).controller;var rotation=controller._getRotation();var circumference=controller._getCircumference();min=Math.min(min,rotation);max=Math.max(max,rotation+circumference);}}return{rotation:min,circumference:max-min};}},{key:"update",value:function update(mode){var chart=this.chart;var chartArea=chart.chartArea;var meta=this._cachedMeta;var arcs=meta.data;var spacing=this.getMaxBorderWidth()+this.getMaxOffset(arcs)+this.options.spacing;var maxSize=Math.max((Math.min(chartArea.width,chartArea.height)-spacing)/2,0);var cutout=Math.min(toPercentage(this.options.cutout,maxSize),1);var chartWeight=this._getRingWeight(this.index);var _this$_getRotationExt=this._getRotationExtents(),circumference=_this$_getRotationExt.circumference,rotation=_this$_getRotationExt.rotation;var _getRatioAndOffset=getRatioAndOffset(rotation,circumference,cutout),ratioX=_getRatioAndOffset.ratioX,ratioY=_getRatioAndOffset.ratioY,offsetX=_getRatioAndOffset.offsetX,offsetY=_getRatioAndOffset.offsetY;var maxWidth=(chartArea.width-spacing)/ratioX;var maxHeight=(chartArea.height-spacing)/ratioY;var maxRadius=Math.max(Math.min(maxWidth,maxHeight)/2,0);var outerRadius=toDimension(this.options.radius,maxRadius);var innerRadius=Math.max(outerRadius*cutout,0);var radiusLength=(outerRadius-innerRadius)/this._getVisibleDatasetWeightTotal();this.offsetX=offsetX*outerRadius;this.offsetY=offsetY*outerRadius;meta.total=this.calculateTotal();this.outerRadius=outerRadius-radiusLength*this._getRingWeightOffset(this.index);this.innerRadius=Math.max(this.outerRadius-radiusLength*chartWeight,0);this.updateElements(arcs,0,arcs.length,mode);}},{key:"_circumference",value:function _circumference(i,reset){var opts=this.options;var meta=this._cachedMeta;var circumference=this._getCircumference();if(reset&&opts.animation.animateRotate||!this.chart.getDataVisibility(i)||meta._parsed[i]===null||meta.data[i].hidden){return 0;}return this.calculateCircumference(meta._parsed[i]*circumference/TAU);}},{key:"updateElements",value:function updateElements(arcs,start,count,mode){var reset=mode==='reset';var chart=this.chart;var chartArea=chart.chartArea;var opts=chart.options;var animationOpts=opts.animation;var centerX=(chartArea.left+chartArea.right)/2;var centerY=(chartArea.top+chartArea.bottom)/2;var animateScale=reset&&animationOpts.animateScale;var innerRadius=animateScale?0:this.innerRadius;var outerRadius=animateScale?0:this.outerRadius;var firstOpts=this.resolveDataElementOptions(start,mode);var sharedOptions=this.getSharedOptions(firstOpts);var includeOptions=this.includeOptions(mode,sharedOptions);var startAngle=this._getRotation();var i;for(i=0;i<start;++i){startAngle+=this._circumference(i,reset);}for(i=start;i<start+count;++i){var circumference=this._circumference(i,reset);var arc=arcs[i];var properties={x:centerX+this.offsetX,y:centerY+this.offsetY,startAngle:startAngle,endAngle:startAngle+circumference,circumference:circumference,outerRadius:outerRadius,innerRadius:innerRadius};if(includeOptions){properties.options=sharedOptions||this.resolveDataElementOptions(i,arc.active?'active':mode);}startAngle+=circumference;this.updateElement(arc,i,properties,mode);}this.updateSharedOptions(sharedOptions,mode,firstOpts);}},{key:"calculateTotal",value:function calculateTotal(){var meta=this._cachedMeta;var metaData=meta.data;var total=0;var i;for(i=0;i<metaData.length;i++){var value=meta._parsed[i];if(value!==null&&!isNaN(value)&&this.chart.getDataVisibility(i)&&!metaData[i].hidden){total+=Math.abs(value);}}return total;}},{key:"calculateCircumference",value:function calculateCircumference(value){var total=this._cachedMeta.total;if(total>0&&!isNaN(value)){return TAU*(Math.abs(value)/total);}return 0;}},{key:"getLabelAndValue",value:function getLabelAndValue(index){var meta=this._cachedMeta;var chart=this.chart;var labels=chart.data.labels||[];var value=formatNumber(meta._parsed[index],chart.options.locale);return{label:labels[index]||'',value:value};}},{key:"getMaxBorderWidth",value:function getMaxBorderWidth(arcs){var max=0;var chart=this.chart;var i,ilen,meta,controller,options;if(!arcs){for(i=0,ilen=chart.data.datasets.length;i<ilen;++i){if(chart.isDatasetVisible(i)){meta=chart.getDatasetMeta(i);arcs=meta.data;controller=meta.controller;if(controller!==this){controller.configure();}break;}}}if(!arcs){return 0;}for(i=0,ilen=arcs.length;i<ilen;++i){options=controller.resolveDataElementOptions(i);if(options.borderAlign!=='inner'){max=Math.max(max,options.borderWidth||0,options.hoverBorderWidth||0);}}return max;}},{key:"getMaxOffset",value:function getMaxOffset(arcs){var max=0;for(var i=0,ilen=arcs.length;i<ilen;++i){var options=this.resolveDataElementOptions(i);max=Math.max(max,options.offset||0,options.hoverOffset||0);}return max;}},{key:"_getRingWeightOffset",value:function _getRingWeightOffset(datasetIndex){var ringWeightOffset=0;for(var i=0;i<datasetIndex;++i){if(this.chart.isDatasetVisible(i)){ringWeightOffset+=this._getRingWeight(i);}}return ringWeightOffset;}},{key:"_getRingWeight",value:function _getRingWeight(datasetIndex){return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight,1),0);}},{key:"_getVisibleDatasetWeightTotal",value:function _getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1;}}]);return DoughnutController;}(DatasetController);DoughnutController.id='doughnut';DoughnutController.defaults={datasetElementType:false,dataElementType:'arc',animation:{animateRotate:true,animateScale:false},animations:{numbers:{type:'number',properties:['circumference','endAngle','innerRadius','outerRadius','startAngle','x','y','offset','borderWidth','spacing']}},cutout:'50%',rotation:0,circumference:360,radius:'100%',spacing:0,indexAxis:'r'};DoughnutController.descriptors={_scriptable:function _scriptable(name){return name!=='spacing';},_indexable:function _indexable(name){return name!=='spacing';}};DoughnutController.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels:function generateLabels(chart){var data=chart.data;if(data.labels.length&&data.datasets.length){var pointStyle=chart.legend.options.labels.pointStyle;return data.labels.map(function(label,i){var meta=chart.getDatasetMeta(0);var style=meta.controller.getStyle(i);return{text:label,fillStyle:style.backgroundColor,strokeStyle:style.borderColor,lineWidth:style.borderWidth,pointStyle:pointStyle,hidden:!chart.getDataVisibility(i),index:i};});}return[];}},onClick:function onClick(e,legendItem,legend){legend.chart.toggleDataVisibility(legendItem.index);legend.chart.update();}},tooltip:{callbacks:{title:function title(){return'';},label:function label(tooltipItem){var dataLabel=tooltipItem.label;var value=': '+tooltipItem.formattedValue;if(isArray(dataLabel)){dataLabel=dataLabel.slice();dataLabel[0]+=value;}else{dataLabel+=value;}return dataLabel;}}}}};var LineController=/*#__PURE__*/function(_DatasetController4){_inherits(LineController,_DatasetController4);var _super8=_createSuper(LineController);function LineController(){_classCallCheck(this,LineController);return _super8.apply(this,arguments);}_createClass(LineController,[{key:"initialize",value:function initialize(){this.enableOptionSharing=true;_get2(_getPrototypeOf(LineController.prototype),"initialize",this).call(this);}},{key:"update",value:function update(mode){var meta=this._cachedMeta;var line=meta.dataset,_meta$data=meta.data,points=_meta$data===void 0?[]:_meta$data,_dataset=meta._dataset;var animationsDisabled=this.chart._animationsDisabled;var _getStartAndCountOfVi=getStartAndCountOfVisiblePoints(meta,points,animationsDisabled),start=_getStartAndCountOfVi.start,count=_getStartAndCountOfVi.count;this._drawStart=start;this._drawCount=count;if(scaleRangesChanged(meta)){start=0;count=points.length;}line._chart=this.chart;line._datasetIndex=this.index;line._decimated=!!_dataset._decimated;line.points=points;var options=this.resolveDatasetElementOptions(mode);if(!this.options.showLine){options.borderWidth=0;}options.segment=this.options.segment;this.updateElement(line,undefined,{animated:!animationsDisabled,options:options},mode);this.updateElements(points,start,count,mode);}},{key:"updateElements",value:function updateElements(points,start,count,mode){var reset=mode==='reset';var _this$_cachedMeta3=this._cachedMeta,iScale=_this$_cachedMeta3.iScale,vScale=_this$_cachedMeta3.vScale,_stacked=_this$_cachedMeta3._stacked,_dataset=_this$_cachedMeta3._dataset;var firstOpts=this.resolveDataElementOptions(start,mode);var sharedOptions=this.getSharedOptions(firstOpts);var includeOptions=this.includeOptions(mode,sharedOptions);var iAxis=iScale.axis;var vAxis=vScale.axis;var _this$options10=this.options,spanGaps=_this$options10.spanGaps,segment=_this$options10.segment;var maxGapLength=isNumber(spanGaps)?spanGaps:Number.POSITIVE_INFINITY;var directUpdate=this.chart._animationsDisabled||reset||mode==='none';var prevParsed=start>0&&this.getParsed(start-1);for(var i=start;i<start+count;++i){var point=points[i];var parsed=this.getParsed(i);var properties=directUpdate?point:{};var nullData=isNullOrUndef(parsed[vAxis]);var iPixel=properties[iAxis]=iScale.getPixelForValue(parsed[iAxis],i);var vPixel=properties[vAxis]=reset||nullData?vScale.getBasePixel():vScale.getPixelForValue(_stacked?this.applyStack(vScale,parsed,_stacked):parsed[vAxis],i);properties.skip=isNaN(iPixel)||isNaN(vPixel)||nullData;properties.stop=i>0&&parsed[iAxis]-prevParsed[iAxis]>maxGapLength;if(segment){properties.parsed=parsed;properties.raw=_dataset.data[i];}if(includeOptions){properties.options=sharedOptions||this.resolveDataElementOptions(i,point.active?'active':mode);}if(!directUpdate){this.updateElement(point,i,properties,mode);}prevParsed=parsed;}this.updateSharedOptions(sharedOptions,mode,firstOpts);}},{key:"getMaxOverflow",value:function getMaxOverflow(){var meta=this._cachedMeta;var dataset=meta.dataset;var border=dataset.options&&dataset.options.borderWidth||0;var data=meta.data||[];if(!data.length){return border;}var firstPoint=data[0].size(this.resolveDataElementOptions(0));var lastPoint=data[data.length-1].size(this.resolveDataElementOptions(data.length-1));return Math.max(border,firstPoint,lastPoint)/2;}},{key:"draw",value:function draw(){var meta=this._cachedMeta;meta.dataset.updateControlPoints(this.chart.chartArea,meta.iScale.axis);_get2(_getPrototypeOf(LineController.prototype),"draw",this).call(this);}}]);return LineController;}(DatasetController);LineController.id='line';LineController.defaults={datasetElementType:'line',dataElementType:'point',showLine:true,spanGaps:false};LineController.overrides={scales:{_index_:{type:'category'},_value_:{type:'linear'}}};function getStartAndCountOfVisiblePoints(meta,points,animationsDisabled){var pointCount=points.length;var start=0;var count=pointCount;if(meta._sorted){var iScale=meta.iScale,_parsed=meta._parsed;var axis=iScale.axis;var _iScale$getUserBounds=iScale.getUserBounds(),min=_iScale$getUserBounds.min,max=_iScale$getUserBounds.max,minDefined=_iScale$getUserBounds.minDefined,maxDefined=_iScale$getUserBounds.maxDefined;if(minDefined){start=_limitValue(Math.min(_lookupByKey(_parsed,iScale.axis,min).lo,animationsDisabled?pointCount:_lookupByKey(points,axis,iScale.getPixelForValue(min)).lo),0,pointCount-1);}if(maxDefined){count=_limitValue(Math.max(_lookupByKey(_parsed,iScale.axis,max).hi+1,animationsDisabled?0:_lookupByKey(points,axis,iScale.getPixelForValue(max)).hi+1),start,pointCount)-start;}else{count=pointCount-start;}}return{start:start,count:count};}function scaleRangesChanged(meta){var xScale=meta.xScale,yScale=meta.yScale,_scaleRanges=meta._scaleRanges;var newRanges={xmin:xScale.min,xmax:xScale.max,ymin:yScale.min,ymax:yScale.max};if(!_scaleRanges){meta._scaleRanges=newRanges;return true;}var changed=_scaleRanges.xmin!==xScale.min||_scaleRanges.xmax!==xScale.max||_scaleRanges.ymin!==yScale.min||_scaleRanges.ymax!==yScale.max;Object.assign(_scaleRanges,newRanges);return changed;}var PolarAreaController=/*#__PURE__*/function(_DatasetController5){_inherits(PolarAreaController,_DatasetController5);var _super9=_createSuper(PolarAreaController);function PolarAreaController(chart,datasetIndex){var _this21;_classCallCheck(this,PolarAreaController);_this21=_super9.call(this,chart,datasetIndex);_this21.innerRadius=undefined;_this21.outerRadius=undefined;return _this21;}_createClass(PolarAreaController,[{key:"getLabelAndValue",value:function getLabelAndValue(index){var meta=this._cachedMeta;var chart=this.chart;var labels=chart.data.labels||[];var value=formatNumber(meta._parsed[index].r,chart.options.locale);return{label:labels[index]||'',value:value};}},{key:"update",value:function update(mode){var arcs=this._cachedMeta.data;this._updateRadius();this.updateElements(arcs,0,arcs.length,mode);}},{key:"_updateRadius",value:function _updateRadius(){var chart=this.chart;var chartArea=chart.chartArea;var opts=chart.options;var minSize=Math.min(chartArea.right-chartArea.left,chartArea.bottom-chartArea.top);var outerRadius=Math.max(minSize/2,0);var innerRadius=Math.max(opts.cutoutPercentage?outerRadius/100*opts.cutoutPercentage:1,0);var radiusLength=(outerRadius-innerRadius)/chart.getVisibleDatasetCount();this.outerRadius=outerRadius-radiusLength*this.index;this.innerRadius=this.outerRadius-radiusLength;}},{key:"updateElements",value:function updateElements(arcs,start,count,mode){var reset=mode==='reset';var chart=this.chart;var dataset=this.getDataset();var opts=chart.options;var animationOpts=opts.animation;var scale=this._cachedMeta.rScale;var centerX=scale.xCenter;var centerY=scale.yCenter;var datasetStartAngle=scale.getIndexAngle(0)-0.5*PI;var angle=datasetStartAngle;var i;var defaultAngle=360/this.countVisibleElements();for(i=0;i<start;++i){angle+=this._computeAngle(i,mode,defaultAngle);}for(i=start;i<start+count;i++){var arc=arcs[i];var startAngle=angle;var endAngle=angle+this._computeAngle(i,mode,defaultAngle);var outerRadius=chart.getDataVisibility(i)?scale.getDistanceFromCenterForValue(dataset.data[i]):0;angle=endAngle;if(reset){if(animationOpts.animateScale){outerRadius=0;}if(animationOpts.animateRotate){startAngle=endAngle=datasetStartAngle;}}var properties={x:centerX,y:centerY,innerRadius:0,outerRadius:outerRadius,startAngle:startAngle,endAngle:endAngle,options:this.resolveDataElementOptions(i,arc.active?'active':mode)};this.updateElement(arc,i,properties,mode);}}},{key:"countVisibleElements",value:function countVisibleElements(){var _this22=this;var dataset=this.getDataset();var meta=this._cachedMeta;var count=0;meta.data.forEach(function(element,index){if(!isNaN(dataset.data[index])&&_this22.chart.getDataVisibility(index)){count++;}});return count;}},{key:"_computeAngle",value:function _computeAngle(index,mode,defaultAngle){return this.chart.getDataVisibility(index)?toRadians(this.resolveDataElementOptions(index,mode).angle||defaultAngle):0;}}]);return PolarAreaController;}(DatasetController);PolarAreaController.id='polarArea';PolarAreaController.defaults={dataElementType:'arc',animation:{animateRotate:true,animateScale:true},animations:{numbers:{type:'number',properties:['x','y','startAngle','endAngle','innerRadius','outerRadius']}},indexAxis:'r',startAngle:0};PolarAreaController.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels:function generateLabels(chart){var data=chart.data;if(data.labels.length&&data.datasets.length){var pointStyle=chart.legend.options.labels.pointStyle;return data.labels.map(function(label,i){var meta=chart.getDatasetMeta(0);var style=meta.controller.getStyle(i);return{text:label,fillStyle:style.backgroundColor,strokeStyle:style.borderColor,lineWidth:style.borderWidth,pointStyle:pointStyle,hidden:!chart.getDataVisibility(i),index:i};});}return[];}},onClick:function onClick(e,legendItem,legend){legend.chart.toggleDataVisibility(legendItem.index);legend.chart.update();}},tooltip:{callbacks:{title:function title(){return'';},label:function label(context){return context.chart.data.labels[context.dataIndex]+': '+context.formattedValue;}}}},scales:{r:{type:'radialLinear',angleLines:{display:false},beginAtZero:true,grid:{circular:true},pointLabels:{display:false},startAngle:0}}};var PieController=/*#__PURE__*/function(_DoughnutController){_inherits(PieController,_DoughnutController);var _super10=_createSuper(PieController);function PieController(){_classCallCheck(this,PieController);return _super10.apply(this,arguments);}return PieController;}(DoughnutController);PieController.id='pie';PieController.defaults={cutout:0,rotation:0,circumference:360,radius:'100%'};var RadarController=/*#__PURE__*/function(_DatasetController6){_inherits(RadarController,_DatasetController6);var _super11=_createSuper(RadarController);function RadarController(){_classCallCheck(this,RadarController);return _super11.apply(this,arguments);}_createClass(RadarController,[{key:"getLabelAndValue",value:function getLabelAndValue(index){var vScale=this._cachedMeta.vScale;var parsed=this.getParsed(index);return{label:vScale.getLabels()[index],value:''+vScale.getLabelForValue(parsed[vScale.axis])};}},{key:"update",value:function update(mode){var meta=this._cachedMeta;var line=meta.dataset;var points=meta.data||[];var labels=meta.iScale.getLabels();line.points=points;if(mode!=='resize'){var options=this.resolveDatasetElementOptions(mode);if(!this.options.showLine){options.borderWidth=0;}var properties={_loop:true,_fullLoop:labels.length===points.length,options:options};this.updateElement(line,undefined,properties,mode);}this.updateElements(points,0,points.length,mode);}},{key:"updateElements",value:function updateElements(points,start,count,mode){var dataset=this.getDataset();var scale=this._cachedMeta.rScale;var reset=mode==='reset';for(var i=start;i<start+count;i++){var point=points[i];var options=this.resolveDataElementOptions(i,point.active?'active':mode);var pointPosition=scale.getPointPositionForValue(i,dataset.data[i]);var x=reset?scale.xCenter:pointPosition.x;var y=reset?scale.yCenter:pointPosition.y;var properties={x:x,y:y,angle:pointPosition.angle,skip:isNaN(x)||isNaN(y),options:options};this.updateElement(point,i,properties,mode);}}}]);return RadarController;}(DatasetController);RadarController.id='radar';RadarController.defaults={datasetElementType:'line',dataElementType:'point',indexAxis:'r',showLine:true,elements:{line:{fill:'start'}}};RadarController.overrides={aspectRatio:1,scales:{r:{type:'radialLinear'}}};var ScatterController=/*#__PURE__*/function(_LineController){_inherits(ScatterController,_LineController);var _super12=_createSuper(ScatterController);function ScatterController(){_classCallCheck(this,ScatterController);return _super12.apply(this,arguments);}return ScatterController;}(LineController);ScatterController.id='scatter';ScatterController.defaults={showLine:false,fill:false};ScatterController.overrides={interaction:{mode:'point'},plugins:{tooltip:{callbacks:{title:function title(){return'';},label:function label(item){return'('+item.label+', '+item.formattedValue+')';}}}},scales:{x:{type:'linear'},y:{type:'linear'}}};var controllers=/*#__PURE__*/Object.freeze({__proto__:null,BarController:BarController,BubbleController:BubbleController,DoughnutController:DoughnutController,LineController:LineController,PolarAreaController:PolarAreaController,PieController:PieController,RadarController:RadarController,ScatterController:ScatterController});function clipArc(ctx,element,endAngle){var startAngle=element.startAngle,pixelMargin=element.pixelMargin,x=element.x,y=element.y,outerRadius=element.outerRadius,innerRadius=element.innerRadius;var angleMargin=pixelMargin/outerRadius;ctx.beginPath();ctx.arc(x,y,outerRadius,startAngle-angleMargin,endAngle+angleMargin);if(innerRadius>pixelMargin){angleMargin=pixelMargin/innerRadius;ctx.arc(x,y,innerRadius,endAngle+angleMargin,startAngle-angleMargin,true);}else{ctx.arc(x,y,pixelMargin,endAngle+HALF_PI,startAngle-HALF_PI);}ctx.closePath();ctx.clip();}function toRadiusCorners(value){return _readValueToProps(value,['outerStart','outerEnd','innerStart','innerEnd']);}function parseBorderRadius$1(arc,innerRadius,outerRadius,angleDelta){var o=toRadiusCorners(arc.options.borderRadius);var halfThickness=(outerRadius-innerRadius)/2;var innerLimit=Math.min(halfThickness,angleDelta*innerRadius/2);var computeOuterLimit=function computeOuterLimit(val){var outerArcLimit=(outerRadius-Math.min(halfThickness,val))*angleDelta/2;return _limitValue(val,0,Math.min(halfThickness,outerArcLimit));};return{outerStart:computeOuterLimit(o.outerStart),outerEnd:computeOuterLimit(o.outerEnd),innerStart:_limitValue(o.innerStart,0,innerLimit),innerEnd:_limitValue(o.innerEnd,0,innerLimit)};}function rThetaToXY(r,theta,x,y){return{x:x+r*Math.cos(theta),y:y+r*Math.sin(theta)};}function pathArc(ctx,element,offset,spacing,end){var x=element.x,y=element.y,start=element.startAngle,pixelMargin=element.pixelMargin,innerR=element.innerRadius;var outerRadius=Math.max(element.outerRadius+spacing+offset-pixelMargin,0);var innerRadius=innerR>0?innerR+spacing+offset+pixelMargin:0;var spacingOffset=0;var alpha=end-start;if(spacing){var noSpacingInnerRadius=innerR>0?innerR-spacing:0;var noSpacingOuterRadius=outerRadius>0?outerRadius-spacing:0;var avNogSpacingRadius=(noSpacingInnerRadius+noSpacingOuterRadius)/2;var adjustedAngle=avNogSpacingRadius!==0?alpha*avNogSpacingRadius/(avNogSpacingRadius+spacing):alpha;spacingOffset=(alpha-adjustedAngle)/2;}var beta=Math.max(0.001,alpha*outerRadius-offset/PI)/outerRadius;var angleOffset=(alpha-beta)/2;var startAngle=start+angleOffset+spacingOffset;var endAngle=end-angleOffset-spacingOffset;var _parseBorderRadius$=parseBorderRadius$1(element,innerRadius,outerRadius,endAngle-startAngle),outerStart=_parseBorderRadius$.outerStart,outerEnd=_parseBorderRadius$.outerEnd,innerStart=_parseBorderRadius$.innerStart,innerEnd=_parseBorderRadius$.innerEnd;var outerStartAdjustedRadius=outerRadius-outerStart;var outerEndAdjustedRadius=outerRadius-outerEnd;var outerStartAdjustedAngle=startAngle+outerStart/outerStartAdjustedRadius;var outerEndAdjustedAngle=endAngle-outerEnd/outerEndAdjustedRadius;var innerStartAdjustedRadius=innerRadius+innerStart;var innerEndAdjustedRadius=innerRadius+innerEnd;var innerStartAdjustedAngle=startAngle+innerStart/innerStartAdjustedRadius;var innerEndAdjustedAngle=endAngle-innerEnd/innerEndAdjustedRadius;ctx.beginPath();ctx.arc(x,y,outerRadius,outerStartAdjustedAngle,outerEndAdjustedAngle);if(outerEnd>0){var pCenter=rThetaToXY(outerEndAdjustedRadius,outerEndAdjustedAngle,x,y);ctx.arc(pCenter.x,pCenter.y,outerEnd,outerEndAdjustedAngle,endAngle+HALF_PI);}var p4=rThetaToXY(innerEndAdjustedRadius,endAngle,x,y);ctx.lineTo(p4.x,p4.y);if(innerEnd>0){var _pCenter=rThetaToXY(innerEndAdjustedRadius,innerEndAdjustedAngle,x,y);ctx.arc(_pCenter.x,_pCenter.y,innerEnd,endAngle+HALF_PI,innerEndAdjustedAngle+Math.PI);}ctx.arc(x,y,innerRadius,endAngle-innerEnd/innerRadius,startAngle+innerStart/innerRadius,true);if(innerStart>0){var _pCenter2=rThetaToXY(innerStartAdjustedRadius,innerStartAdjustedAngle,x,y);ctx.arc(_pCenter2.x,_pCenter2.y,innerStart,innerStartAdjustedAngle+Math.PI,startAngle-HALF_PI);}var p8=rThetaToXY(outerStartAdjustedRadius,startAngle,x,y);ctx.lineTo(p8.x,p8.y);if(outerStart>0){var _pCenter3=rThetaToXY(outerStartAdjustedRadius,outerStartAdjustedAngle,x,y);ctx.arc(_pCenter3.x,_pCenter3.y,outerStart,startAngle-HALF_PI,outerStartAdjustedAngle);}ctx.closePath();}function drawArc(ctx,element,offset,spacing){var fullCircles=element.fullCircles,startAngle=element.startAngle,circumference=element.circumference;var endAngle=element.endAngle;if(fullCircles){pathArc(ctx,element,offset,spacing,startAngle+TAU);for(var i=0;i<fullCircles;++i){ctx.fill();}if(!isNaN(circumference)){endAngle=startAngle+circumference%TAU;if(circumference%TAU===0){endAngle+=TAU;}}}pathArc(ctx,element,offset,spacing,endAngle);ctx.fill();return endAngle;}function drawFullCircleBorders(ctx,element,inner){var x=element.x,y=element.y,startAngle=element.startAngle,pixelMargin=element.pixelMargin,fullCircles=element.fullCircles;var outerRadius=Math.max(element.outerRadius-pixelMargin,0);var innerRadius=element.innerRadius+pixelMargin;var i;if(inner){clipArc(ctx,element,startAngle+TAU);}ctx.beginPath();ctx.arc(x,y,innerRadius,startAngle+TAU,startAngle,true);for(i=0;i<fullCircles;++i){ctx.stroke();}ctx.beginPath();ctx.arc(x,y,outerRadius,startAngle,startAngle+TAU);for(i=0;i<fullCircles;++i){ctx.stroke();}}function drawBorder(ctx,element,offset,spacing,endAngle){var options=element.options;var inner=options.borderAlign==='inner';if(!options.borderWidth){return;}if(inner){ctx.lineWidth=options.borderWidth*2;ctx.lineJoin='round';}else{ctx.lineWidth=options.borderWidth;ctx.lineJoin='bevel';}if(element.fullCircles){drawFullCircleBorders(ctx,element,inner);}if(inner){clipArc(ctx,element,endAngle);}pathArc(ctx,element,offset,spacing,endAngle);ctx.stroke();}var ArcElement=/*#__PURE__*/function(_Element2){_inherits(ArcElement,_Element2);var _super13=_createSuper(ArcElement);function ArcElement(cfg){var _this23;_classCallCheck(this,ArcElement);_this23=_super13.call(this);_this23.options=undefined;_this23.circumference=undefined;_this23.startAngle=undefined;_this23.endAngle=undefined;_this23.innerRadius=undefined;_this23.outerRadius=undefined;_this23.pixelMargin=0;_this23.fullCircles=0;if(cfg){Object.assign(_assertThisInitialized(_this23),cfg);}return _this23;}_createClass(ArcElement,[{key:"inRange",value:function inRange(chartX,chartY,useFinalPosition){var point=this.getProps(['x','y'],useFinalPosition);var _getAngleFromPoint=getAngleFromPoint(point,{x:chartX,y:chartY}),angle=_getAngleFromPoint.angle,distance=_getAngleFromPoint.distance;var _this$getProps2=this.getProps(['startAngle','endAngle','innerRadius','outerRadius','circumference'],useFinalPosition),startAngle=_this$getProps2.startAngle,endAngle=_this$getProps2.endAngle,innerRadius=_this$getProps2.innerRadius,outerRadius=_this$getProps2.outerRadius,circumference=_this$getProps2.circumference;var rAdjust=this.options.spacing/2;var betweenAngles=circumference>=TAU||_angleBetween(angle,startAngle,endAngle);var withinRadius=distance>=innerRadius+rAdjust&&distance<=outerRadius+rAdjust;return betweenAngles&&withinRadius;}},{key:"getCenterPoint",value:function getCenterPoint(useFinalPosition){var _this$getProps3=this.getProps(['x','y','startAngle','endAngle','innerRadius','outerRadius','circumference'],useFinalPosition),x=_this$getProps3.x,y=_this$getProps3.y,startAngle=_this$getProps3.startAngle,endAngle=_this$getProps3.endAngle,innerRadius=_this$getProps3.innerRadius,outerRadius=_this$getProps3.outerRadius;var _this$options11=this.options,offset=_this$options11.offset,spacing=_this$options11.spacing;var halfAngle=(startAngle+endAngle)/2;var halfRadius=(innerRadius+outerRadius+spacing+offset)/2;return{x:x+Math.cos(halfAngle)*halfRadius,y:y+Math.sin(halfAngle)*halfRadius};}},{key:"tooltipPosition",value:function tooltipPosition(useFinalPosition){return this.getCenterPoint(useFinalPosition);}},{key:"draw",value:function draw(ctx){var options=this.options,circumference=this.circumference;var offset=(options.offset||0)/2;var spacing=(options.spacing||0)/2;this.pixelMargin=options.borderAlign==='inner'?0.33:0;this.fullCircles=circumference>TAU?Math.floor(circumference/TAU):0;if(circumference===0||this.innerRadius<0||this.outerRadius<0){return;}ctx.save();var radiusOffset=0;if(offset){radiusOffset=offset/2;var halfAngle=(this.startAngle+this.endAngle)/2;ctx.translate(Math.cos(halfAngle)*radiusOffset,Math.sin(halfAngle)*radiusOffset);if(this.circumference>=PI){radiusOffset=offset;}}ctx.fillStyle=options.backgroundColor;ctx.strokeStyle=options.borderColor;var endAngle=drawArc(ctx,this,radiusOffset,spacing);drawBorder(ctx,this,radiusOffset,spacing,endAngle);ctx.restore();}}]);return ArcElement;}(Element);ArcElement.id='arc';ArcElement.defaults={borderAlign:'center',borderColor:'#fff',borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:undefined};ArcElement.defaultRoutes={backgroundColor:'backgroundColor'};function setStyle(ctx,options){var style=arguments.length>2&&arguments[2]!==undefined?arguments[2]:options;ctx.lineCap=valueOrDefault(style.borderCapStyle,options.borderCapStyle);ctx.setLineDash(valueOrDefault(style.borderDash,options.borderDash));ctx.lineDashOffset=valueOrDefault(style.borderDashOffset,options.borderDashOffset);ctx.lineJoin=valueOrDefault(style.borderJoinStyle,options.borderJoinStyle);ctx.lineWidth=valueOrDefault(style.borderWidth,options.borderWidth);ctx.strokeStyle=valueOrDefault(style.borderColor,options.borderColor);}function lineTo(ctx,previous,target){ctx.lineTo(target.x,target.y);}function getLineMethod(options){if(options.stepped){return _steppedLineTo;}if(options.tension||options.cubicInterpolationMode==='monotone'){return _bezierCurveTo;}return lineTo;}function pathVars(points,segment){var params=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var count=points.length;var _params$start=params.start,paramsStart=_params$start===void 0?0:_params$start,_params$end=params.end,paramsEnd=_params$end===void 0?count-1:_params$end;var segmentStart=segment.start,segmentEnd=segment.end;var start=Math.max(paramsStart,segmentStart);var end=Math.min(paramsEnd,segmentEnd);var outside=paramsStart<segmentStart&&paramsEnd<segmentStart||paramsStart>segmentEnd&&paramsEnd>segmentEnd;return{count:count,start:start,loop:segment.loop,ilen:end<start&&!outside?count+end-start:end-start};}function pathSegment(ctx,line,segment,params){var points=line.points,options=line.options;var _pathVars=pathVars(points,segment,params),count=_pathVars.count,start=_pathVars.start,loop=_pathVars.loop,ilen=_pathVars.ilen;var lineMethod=getLineMethod(options);var _ref36=params||{},_ref36$move=_ref36.move,move=_ref36$move===void 0?true:_ref36$move,reverse=_ref36.reverse;var i,point,prev;for(i=0;i<=ilen;++i){point=points[(start+(reverse?ilen-i:i))%count];if(point.skip){continue;}else if(move){ctx.moveTo(point.x,point.y);move=false;}else{lineMethod(ctx,prev,point,reverse,options.stepped);}prev=point;}if(loop){point=points[(start+(reverse?ilen:0))%count];lineMethod(ctx,prev,point,reverse,options.stepped);}return!!loop;}function fastPathSegment(ctx,line,segment,params){var points=line.points;var _pathVars2=pathVars(points,segment,params),count=_pathVars2.count,start=_pathVars2.start,ilen=_pathVars2.ilen;var _ref37=params||{},_ref37$move=_ref37.move,move=_ref37$move===void 0?true:_ref37$move,reverse=_ref37.reverse;var avgX=0;var countX=0;var i,point,prevX,minY,maxY,lastY;var pointIndex=function pointIndex(index){return(start+(reverse?ilen-index:index))%count;};var drawX=function drawX(){if(minY!==maxY){ctx.lineTo(avgX,maxY);ctx.lineTo(avgX,minY);ctx.lineTo(avgX,lastY);}};if(move){point=points[pointIndex(0)];ctx.moveTo(point.x,point.y);}for(i=0;i<=ilen;++i){point=points[pointIndex(i)];if(point.skip){continue;}var x=point.x;var y=point.y;var truncX=x|0;if(truncX===prevX){if(y<minY){minY=y;}else if(y>maxY){maxY=y;}avgX=(countX*avgX+x)/++countX;}else{drawX();ctx.lineTo(x,y);prevX=truncX;countX=0;minY=maxY=y;}lastY=y;}drawX();}function _getSegmentMethod(line){var opts=line.options;var borderDash=opts.borderDash&&opts.borderDash.length;var useFastPath=!line._decimated&&!line._loop&&!opts.tension&&opts.cubicInterpolationMode!=='monotone'&&!opts.stepped&&!borderDash;return useFastPath?fastPathSegment:pathSegment;}function _getInterpolationMethod(options){if(options.stepped){return _steppedInterpolation;}if(options.tension||options.cubicInterpolationMode==='monotone'){return _bezierInterpolation;}return _pointInLine;}function strokePathWithCache(ctx,line,start,count){var path=line._path;if(!path){path=line._path=new Path2D();if(line.path(path,start,count)){path.closePath();}}setStyle(ctx,line.options);ctx.stroke(path);}function strokePathDirect(ctx,line,start,count){var segments=line.segments,options=line.options;var segmentMethod=_getSegmentMethod(line);var _iterator23=_createForOfIteratorHelper(segments),_step23;try{for(_iterator23.s();!(_step23=_iterator23.n()).done;){var segment=_step23.value;setStyle(ctx,options,segment.style);ctx.beginPath();if(segmentMethod(ctx,line,segment,{start:start,end:start+count-1})){ctx.closePath();}ctx.stroke();}}catch(err){_iterator23.e(err);}finally{_iterator23.f();}}var usePath2D=typeof Path2D==='function';function _draw(ctx,line,start,count){if(usePath2D&&!line.options.segment){strokePathWithCache(ctx,line,start,count);}else{strokePathDirect(ctx,line,start,count);}}var LineElement=/*#__PURE__*/function(_Element3){_inherits(LineElement,_Element3);var _super14=_createSuper(LineElement);function LineElement(cfg){var _this24;_classCallCheck(this,LineElement);_this24=_super14.call(this);_this24.animated=true;_this24.options=undefined;_this24._chart=undefined;_this24._loop=undefined;_this24._fullLoop=undefined;_this24._path=undefined;_this24._points=undefined;_this24._segments=undefined;_this24._decimated=false;_this24._pointsUpdated=false;_this24._datasetIndex=undefined;if(cfg){Object.assign(_assertThisInitialized(_this24),cfg);}return _this24;}_createClass(LineElement,[{key:"updateControlPoints",value:function updateControlPoints(chartArea,indexAxis){var options=this.options;if((options.tension||options.cubicInterpolationMode==='monotone')&&!options.stepped&&!this._pointsUpdated){var loop=options.spanGaps?this._loop:this._fullLoop;_updateBezierControlPoints(this._points,options,chartArea,loop,indexAxis);this._pointsUpdated=true;}}},{key:"points",get:function get(){return this._points;},set:function set(points){this._points=points;delete this._segments;delete this._path;this._pointsUpdated=false;}},{key:"segments",get:function get(){return this._segments||(this._segments=_computeSegments(this,this.options.segment));}},{key:"first",value:function first(){var segments=this.segments;var points=this.points;return segments.length&&points[segments[0].start];}},{key:"last",value:function last(){var segments=this.segments;var points=this.points;var count=segments.length;return count&&points[segments[count-1].end];}},{key:"interpolate",value:function interpolate(point,property){var options=this.options;var value=point[property];var points=this.points;var segments=_boundSegments(this,{property:property,start:value,end:value});if(!segments.length){return;}var result=[];var _interpolate=_getInterpolationMethod(options);var i,ilen;for(i=0,ilen=segments.length;i<ilen;++i){var _segments$i=segments[i],start=_segments$i.start,end=_segments$i.end;var p1=points[start];var p2=points[end];if(p1===p2){result.push(p1);continue;}var t=Math.abs((value-p1[property])/(p2[property]-p1[property]));var interpolated=_interpolate(p1,p2,t,options.stepped);interpolated[property]=point[property];result.push(interpolated);}return result.length===1?result[0]:result;}},{key:"pathSegment",value:function pathSegment(ctx,segment,params){var segmentMethod=_getSegmentMethod(this);return segmentMethod(ctx,this,segment,params);}},{key:"path",value:function path(ctx,start,count){var segments=this.segments;var segmentMethod=_getSegmentMethod(this);var loop=this._loop;start=start||0;count=count||this.points.length-start;var _iterator24=_createForOfIteratorHelper(segments),_step24;try{for(_iterator24.s();!(_step24=_iterator24.n()).done;){var segment=_step24.value;loop&=segmentMethod(ctx,this,segment,{start:start,end:start+count-1});}}catch(err){_iterator24.e(err);}finally{_iterator24.f();}return!!loop;}},{key:"draw",value:function draw(ctx,chartArea,start,count){var options=this.options||{};var points=this.points||[];if(points.length&&options.borderWidth){ctx.save();_draw(ctx,this,start,count);ctx.restore();}if(this.animated){this._pointsUpdated=false;this._path=undefined;}}}]);return LineElement;}(Element);LineElement.id='line';LineElement.defaults={borderCapStyle:'butt',borderDash:[],borderDashOffset:0,borderJoinStyle:'miter',borderWidth:3,capBezierPoints:true,cubicInterpolationMode:'default',fill:false,spanGaps:false,stepped:false,tension:0};LineElement.defaultRoutes={backgroundColor:'backgroundColor',borderColor:'borderColor'};LineElement.descriptors={_scriptable:true,_indexable:function _indexable(name){return name!=='borderDash'&&name!=='fill';}};function inRange$1(el,pos,axis,useFinalPosition){var options=el.options;var _el$getProps=el.getProps([axis],useFinalPosition),value=_el$getProps[axis];return Math.abs(pos-value)<options.radius+options.hitRadius;}var PointElement=/*#__PURE__*/function(_Element4){_inherits(PointElement,_Element4);var _super15=_createSuper(PointElement);function PointElement(cfg){var _this25;_classCallCheck(this,PointElement);_this25=_super15.call(this);_this25.options=undefined;_this25.parsed=undefined;_this25.skip=undefined;_this25.stop=undefined;if(cfg){Object.assign(_assertThisInitialized(_this25),cfg);}return _this25;}_createClass(PointElement,[{key:"inRange",value:function inRange(mouseX,mouseY,useFinalPosition){var options=this.options;var _this$getProps4=this.getProps(['x','y'],useFinalPosition),x=_this$getProps4.x,y=_this$getProps4.y;return Math.pow(mouseX-x,2)+Math.pow(mouseY-y,2)<Math.pow(options.hitRadius+options.radius,2);}},{key:"inXRange",value:function inXRange(mouseX,useFinalPosition){return inRange$1(this,mouseX,'x',useFinalPosition);}},{key:"inYRange",value:function inYRange(mouseY,useFinalPosition){return inRange$1(this,mouseY,'y',useFinalPosition);}},{key:"getCenterPoint",value:function getCenterPoint(useFinalPosition){var _this$getProps5=this.getProps(['x','y'],useFinalPosition),x=_this$getProps5.x,y=_this$getProps5.y;return{x:x,y:y};}},{key:"size",value:function size(options){options=options||this.options||{};var radius=options.radius||0;radius=Math.max(radius,radius&&options.hoverRadius||0);var borderWidth=radius&&options.borderWidth||0;return(radius+borderWidth)*2;}},{key:"draw",value:function draw(ctx,area){var options=this.options;if(this.skip||options.radius<0.1||!_isPointInArea(this,area,this.size(options)/2)){return;}ctx.strokeStyle=options.borderColor;ctx.lineWidth=options.borderWidth;ctx.fillStyle=options.backgroundColor;drawPoint(ctx,options,this.x,this.y);}},{key:"getRange",value:function getRange(){var options=this.options||{};return options.radius+options.hitRadius;}}]);return PointElement;}(Element);PointElement.id='point';PointElement.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:'circle',radius:3,rotation:0};PointElement.defaultRoutes={backgroundColor:'backgroundColor',borderColor:'borderColor'};function getBarBounds(bar,useFinalPosition){var _bar$getProps=bar.getProps(['x','y','base','width','height'],useFinalPosition),x=_bar$getProps.x,y=_bar$getProps.y,base=_bar$getProps.base,width=_bar$getProps.width,height=_bar$getProps.height;var left,right,top,bottom,half;if(bar.horizontal){half=height/2;left=Math.min(x,base);right=Math.max(x,base);top=y-half;bottom=y+half;}else{half=width/2;left=x-half;right=x+half;top=Math.min(y,base);bottom=Math.max(y,base);}return{left:left,top:top,right:right,bottom:bottom};}function skipOrLimit(skip,value,min,max){return skip?0:_limitValue(value,min,max);}function parseBorderWidth(bar,maxW,maxH){var value=bar.options.borderWidth;var skip=bar.borderSkipped;var o=toTRBL(value);return{t:skipOrLimit(skip.top,o.top,0,maxH),r:skipOrLimit(skip.right,o.right,0,maxW),b:skipOrLimit(skip.bottom,o.bottom,0,maxH),l:skipOrLimit(skip.left,o.left,0,maxW)};}function parseBorderRadius(bar,maxW,maxH){var _bar$getProps2=bar.getProps(['enableBorderRadius']),enableBorderRadius=_bar$getProps2.enableBorderRadius;var value=bar.options.borderRadius;var o=toTRBLCorners(value);var maxR=Math.min(maxW,maxH);var skip=bar.borderSkipped;var enableBorder=enableBorderRadius||isObject(value);return{topLeft:skipOrLimit(!enableBorder||skip.top||skip.left,o.topLeft,0,maxR),topRight:skipOrLimit(!enableBorder||skip.top||skip.right,o.topRight,0,maxR),bottomLeft:skipOrLimit(!enableBorder||skip.bottom||skip.left,o.bottomLeft,0,maxR),bottomRight:skipOrLimit(!enableBorder||skip.bottom||skip.right,o.bottomRight,0,maxR)};}function boundingRects(bar){var bounds=getBarBounds(bar);var width=bounds.right-bounds.left;var height=bounds.bottom-bounds.top;var border=parseBorderWidth(bar,width/2,height/2);var radius=parseBorderRadius(bar,width/2,height/2);return{outer:{x:bounds.left,y:bounds.top,w:width,h:height,radius:radius},inner:{x:bounds.left+border.l,y:bounds.top+border.t,w:width-border.l-border.r,h:height-border.t-border.b,radius:{topLeft:Math.max(0,radius.topLeft-Math.max(border.t,border.l)),topRight:Math.max(0,radius.topRight-Math.max(border.t,border.r)),bottomLeft:Math.max(0,radius.bottomLeft-Math.max(border.b,border.l)),bottomRight:Math.max(0,radius.bottomRight-Math.max(border.b,border.r))}}};}function _inRange(bar,x,y,useFinalPosition){var skipX=x===null;var skipY=y===null;var skipBoth=skipX&&skipY;var bounds=bar&&!skipBoth&&getBarBounds(bar,useFinalPosition);return bounds&&(skipX||x>=bounds.left&&x<=bounds.right)&&(skipY||y>=bounds.top&&y<=bounds.bottom);}function hasRadius(radius){return radius.topLeft||radius.topRight||radius.bottomLeft||radius.bottomRight;}function addNormalRectPath(ctx,rect){ctx.rect(rect.x,rect.y,rect.w,rect.h);}function inflateRect(rect,amount){var refRect=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var x=rect.x!==refRect.x?-amount:0;var y=rect.y!==refRect.y?-amount:0;var w=(rect.x+rect.w!==refRect.x+refRect.w?amount:0)-x;var h=(rect.y+rect.h!==refRect.y+refRect.h?amount:0)-y;return{x:rect.x+x,y:rect.y+y,w:rect.w+w,h:rect.h+h,radius:rect.radius};}var BarElement=/*#__PURE__*/function(_Element5){_inherits(BarElement,_Element5);var _super16=_createSuper(BarElement);function BarElement(cfg){var _this26;_classCallCheck(this,BarElement);_this26=_super16.call(this);_this26.options=undefined;_this26.horizontal=undefined;_this26.base=undefined;_this26.width=undefined;_this26.height=undefined;_this26.inflateAmount=undefined;if(cfg){Object.assign(_assertThisInitialized(_this26),cfg);}return _this26;}_createClass(BarElement,[{key:"draw",value:function draw(ctx){var inflateAmount=this.inflateAmount,_this$options12=this.options,borderColor=_this$options12.borderColor,backgroundColor=_this$options12.backgroundColor;var _boundingRects=boundingRects(this),inner=_boundingRects.inner,outer=_boundingRects.outer;var addRectPath=hasRadius(outer.radius)?addRoundedRectPath:addNormalRectPath;ctx.save();if(outer.w!==inner.w||outer.h!==inner.h){ctx.beginPath();addRectPath(ctx,inflateRect(outer,inflateAmount,inner));ctx.clip();addRectPath(ctx,inflateRect(inner,-inflateAmount,outer));ctx.fillStyle=borderColor;ctx.fill('evenodd');}ctx.beginPath();addRectPath(ctx,inflateRect(inner,inflateAmount));ctx.fillStyle=backgroundColor;ctx.fill();ctx.restore();}},{key:"inRange",value:function inRange(mouseX,mouseY,useFinalPosition){return _inRange(this,mouseX,mouseY,useFinalPosition);}},{key:"inXRange",value:function inXRange(mouseX,useFinalPosition){return _inRange(this,mouseX,null,useFinalPosition);}},{key:"inYRange",value:function inYRange(mouseY,useFinalPosition){return _inRange(this,null,mouseY,useFinalPosition);}},{key:"getCenterPoint",value:function getCenterPoint(useFinalPosition){var _this$getProps6=this.getProps(['x','y','base','horizontal'],useFinalPosition),x=_this$getProps6.x,y=_this$getProps6.y,base=_this$getProps6.base,horizontal=_this$getProps6.horizontal;return{x:horizontal?(x+base)/2:x,y:horizontal?y:(y+base)/2};}},{key:"getRange",value:function getRange(axis){return axis==='x'?this.width/2:this.height/2;}}]);return BarElement;}(Element);BarElement.id='bar';BarElement.defaults={borderSkipped:'start',borderWidth:0,borderRadius:0,inflateAmount:'auto',pointStyle:undefined};BarElement.defaultRoutes={backgroundColor:'backgroundColor',borderColor:'borderColor'};var elements=/*#__PURE__*/Object.freeze({__proto__:null,ArcElement:ArcElement,LineElement:LineElement,PointElement:PointElement,BarElement:BarElement});function lttbDecimation(data,start,count,availableWidth,options){var samples=options.samples||availableWidth;if(samples>=count){return data.slice(start,start+count);}var decimated=[];var bucketWidth=(count-2)/(samples-2);var sampledIndex=0;var endIndex=start+count-1;var a=start;var i,maxAreaPoint,maxArea,area,nextA;decimated[sampledIndex++]=data[a];for(i=0;i<samples-2;i++){var avgX=0;var avgY=0;var j=void 0;var avgRangeStart=Math.floor((i+1)*bucketWidth)+1+start;var avgRangeEnd=Math.min(Math.floor((i+2)*bucketWidth)+1,count)+start;var avgRangeLength=avgRangeEnd-avgRangeStart;for(j=avgRangeStart;j<avgRangeEnd;j++){avgX+=data[j].x;avgY+=data[j].y;}avgX/=avgRangeLength;avgY/=avgRangeLength;var rangeOffs=Math.floor(i*bucketWidth)+1+start;var rangeTo=Math.min(Math.floor((i+1)*bucketWidth)+1,count)+start;var _data$a=data[a],pointAx=_data$a.x,pointAy=_data$a.y;maxArea=area=-1;for(j=rangeOffs;j<rangeTo;j++){area=0.5*Math.abs((pointAx-avgX)*(data[j].y-pointAy)-(pointAx-data[j].x)*(avgY-pointAy));if(area>maxArea){maxArea=area;maxAreaPoint=data[j];nextA=j;}}decimated[sampledIndex++]=maxAreaPoint;a=nextA;}decimated[sampledIndex++]=data[endIndex];return decimated;}function minMaxDecimation(data,start,count,availableWidth){var avgX=0;var countX=0;var i,point,x,y,prevX,minIndex,maxIndex,startIndex,minY,maxY;var decimated=[];var endIndex=start+count-1;var xMin=data[start].x;var xMax=data[endIndex].x;var dx=xMax-xMin;for(i=start;i<start+count;++i){point=data[i];x=(point.x-xMin)/dx*availableWidth;y=point.y;var truncX=x|0;if(truncX===prevX){if(y<minY){minY=y;minIndex=i;}else if(y>maxY){maxY=y;maxIndex=i;}avgX=(countX*avgX+point.x)/++countX;}else{var lastIndex=i-1;if(!isNullOrUndef(minIndex)&&!isNullOrUndef(maxIndex)){var intermediateIndex1=Math.min(minIndex,maxIndex);var intermediateIndex2=Math.max(minIndex,maxIndex);if(intermediateIndex1!==startIndex&&intermediateIndex1!==lastIndex){decimated.push(_objectSpread(_objectSpread({},data[intermediateIndex1]),{},{x:avgX}));}if(intermediateIndex2!==startIndex&&intermediateIndex2!==lastIndex){decimated.push(_objectSpread(_objectSpread({},data[intermediateIndex2]),{},{x:avgX}));}}if(i>0&&lastIndex!==startIndex){decimated.push(data[lastIndex]);}decimated.push(point);prevX=truncX;countX=0;minY=maxY=y;minIndex=maxIndex=startIndex=i;}}return decimated;}function cleanDecimatedDataset(dataset){if(dataset._decimated){var data=dataset._data;delete dataset._decimated;delete dataset._data;Object.defineProperty(dataset,'data',{value:data});}}function cleanDecimatedData(chart){chart.data.datasets.forEach(function(dataset){cleanDecimatedDataset(dataset);});}function getStartAndCountOfVisiblePointsSimplified(meta,points){var pointCount=points.length;var start=0;var count;var iScale=meta.iScale;var _iScale$getUserBounds2=iScale.getUserBounds(),min=_iScale$getUserBounds2.min,max=_iScale$getUserBounds2.max,minDefined=_iScale$getUserBounds2.minDefined,maxDefined=_iScale$getUserBounds2.maxDefined;if(minDefined){start=_limitValue(_lookupByKey(points,iScale.axis,min).lo,0,pointCount-1);}if(maxDefined){count=_limitValue(_lookupByKey(points,iScale.axis,max).hi+1,start,pointCount)-start;}else{count=pointCount-start;}return{start:start,count:count};}var plugin_decimation={id:'decimation',defaults:{algorithm:'min-max',enabled:false},beforeElementsUpdate:function beforeElementsUpdate(chart,args,options){if(!options.enabled){cleanDecimatedData(chart);return;}var availableWidth=chart.width;chart.data.datasets.forEach(function(dataset,datasetIndex){var _data=dataset._data,indexAxis=dataset.indexAxis;var meta=chart.getDatasetMeta(datasetIndex);var data=_data||dataset.data;if(resolve([indexAxis,chart.options.indexAxis])==='y'){return;}if(meta.type!=='line'){return;}var xAxis=chart.scales[meta.xAxisID];if(xAxis.type!=='linear'&&xAxis.type!=='time'){return;}if(chart.options.parsing){return;}var _getStartAndCountOfVi2=getStartAndCountOfVisiblePointsSimplified(meta,data),start=_getStartAndCountOfVi2.start,count=_getStartAndCountOfVi2.count;var threshold=options.threshold||4*availableWidth;if(count<=threshold){cleanDecimatedDataset(dataset);return;}if(isNullOrUndef(_data)){dataset._data=data;delete dataset.data;Object.defineProperty(dataset,'data',{configurable:true,enumerable:true,get:function get(){return this._decimated;},set:function set(d){this._data=d;}});}var decimated;switch(options.algorithm){case'lttb':decimated=lttbDecimation(data,start,count,availableWidth,options);break;case'min-max':decimated=minMaxDecimation(data,start,count,availableWidth);break;default:throw new Error("Unsupported decimation algorithm '".concat(options.algorithm,"'"));}dataset._decimated=decimated;});},destroy:function destroy(chart){cleanDecimatedData(chart);}};function getLineByIndex(chart,index){var meta=chart.getDatasetMeta(index);var visible=meta&&chart.isDatasetVisible(index);return visible?meta.dataset:null;}function parseFillOption(line){var options=line.options;var fillOption=options.fill;var fill=valueOrDefault(fillOption&&fillOption.target,fillOption);if(fill===undefined){fill=!!options.backgroundColor;}if(fill===false||fill===null){return false;}if(fill===true){return'origin';}return fill;}function decodeFill(line,index,count){var fill=parseFillOption(line);if(isObject(fill)){return isNaN(fill.value)?false:fill;}var target=parseFloat(fill);if(isNumberFinite(target)&&Math.floor(target)===target){if(fill[0]==='-'||fill[0]==='+'){target=index+target;}if(target===index||target<0||target>=count){return false;}return target;}return['origin','start','end','stack','shape'].indexOf(fill)>=0&&fill;}function computeLinearBoundary(source){var _source$scale=source.scale,scale=_source$scale===void 0?{}:_source$scale,fill=source.fill;var target=null;var horizontal;if(fill==='start'){target=scale.bottom;}else if(fill==='end'){target=scale.top;}else if(isObject(fill)){target=scale.getPixelForValue(fill.value);}else if(scale.getBasePixel){target=scale.getBasePixel();}if(isNumberFinite(target)){horizontal=scale.isHorizontal();return{x:horizontal?target:null,y:horizontal?null:target};}return null;}var simpleArc=/*#__PURE__*/function(){function simpleArc(opts){_classCallCheck(this,simpleArc);this.x=opts.x;this.y=opts.y;this.radius=opts.radius;}_createClass(simpleArc,[{key:"pathSegment",value:function pathSegment(ctx,bounds,opts){var x=this.x,y=this.y,radius=this.radius;bounds=bounds||{start:0,end:TAU};ctx.arc(x,y,radius,bounds.end,bounds.start,true);return!opts.bounds;}},{key:"interpolate",value:function interpolate(point){var x=this.x,y=this.y,radius=this.radius;var angle=point.angle;return{x:x+Math.cos(angle)*radius,y:y+Math.sin(angle)*radius,angle:angle};}}]);return simpleArc;}();function computeCircularBoundary(source){var scale=source.scale,fill=source.fill;var options=scale.options;var length=scale.getLabels().length;var target=[];var start=options.reverse?scale.max:scale.min;var end=options.reverse?scale.min:scale.max;var i,center,value;if(fill==='start'){value=start;}else if(fill==='end'){value=end;}else if(isObject(fill)){value=fill.value;}else{value=scale.getBaseValue();}if(options.grid.circular){center=scale.getPointPositionForValue(0,start);return new simpleArc({x:center.x,y:center.y,radius:scale.getDistanceFromCenterForValue(value)});}for(i=0;i<length;++i){target.push(scale.getPointPositionForValue(i,value));}return target;}function computeBoundary(source){var scale=source.scale||{};if(scale.getPointPositionForValue){return computeCircularBoundary(source);}return computeLinearBoundary(source);}function findSegmentEnd(start,end,points){for(;end>start;end--){var point=points[end];if(!isNaN(point.x)&&!isNaN(point.y)){break;}}return end;}function pointsFromSegments(boundary,line){var _ref38=boundary||{},_ref38$x=_ref38.x,x=_ref38$x===void 0?null:_ref38$x,_ref38$y=_ref38.y,y=_ref38$y===void 0?null:_ref38$y;var linePoints=line.points;var points=[];line.segments.forEach(function(_ref39){var start=_ref39.start,end=_ref39.end;end=findSegmentEnd(start,end,linePoints);var first=linePoints[start];var last=linePoints[end];if(y!==null){points.push({x:first.x,y:y});points.push({x:last.x,y:y});}else if(x!==null){points.push({x:x,y:first.y});points.push({x:x,y:last.y});}});return points;}function buildStackLine(source){var scale=source.scale,index=source.index,line=source.line;var points=[];var segments=line.segments;var sourcePoints=line.points;var linesBelow=getLinesBelow(scale,index);linesBelow.push(createBoundaryLine({x:null,y:scale.bottom},line));for(var i=0;i<segments.length;i++){var segment=segments[i];for(var j=segment.start;j<=segment.end;j++){addPointsBelow(points,sourcePoints[j],linesBelow);}}return new LineElement({points:points,options:{}});}function getLinesBelow(scale,index){var below=[];var metas=scale.getMatchingVisibleMetas('line');for(var i=0;i<metas.length;i++){var meta=metas[i];if(meta.index===index){break;}if(!meta.hidden){below.unshift(meta.dataset);}}return below;}function addPointsBelow(points,sourcePoint,linesBelow){var postponed=[];for(var j=0;j<linesBelow.length;j++){var line=linesBelow[j];var _findPoint=findPoint(line,sourcePoint,'x'),first=_findPoint.first,last=_findPoint.last,point=_findPoint.point;if(!point||first&&last){continue;}if(first){postponed.unshift(point);}else{points.push(point);if(!last){break;}}}points.push.apply(points,postponed);}function findPoint(line,sourcePoint,property){var point=line.interpolate(sourcePoint,property);if(!point){return{};}var pointValue=point[property];var segments=line.segments;var linePoints=line.points;var first=false;var last=false;for(var i=0;i<segments.length;i++){var segment=segments[i];var firstValue=linePoints[segment.start][property];var lastValue=linePoints[segment.end][property];if(pointValue>=firstValue&&pointValue<=lastValue){first=pointValue===firstValue;last=pointValue===lastValue;break;}}return{first:first,last:last,point:point};}function getTarget(source){var chart=source.chart,fill=source.fill,line=source.line;if(isNumberFinite(fill)){return getLineByIndex(chart,fill);}if(fill==='stack'){return buildStackLine(source);}if(fill==='shape'){return true;}var boundary=computeBoundary(source);if(boundary instanceof simpleArc){return boundary;}return createBoundaryLine(boundary,line);}function createBoundaryLine(boundary,line){var points=[];var _loop=false;if(isArray(boundary)){_loop=true;points=boundary;}else{points=pointsFromSegments(boundary,line);}return points.length?new LineElement({points:points,options:{tension:0},_loop:_loop,_fullLoop:_loop}):null;}function resolveTarget(sources,index,propagate){var source=sources[index];var fill=source.fill;var visited=[index];var target;if(!propagate){return fill;}while(fill!==false&&visited.indexOf(fill)===-1){if(!isNumberFinite(fill)){return fill;}target=sources[fill];if(!target){return false;}if(target.visible){return fill;}visited.push(fill);fill=target.fill;}return false;}function _clip(ctx,target,clipY){ctx.beginPath();target.path(ctx);ctx.lineTo(target.last().x,clipY);ctx.lineTo(target.first().x,clipY);ctx.closePath();ctx.clip();}function getBounds(property,first,last,loop){if(loop){return;}var start=first[property];var end=last[property];if(property==='angle'){start=_normalizeAngle(start);end=_normalizeAngle(end);}return{property:property,start:start,end:end};}function _getEdge(a,b,prop,fn){if(a&&b){return fn(a[prop],b[prop]);}return a?a[prop]:b?b[prop]:0;}function _segments(line,target,property){var segments=line.segments;var points=line.points;var tpoints=target.points;var parts=[];var _iterator25=_createForOfIteratorHelper(segments),_step25;try{for(_iterator25.s();!(_step25=_iterator25.n()).done;){var segment=_step25.value;var start=segment.start,end=segment.end;end=findSegmentEnd(start,end,points);var bounds=getBounds(property,points[start],points[end],segment.loop);if(!target.segments){parts.push({source:segment,target:bounds,start:points[start],end:points[end]});continue;}var targetSegments=_boundSegments(target,bounds);var _iterator26=_createForOfIteratorHelper(targetSegments),_step26;try{for(_iterator26.s();!(_step26=_iterator26.n()).done;){var tgt=_step26.value;var subBounds=getBounds(property,tpoints[tgt.start],tpoints[tgt.end],tgt.loop);var fillSources=_boundSegment(segment,points,subBounds);var _iterator27=_createForOfIteratorHelper(fillSources),_step27;try{for(_iterator27.s();!(_step27=_iterator27.n()).done;){var fillSource=_step27.value;parts.push({source:fillSource,target:tgt,start:_defineProperty({},property,_getEdge(bounds,subBounds,'start',Math.max)),end:_defineProperty({},property,_getEdge(bounds,subBounds,'end',Math.min))});}}catch(err){_iterator27.e(err);}finally{_iterator27.f();}}}catch(err){_iterator26.e(err);}finally{_iterator26.f();}}}catch(err){_iterator25.e(err);}finally{_iterator25.f();}return parts;}function clipBounds(ctx,scale,bounds){var _scale$chart$chartAre=scale.chart.chartArea,top=_scale$chart$chartAre.top,bottom=_scale$chart$chartAre.bottom;var _ref40=bounds||{},property=_ref40.property,start=_ref40.start,end=_ref40.end;if(property==='x'){ctx.beginPath();ctx.rect(start,top,end-start,bottom-top);ctx.clip();}}function interpolatedLineTo(ctx,target,point,property){var interpolatedPoint=target.interpolate(point,property);if(interpolatedPoint){ctx.lineTo(interpolatedPoint.x,interpolatedPoint.y);}}function _fill(ctx,cfg){var line=cfg.line,target=cfg.target,property=cfg.property,color=cfg.color,scale=cfg.scale;var segments=_segments(line,target,property);var _iterator28=_createForOfIteratorHelper(segments),_step28;try{for(_iterator28.s();!(_step28=_iterator28.n()).done;){var _step28$value=_step28.value,src=_step28$value.source,tgt=_step28$value.target,start=_step28$value.start,end=_step28$value.end;var _src$style=src.style;_src$style=_src$style===void 0?{}:_src$style;var _src$style$background=_src$style.backgroundColor,backgroundColor=_src$style$background===void 0?color:_src$style$background;var notShape=target!==true;ctx.save();ctx.fillStyle=backgroundColor;clipBounds(ctx,scale,notShape&&getBounds(property,start,end));ctx.beginPath();var lineLoop=!!line.pathSegment(ctx,src);var loop=void 0;if(notShape){if(lineLoop){ctx.closePath();}else{interpolatedLineTo(ctx,target,end,property);}var targetLoop=!!target.pathSegment(ctx,tgt,{move:lineLoop,reverse:true});loop=lineLoop&&targetLoop;if(!loop){interpolatedLineTo(ctx,target,start,property);}}ctx.closePath();ctx.fill(loop?'evenodd':'nonzero');ctx.restore();}}catch(err){_iterator28.e(err);}finally{_iterator28.f();}}function doFill(ctx,cfg){var line=cfg.line,target=cfg.target,above=cfg.above,below=cfg.below,area=cfg.area,scale=cfg.scale;var property=line._loop?'angle':cfg.axis;ctx.save();if(property==='x'&&below!==above){_clip(ctx,target,area.top);_fill(ctx,{line:line,target:target,color:above,scale:scale,property:property});ctx.restore();ctx.save();_clip(ctx,target,area.bottom);}_fill(ctx,{line:line,target:target,color:below,scale:scale,property:property});ctx.restore();}function drawfill(ctx,source,area){var target=getTarget(source);var line=source.line,scale=source.scale,axis=source.axis;var lineOpts=line.options;var fillOption=lineOpts.fill;var color=lineOpts.backgroundColor;var _ref41=fillOption||{},_ref41$above=_ref41.above,above=_ref41$above===void 0?color:_ref41$above,_ref41$below=_ref41.below,below=_ref41$below===void 0?color:_ref41$below;if(target&&line.points.length){clipArea(ctx,area);doFill(ctx,{line:line,target:target,above:above,below:below,area:area,scale:scale,axis:axis});unclipArea(ctx);}}var plugin_filler={id:'filler',afterDatasetsUpdate:function afterDatasetsUpdate(chart,_args,options){var count=(chart.data.datasets||[]).length;var sources=[];var meta,i,line,source;for(i=0;i<count;++i){meta=chart.getDatasetMeta(i);line=meta.dataset;source=null;if(line&&line.options&&line instanceof LineElement){source={visible:chart.isDatasetVisible(i),index:i,fill:decodeFill(line,i,count),chart:chart,axis:meta.controller.options.indexAxis,scale:meta.vScale,line:line};}meta.$filler=source;sources.push(source);}for(i=0;i<count;++i){source=sources[i];if(!source||source.fill===false){continue;}source.fill=resolveTarget(sources,i,options.propagate);}},beforeDraw:function beforeDraw(chart,_args,options){var draw=options.drawTime==='beforeDraw';var metasets=chart.getSortedVisibleDatasetMetas();var area=chart.chartArea;for(var i=metasets.length-1;i>=0;--i){var source=metasets[i].$filler;if(!source){continue;}source.line.updateControlPoints(area,source.axis);if(draw){drawfill(chart.ctx,source,area);}}},beforeDatasetsDraw:function beforeDatasetsDraw(chart,_args,options){if(options.drawTime!=='beforeDatasetsDraw'){return;}var metasets=chart.getSortedVisibleDatasetMetas();for(var i=metasets.length-1;i>=0;--i){var source=metasets[i].$filler;if(source){drawfill(chart.ctx,source,chart.chartArea);}}},beforeDatasetDraw:function beforeDatasetDraw(chart,args,options){var source=args.meta.$filler;if(!source||source.fill===false||options.drawTime!=='beforeDatasetDraw'){return;}drawfill(chart.ctx,source,chart.chartArea);},defaults:{propagate:true,drawTime:'beforeDatasetDraw'}};var getBoxSize=function getBoxSize(labelOpts,fontSize){var _labelOpts$boxHeight=labelOpts.boxHeight,boxHeight=_labelOpts$boxHeight===void 0?fontSize:_labelOpts$boxHeight,_labelOpts$boxWidth=labelOpts.boxWidth,boxWidth=_labelOpts$boxWidth===void 0?fontSize:_labelOpts$boxWidth;if(labelOpts.usePointStyle){boxHeight=Math.min(boxHeight,fontSize);boxWidth=Math.min(boxWidth,fontSize);}return{boxWidth:boxWidth,boxHeight:boxHeight,itemHeight:Math.max(fontSize,boxHeight)};};var itemsEqual=function itemsEqual(a,b){return a!==null&&b!==null&&a.datasetIndex===b.datasetIndex&&a.index===b.index;};var Legend=/*#__PURE__*/function(_Element6){_inherits(Legend,_Element6);var _super17=_createSuper(Legend);function Legend(config){var _this27;_classCallCheck(this,Legend);_this27=_super17.call(this);_this27._added=false;_this27.legendHitBoxes=[];_this27._hoveredItem=null;_this27.doughnutMode=false;_this27.chart=config.chart;_this27.options=config.options;_this27.ctx=config.ctx;_this27.legendItems=undefined;_this27.columnSizes=undefined;_this27.lineWidths=undefined;_this27.maxHeight=undefined;_this27.maxWidth=undefined;_this27.top=undefined;_this27.bottom=undefined;_this27.left=undefined;_this27.right=undefined;_this27.height=undefined;_this27.width=undefined;_this27._margins=undefined;_this27.position=undefined;_this27.weight=undefined;_this27.fullSize=undefined;return _this27;}_createClass(Legend,[{key:"update",value:function update(maxWidth,maxHeight,margins){this.maxWidth=maxWidth;this.maxHeight=maxHeight;this._margins=margins;this.setDimensions();this.buildLabels();this.fit();}},{key:"setDimensions",value:function setDimensions(){if(this.isHorizontal()){this.width=this.maxWidth;this.left=this._margins.left;this.right=this.width;}else{this.height=this.maxHeight;this.top=this._margins.top;this.bottom=this.height;}}},{key:"buildLabels",value:function buildLabels(){var _this28=this;var labelOpts=this.options.labels||{};var legendItems=callback(labelOpts.generateLabels,[this.chart],this)||[];if(labelOpts.filter){legendItems=legendItems.filter(function(item){return labelOpts.filter(item,_this28.chart.data);});}if(labelOpts.sort){legendItems=legendItems.sort(function(a,b){return labelOpts.sort(a,b,_this28.chart.data);});}if(this.options.reverse){legendItems.reverse();}this.legendItems=legendItems;}},{key:"fit",value:function fit(){var options=this.options,ctx=this.ctx;if(!options.display){this.width=this.height=0;return;}var labelOpts=options.labels;var labelFont=toFont(labelOpts.font);var fontSize=labelFont.size;var titleHeight=this._computeTitleHeight();var _getBoxSize=getBoxSize(labelOpts,fontSize),boxWidth=_getBoxSize.boxWidth,itemHeight=_getBoxSize.itemHeight;var width,height;ctx.font=labelFont.string;if(this.isHorizontal()){width=this.maxWidth;height=this._fitRows(titleHeight,fontSize,boxWidth,itemHeight)+10;}else{height=this.maxHeight;width=this._fitCols(titleHeight,fontSize,boxWidth,itemHeight)+10;}this.width=Math.min(width,options.maxWidth||this.maxWidth);this.height=Math.min(height,options.maxHeight||this.maxHeight);}},{key:"_fitRows",value:function _fitRows(titleHeight,fontSize,boxWidth,itemHeight){var ctx=this.ctx,maxWidth=this.maxWidth,padding=this.options.labels.padding;var hitboxes=this.legendHitBoxes=[];var lineWidths=this.lineWidths=[0];var lineHeight=itemHeight+padding;var totalHeight=titleHeight;ctx.textAlign='left';ctx.textBaseline='middle';var row=-1;var top=-lineHeight;this.legendItems.forEach(function(legendItem,i){var itemWidth=boxWidth+fontSize/2+ctx.measureText(legendItem.text).width;if(i===0||lineWidths[lineWidths.length-1]+itemWidth+2*padding>maxWidth){totalHeight+=lineHeight;lineWidths[lineWidths.length-(i>0?0:1)]=0;top+=lineHeight;row++;}hitboxes[i]={left:0,top:top,row:row,width:itemWidth,height:itemHeight};lineWidths[lineWidths.length-1]+=itemWidth+padding;});return totalHeight;}},{key:"_fitCols",value:function _fitCols(titleHeight,fontSize,boxWidth,itemHeight){var ctx=this.ctx,maxHeight=this.maxHeight,padding=this.options.labels.padding;var hitboxes=this.legendHitBoxes=[];var columnSizes=this.columnSizes=[];var heightLimit=maxHeight-titleHeight;var totalWidth=padding;var currentColWidth=0;var currentColHeight=0;var left=0;var col=0;this.legendItems.forEach(function(legendItem,i){var itemWidth=boxWidth+fontSize/2+ctx.measureText(legendItem.text).width;if(i>0&&currentColHeight+itemHeight+2*padding>heightLimit){totalWidth+=currentColWidth+padding;columnSizes.push({width:currentColWidth,height:currentColHeight});left+=currentColWidth+padding;col++;currentColWidth=currentColHeight=0;}hitboxes[i]={left:left,top:currentColHeight,col:col,width:itemWidth,height:itemHeight};currentColWidth=Math.max(currentColWidth,itemWidth);currentColHeight+=itemHeight+padding;});totalWidth+=currentColWidth;columnSizes.push({width:currentColWidth,height:currentColHeight});return totalWidth;}},{key:"adjustHitBoxes",value:function adjustHitBoxes(){if(!this.options.display){return;}var titleHeight=this._computeTitleHeight();var hitboxes=this.legendHitBoxes,_this$options13=this.options,align=_this$options13.align,padding=_this$options13.labels.padding,rtl=_this$options13.rtl;var rtlHelper=getRtlAdapter(rtl,this.left,this.width);if(this.isHorizontal()){var row=0;var left=_alignStartEnd(align,this.left+padding,this.right-this.lineWidths[row]);var _iterator29=_createForOfIteratorHelper(hitboxes),_step29;try{for(_iterator29.s();!(_step29=_iterator29.n()).done;){var hitbox=_step29.value;if(row!==hitbox.row){row=hitbox.row;left=_alignStartEnd(align,this.left+padding,this.right-this.lineWidths[row]);}hitbox.top+=this.top+titleHeight+padding;hitbox.left=rtlHelper.leftForLtr(rtlHelper.x(left),hitbox.width);left+=hitbox.width+padding;}}catch(err){_iterator29.e(err);}finally{_iterator29.f();}}else{var col=0;var top=_alignStartEnd(align,this.top+titleHeight+padding,this.bottom-this.columnSizes[col].height);var _iterator30=_createForOfIteratorHelper(hitboxes),_step30;try{for(_iterator30.s();!(_step30=_iterator30.n()).done;){var _hitbox=_step30.value;if(_hitbox.col!==col){col=_hitbox.col;top=_alignStartEnd(align,this.top+titleHeight+padding,this.bottom-this.columnSizes[col].height);}_hitbox.top=top;_hitbox.left+=this.left+padding;_hitbox.left=rtlHelper.leftForLtr(rtlHelper.x(_hitbox.left),_hitbox.width);top+=_hitbox.height+padding;}}catch(err){_iterator30.e(err);}finally{_iterator30.f();}}}},{key:"isHorizontal",value:function isHorizontal(){return this.options.position==='top'||this.options.position==='bottom';}},{key:"draw",value:function draw(){if(this.options.display){var ctx=this.ctx;clipArea(ctx,this);this._draw();unclipArea(ctx);}}},{key:"_draw",value:function _draw(){var _this29=this;var opts=this.options,columnSizes=this.columnSizes,lineWidths=this.lineWidths,ctx=this.ctx;var align=opts.align,labelOpts=opts.labels;var defaultColor=defaults.color;var rtlHelper=getRtlAdapter(opts.rtl,this.left,this.width);var labelFont=toFont(labelOpts.font);var fontColor=labelOpts.color,padding=labelOpts.padding;var fontSize=labelFont.size;var halfFontSize=fontSize/2;var cursor;this.drawTitle();ctx.textAlign=rtlHelper.textAlign('left');ctx.textBaseline='middle';ctx.lineWidth=0.5;ctx.font=labelFont.string;var _getBoxSize2=getBoxSize(labelOpts,fontSize),boxWidth=_getBoxSize2.boxWidth,boxHeight=_getBoxSize2.boxHeight,itemHeight=_getBoxSize2.itemHeight;var drawLegendBox=function drawLegendBox(x,y,legendItem){if(isNaN(boxWidth)||boxWidth<=0||isNaN(boxHeight)||boxHeight<0){return;}ctx.save();var lineWidth=valueOrDefault(legendItem.lineWidth,1);ctx.fillStyle=valueOrDefault(legendItem.fillStyle,defaultColor);ctx.lineCap=valueOrDefault(legendItem.lineCap,'butt');ctx.lineDashOffset=valueOrDefault(legendItem.lineDashOffset,0);ctx.lineJoin=valueOrDefault(legendItem.lineJoin,'miter');ctx.lineWidth=lineWidth;ctx.strokeStyle=valueOrDefault(legendItem.strokeStyle,defaultColor);ctx.setLineDash(valueOrDefault(legendItem.lineDash,[]));if(labelOpts.usePointStyle){var drawOptions={radius:boxWidth*Math.SQRT2/2,pointStyle:legendItem.pointStyle,rotation:legendItem.rotation,borderWidth:lineWidth};var centerX=rtlHelper.xPlus(x,boxWidth/2);var centerY=y+halfFontSize;drawPoint(ctx,drawOptions,centerX,centerY);}else{var yBoxTop=y+Math.max((fontSize-boxHeight)/2,0);var xBoxLeft=rtlHelper.leftForLtr(x,boxWidth);var borderRadius=toTRBLCorners(legendItem.borderRadius);ctx.beginPath();if(Object.values(borderRadius).some(function(v){return v!==0;})){addRoundedRectPath(ctx,{x:xBoxLeft,y:yBoxTop,w:boxWidth,h:boxHeight,radius:borderRadius});}else{ctx.rect(xBoxLeft,yBoxTop,boxWidth,boxHeight);}ctx.fill();if(lineWidth!==0){ctx.stroke();}}ctx.restore();};var fillText=function fillText(x,y,legendItem){renderText(ctx,legendItem.text,x,y+itemHeight/2,labelFont,{strikethrough:legendItem.hidden,textAlign:rtlHelper.textAlign(legendItem.textAlign)});};var isHorizontal=this.isHorizontal();var titleHeight=this._computeTitleHeight();if(isHorizontal){cursor={x:_alignStartEnd(align,this.left+padding,this.right-lineWidths[0]),y:this.top+padding+titleHeight,line:0};}else{cursor={x:this.left+padding,y:_alignStartEnd(align,this.top+titleHeight+padding,this.bottom-columnSizes[0].height),line:0};}overrideTextDirection(this.ctx,opts.textDirection);var lineHeight=itemHeight+padding;this.legendItems.forEach(function(legendItem,i){ctx.strokeStyle=legendItem.fontColor||fontColor;ctx.fillStyle=legendItem.fontColor||fontColor;var textWidth=ctx.measureText(legendItem.text).width;var textAlign=rtlHelper.textAlign(legendItem.textAlign||(legendItem.textAlign=labelOpts.textAlign));var width=boxWidth+halfFontSize+textWidth;var x=cursor.x;var y=cursor.y;rtlHelper.setWidth(_this29.width);if(isHorizontal){if(i>0&&x+width+padding>_this29.right){y=cursor.y+=lineHeight;cursor.line++;x=cursor.x=_alignStartEnd(align,_this29.left+padding,_this29.right-lineWidths[cursor.line]);}}else if(i>0&&y+lineHeight>_this29.bottom){x=cursor.x=x+columnSizes[cursor.line].width+padding;cursor.line++;y=cursor.y=_alignStartEnd(align,_this29.top+titleHeight+padding,_this29.bottom-columnSizes[cursor.line].height);}var realX=rtlHelper.x(x);drawLegendBox(realX,y,legendItem);x=_textX(textAlign,x+boxWidth+halfFontSize,isHorizontal?x+width:_this29.right,opts.rtl);fillText(rtlHelper.x(x),y,legendItem);if(isHorizontal){cursor.x+=width+padding;}else{cursor.y+=lineHeight;}});restoreTextDirection(this.ctx,opts.textDirection);}},{key:"drawTitle",value:function drawTitle(){var opts=this.options;var titleOpts=opts.title;var titleFont=toFont(titleOpts.font);var titlePadding=toPadding(titleOpts.padding);if(!titleOpts.display){return;}var rtlHelper=getRtlAdapter(opts.rtl,this.left,this.width);var ctx=this.ctx;var position=titleOpts.position;var halfFontSize=titleFont.size/2;var topPaddingPlusHalfFontSize=titlePadding.top+halfFontSize;var y;var left=this.left;var maxWidth=this.width;if(this.isHorizontal()){maxWidth=Math.max.apply(Math,_toConsumableArray(this.lineWidths));y=this.top+topPaddingPlusHalfFontSize;left=_alignStartEnd(opts.align,left,this.right-maxWidth);}else{var maxHeight=this.columnSizes.reduce(function(acc,size){return Math.max(acc,size.height);},0);y=topPaddingPlusHalfFontSize+_alignStartEnd(opts.align,this.top,this.bottom-maxHeight-opts.labels.padding-this._computeTitleHeight());}var x=_alignStartEnd(position,left,left+maxWidth);ctx.textAlign=rtlHelper.textAlign(_toLeftRightCenter(position));ctx.textBaseline='middle';ctx.strokeStyle=titleOpts.color;ctx.fillStyle=titleOpts.color;ctx.font=titleFont.string;renderText(ctx,titleOpts.text,x,y,titleFont);}},{key:"_computeTitleHeight",value:function _computeTitleHeight(){var titleOpts=this.options.title;var titleFont=toFont(titleOpts.font);var titlePadding=toPadding(titleOpts.padding);return titleOpts.display?titleFont.lineHeight+titlePadding.height:0;}},{key:"_getLegendItemAt",value:function _getLegendItemAt(x,y){var i,hitBox,lh;if(x>=this.left&&x<=this.right&&y>=this.top&&y<=this.bottom){lh=this.legendHitBoxes;for(i=0;i<lh.length;++i){hitBox=lh[i];if(x>=hitBox.left&&x<=hitBox.left+hitBox.width&&y>=hitBox.top&&y<=hitBox.top+hitBox.height){return this.legendItems[i];}}}return null;}},{key:"handleEvent",value:function handleEvent(e){var opts=this.options;if(!isListened(e.type,opts)){return;}var hoveredItem=this._getLegendItemAt(e.x,e.y);if(e.type==='mousemove'){var previous=this._hoveredItem;var sameItem=itemsEqual(previous,hoveredItem);if(previous&&!sameItem){callback(opts.onLeave,[e,previous,this],this);}this._hoveredItem=hoveredItem;if(hoveredItem&&!sameItem){callback(opts.onHover,[e,hoveredItem,this],this);}}else if(hoveredItem){callback(opts.onClick,[e,hoveredItem,this],this);}}}]);return Legend;}(Element);function isListened(type,opts){if(type==='mousemove'&&(opts.onHover||opts.onLeave)){return true;}if(opts.onClick&&(type==='click'||type==='mouseup')){return true;}return false;}var plugin_legend={id:'legend',_element:Legend,start:function start(chart,_args,options){var legend=chart.legend=new Legend({ctx:chart.ctx,options:options,chart:chart});layouts.configure(chart,legend,options);layouts.addBox(chart,legend);},stop:function stop(chart){layouts.removeBox(chart,chart.legend);delete chart.legend;},beforeUpdate:function beforeUpdate(chart,_args,options){var legend=chart.legend;layouts.configure(chart,legend,options);legend.options=options;},afterUpdate:function afterUpdate(chart){var legend=chart.legend;legend.buildLabels();legend.adjustHitBoxes();},afterEvent:function afterEvent(chart,args){if(!args.replay){chart.legend.handleEvent(args.event);}},defaults:{display:true,position:'top',align:'center',fullSize:true,reverse:false,weight:1000,onClick:function onClick(e,legendItem,legend){var index=legendItem.datasetIndex;var ci=legend.chart;if(ci.isDatasetVisible(index)){ci.hide(index);legendItem.hidden=true;}else{ci.show(index);legendItem.hidden=false;}},onHover:null,onLeave:null,labels:{color:function color(ctx){return ctx.chart.options.color;},boxWidth:40,padding:10,generateLabels:function generateLabels(chart){var datasets=chart.data.datasets;var _chart$legend$options=chart.legend.options.labels,usePointStyle=_chart$legend$options.usePointStyle,pointStyle=_chart$legend$options.pointStyle,textAlign=_chart$legend$options.textAlign,color=_chart$legend$options.color;return chart._getSortedDatasetMetas().map(function(meta){var style=meta.controller.getStyle(usePointStyle?0:undefined);var borderWidth=toPadding(style.borderWidth);return{text:datasets[meta.index].label,fillStyle:style.backgroundColor,fontColor:color,hidden:!meta.visible,lineCap:style.borderCapStyle,lineDash:style.borderDash,lineDashOffset:style.borderDashOffset,lineJoin:style.borderJoinStyle,lineWidth:(borderWidth.width+borderWidth.height)/4,strokeStyle:style.borderColor,pointStyle:pointStyle||style.pointStyle,rotation:style.rotation,textAlign:textAlign||style.textAlign,borderRadius:0,datasetIndex:meta.index};},this);}},title:{color:function color(ctx){return ctx.chart.options.color;},display:false,position:'center',text:''}},descriptors:{_scriptable:function _scriptable(name){return!name.startsWith('on');},labels:{_scriptable:function _scriptable(name){return!['generateLabels','filter','sort'].includes(name);}}}};var Title=/*#__PURE__*/function(_Element7){_inherits(Title,_Element7);var _super18=_createSuper(Title);function Title(config){var _this30;_classCallCheck(this,Title);_this30=_super18.call(this);_this30.chart=config.chart;_this30.options=config.options;_this30.ctx=config.ctx;_this30._padding=undefined;_this30.top=undefined;_this30.bottom=undefined;_this30.left=undefined;_this30.right=undefined;_this30.width=undefined;_this30.height=undefined;_this30.position=undefined;_this30.weight=undefined;_this30.fullSize=undefined;return _this30;}_createClass(Title,[{key:"update",value:function update(maxWidth,maxHeight){var opts=this.options;this.left=0;this.top=0;if(!opts.display){this.width=this.height=this.right=this.bottom=0;return;}this.width=this.right=maxWidth;this.height=this.bottom=maxHeight;var lineCount=isArray(opts.text)?opts.text.length:1;this._padding=toPadding(opts.padding);var textSize=lineCount*toFont(opts.font).lineHeight+this._padding.height;if(this.isHorizontal()){this.height=textSize;}else{this.width=textSize;}}},{key:"isHorizontal",value:function isHorizontal(){var pos=this.options.position;return pos==='top'||pos==='bottom';}},{key:"_drawArgs",value:function _drawArgs(offset){var top=this.top,left=this.left,bottom=this.bottom,right=this.right,options=this.options;var align=options.align;var rotation=0;var maxWidth,titleX,titleY;if(this.isHorizontal()){titleX=_alignStartEnd(align,left,right);titleY=top+offset;maxWidth=right-left;}else{if(options.position==='left'){titleX=left+offset;titleY=_alignStartEnd(align,bottom,top);rotation=PI*-0.5;}else{titleX=right-offset;titleY=_alignStartEnd(align,top,bottom);rotation=PI*0.5;}maxWidth=bottom-top;}return{titleX:titleX,titleY:titleY,maxWidth:maxWidth,rotation:rotation};}},{key:"draw",value:function draw(){var ctx=this.ctx;var opts=this.options;if(!opts.display){return;}var fontOpts=toFont(opts.font);var lineHeight=fontOpts.lineHeight;var offset=lineHeight/2+this._padding.top;var _this$_drawArgs=this._drawArgs(offset),titleX=_this$_drawArgs.titleX,titleY=_this$_drawArgs.titleY,maxWidth=_this$_drawArgs.maxWidth,rotation=_this$_drawArgs.rotation;renderText(ctx,opts.text,0,0,fontOpts,{color:opts.color,maxWidth:maxWidth,rotation:rotation,textAlign:_toLeftRightCenter(opts.align),textBaseline:'middle',translation:[titleX,titleY]});}}]);return Title;}(Element);function createTitle(chart,titleOpts){var title=new Title({ctx:chart.ctx,options:titleOpts,chart:chart});layouts.configure(chart,title,titleOpts);layouts.addBox(chart,title);chart.titleBlock=title;}var plugin_title={id:'title',_element:Title,start:function start(chart,_args,options){createTitle(chart,options);},stop:function stop(chart){var titleBlock=chart.titleBlock;layouts.removeBox(chart,titleBlock);delete chart.titleBlock;},beforeUpdate:function beforeUpdate(chart,_args,options){var title=chart.titleBlock;layouts.configure(chart,title,options);title.options=options;},defaults:{align:'center',display:false,font:{weight:'bold'},fullSize:true,padding:10,position:'top',text:'',weight:2000},defaultRoutes:{color:'color'},descriptors:{_scriptable:true,_indexable:false}};var map=new WeakMap();var plugin_subtitle={id:'subtitle',start:function start(chart,_args,options){var title=new Title({ctx:chart.ctx,options:options,chart:chart});layouts.configure(chart,title,options);layouts.addBox(chart,title);map.set(chart,title);},stop:function stop(chart){layouts.removeBox(chart,map.get(chart));map["delete"](chart);},beforeUpdate:function beforeUpdate(chart,_args,options){var title=map.get(chart);layouts.configure(chart,title,options);title.options=options;},defaults:{align:'center',display:false,font:{weight:'normal'},fullSize:true,padding:0,position:'top',text:'',weight:1500},defaultRoutes:{color:'color'},descriptors:{_scriptable:true,_indexable:false}};var positioners={average:function average(items){if(!items.length){return false;}var i,len;var x=0;var y=0;var count=0;for(i=0,len=items.length;i<len;++i){var el=items[i].element;if(el&&el.hasValue()){var pos=el.tooltipPosition();x+=pos.x;y+=pos.y;++count;}}return{x:x/count,y:y/count};},nearest:function nearest(items,eventPosition){if(!items.length){return false;}var x=eventPosition.x;var y=eventPosition.y;var minDistance=Number.POSITIVE_INFINITY;var i,len,nearestElement;for(i=0,len=items.length;i<len;++i){var el=items[i].element;if(el&&el.hasValue()){var center=el.getCenterPoint();var d=distanceBetweenPoints(eventPosition,center);if(d<minDistance){minDistance=d;nearestElement=el;}}}if(nearestElement){var tp=nearestElement.tooltipPosition();x=tp.x;y=tp.y;}return{x:x,y:y};}};function pushOrConcat(base,toPush){if(toPush){if(isArray(toPush)){Array.prototype.push.apply(base,toPush);}else{base.push(toPush);}}return base;}function splitNewlines(str){if((typeof str==='string'||str instanceof String)&&str.indexOf('\n')>-1){return str.split('\n');}return str;}function createTooltipItem(chart,item){var element=item.element,datasetIndex=item.datasetIndex,index=item.index;var controller=chart.getDatasetMeta(datasetIndex).controller;var _controller$getLabelA=controller.getLabelAndValue(index),label=_controller$getLabelA.label,value=_controller$getLabelA.value;return{chart:chart,label:label,parsed:controller.getParsed(index),raw:chart.data.datasets[datasetIndex].data[index],formattedValue:value,dataset:controller.getDataset(),dataIndex:index,datasetIndex:datasetIndex,element:element};}function getTooltipSize(tooltip,options){var ctx=tooltip._chart.ctx;var body=tooltip.body,footer=tooltip.footer,title=tooltip.title;var boxWidth=options.boxWidth,boxHeight=options.boxHeight;var bodyFont=toFont(options.bodyFont);var titleFont=toFont(options.titleFont);var footerFont=toFont(options.footerFont);var titleLineCount=title.length;var footerLineCount=footer.length;var bodyLineItemCount=body.length;var padding=toPadding(options.padding);var height=padding.height;var width=0;var combinedBodyLength=body.reduce(function(count,bodyItem){return count+bodyItem.before.length+bodyItem.lines.length+bodyItem.after.length;},0);combinedBodyLength+=tooltip.beforeBody.length+tooltip.afterBody.length;if(titleLineCount){height+=titleLineCount*titleFont.lineHeight+(titleLineCount-1)*options.titleSpacing+options.titleMarginBottom;}if(combinedBodyLength){var bodyLineHeight=options.displayColors?Math.max(boxHeight,bodyFont.lineHeight):bodyFont.lineHeight;height+=bodyLineItemCount*bodyLineHeight+(combinedBodyLength-bodyLineItemCount)*bodyFont.lineHeight+(combinedBodyLength-1)*options.bodySpacing;}if(footerLineCount){height+=options.footerMarginTop+footerLineCount*footerFont.lineHeight+(footerLineCount-1)*options.footerSpacing;}var widthPadding=0;var maxLineWidth=function maxLineWidth(line){width=Math.max(width,ctx.measureText(line).width+widthPadding);};ctx.save();ctx.font=titleFont.string;each(tooltip.title,maxLineWidth);ctx.font=bodyFont.string;each(tooltip.beforeBody.concat(tooltip.afterBody),maxLineWidth);widthPadding=options.displayColors?boxWidth+2+options.boxPadding:0;each(body,function(bodyItem){each(bodyItem.before,maxLineWidth);each(bodyItem.lines,maxLineWidth);each(bodyItem.after,maxLineWidth);});widthPadding=0;ctx.font=footerFont.string;each(tooltip.footer,maxLineWidth);ctx.restore();width+=padding.width;return{width:width,height:height};}function determineYAlign(chart,size){var y=size.y,height=size.height;if(y<height/2){return'top';}else if(y>chart.height-height/2){return'bottom';}return'center';}function doesNotFitWithAlign(xAlign,chart,options,size){var x=size.x,width=size.width;var caret=options.caretSize+options.caretPadding;if(xAlign==='left'&&x+width+caret>chart.width){return true;}if(xAlign==='right'&&x-width-caret<0){return true;}}function determineXAlign(chart,options,size,yAlign){var x=size.x,width=size.width;var chartWidth=chart.width,_chart$chartArea=chart.chartArea,left=_chart$chartArea.left,right=_chart$chartArea.right;var xAlign='center';if(yAlign==='center'){xAlign=x<=(left+right)/2?'left':'right';}else if(x<=width/2){xAlign='left';}else if(x>=chartWidth-width/2){xAlign='right';}if(doesNotFitWithAlign(xAlign,chart,options,size)){xAlign='center';}return xAlign;}function determineAlignment(chart,options,size){var yAlign=options.yAlign||determineYAlign(chart,size);return{xAlign:options.xAlign||determineXAlign(chart,options,size,yAlign),yAlign:yAlign};}function alignX(size,xAlign){var x=size.x,width=size.width;if(xAlign==='right'){x-=width;}else if(xAlign==='center'){x-=width/2;}return x;}function alignY(size,yAlign,paddingAndSize){var y=size.y,height=size.height;if(yAlign==='top'){y+=paddingAndSize;}else if(yAlign==='bottom'){y-=height+paddingAndSize;}else{y-=height/2;}return y;}function getBackgroundPoint(options,size,alignment,chart){var caretSize=options.caretSize,caretPadding=options.caretPadding,cornerRadius=options.cornerRadius;var xAlign=alignment.xAlign,yAlign=alignment.yAlign;var paddingAndSize=caretSize+caretPadding;var _toTRBLCorners=toTRBLCorners(cornerRadius),topLeft=_toTRBLCorners.topLeft,topRight=_toTRBLCorners.topRight,bottomLeft=_toTRBLCorners.bottomLeft,bottomRight=_toTRBLCorners.bottomRight;var x=alignX(size,xAlign);var y=alignY(size,yAlign,paddingAndSize);if(yAlign==='center'){if(xAlign==='left'){x+=paddingAndSize;}else if(xAlign==='right'){x-=paddingAndSize;}}else if(xAlign==='left'){x-=Math.max(topLeft,bottomLeft)+caretPadding;}else if(xAlign==='right'){x+=Math.max(topRight,bottomRight)+caretPadding;}return{x:_limitValue(x,0,chart.width-size.width),y:_limitValue(y,0,chart.height-size.height)};}function getAlignedX(tooltip,align,options){var padding=toPadding(options.padding);return align==='center'?tooltip.x+tooltip.width/2:align==='right'?tooltip.x+tooltip.width-padding.right:tooltip.x+padding.left;}function getBeforeAfterBodyLines(callback){return pushOrConcat([],splitNewlines(callback));}function createTooltipContext(parent,tooltip,tooltipItems){return createContext(parent,{tooltip:tooltip,tooltipItems:tooltipItems,type:'tooltip'});}function overrideCallbacks(callbacks,context){var override=context&&context.dataset&&context.dataset.tooltip&&context.dataset.tooltip.callbacks;return override?callbacks.override(override):callbacks;}var Tooltip=/*#__PURE__*/function(_Element8){_inherits(Tooltip,_Element8);var _super19=_createSuper(Tooltip);function Tooltip(config){var _this31;_classCallCheck(this,Tooltip);_this31=_super19.call(this);_this31.opacity=0;_this31._active=[];_this31._chart=config._chart;_this31._eventPosition=undefined;_this31._size=undefined;_this31._cachedAnimations=undefined;_this31._tooltipItems=[];_this31.$animations=undefined;_this31.$context=undefined;_this31.options=config.options;_this31.dataPoints=undefined;_this31.title=undefined;_this31.beforeBody=undefined;_this31.body=undefined;_this31.afterBody=undefined;_this31.footer=undefined;_this31.xAlign=undefined;_this31.yAlign=undefined;_this31.x=undefined;_this31.y=undefined;_this31.height=undefined;_this31.width=undefined;_this31.caretX=undefined;_this31.caretY=undefined;_this31.labelColors=undefined;_this31.labelPointStyles=undefined;_this31.labelTextColors=undefined;return _this31;}_createClass(Tooltip,[{key:"initialize",value:function initialize(options){this.options=options;this._cachedAnimations=undefined;this.$context=undefined;}},{key:"_resolveAnimations",value:function _resolveAnimations(){var cached=this._cachedAnimations;if(cached){return cached;}var chart=this._chart;var options=this.options.setContext(this.getContext());var opts=options.enabled&&chart.options.animation&&options.animations;var animations=new Animations(this._chart,opts);if(opts._cacheable){this._cachedAnimations=Object.freeze(animations);}return animations;}},{key:"getContext",value:function getContext(){return this.$context||(this.$context=createTooltipContext(this._chart.getContext(),this,this._tooltipItems));}},{key:"getTitle",value:function getTitle(context,options){var callbacks=options.callbacks;var beforeTitle=callbacks.beforeTitle.apply(this,[context]);var title=callbacks.title.apply(this,[context]);var afterTitle=callbacks.afterTitle.apply(this,[context]);var lines=[];lines=pushOrConcat(lines,splitNewlines(beforeTitle));lines=pushOrConcat(lines,splitNewlines(title));lines=pushOrConcat(lines,splitNewlines(afterTitle));return lines;}},{key:"getBeforeBody",value:function getBeforeBody(tooltipItems,options){return getBeforeAfterBodyLines(options.callbacks.beforeBody.apply(this,[tooltipItems]));}},{key:"getBody",value:function getBody(tooltipItems,options){var _this32=this;var callbacks=options.callbacks;var bodyItems=[];each(tooltipItems,function(context){var bodyItem={before:[],lines:[],after:[]};var scoped=overrideCallbacks(callbacks,context);pushOrConcat(bodyItem.before,splitNewlines(scoped.beforeLabel.call(_this32,context)));pushOrConcat(bodyItem.lines,scoped.label.call(_this32,context));pushOrConcat(bodyItem.after,splitNewlines(scoped.afterLabel.call(_this32,context)));bodyItems.push(bodyItem);});return bodyItems;}},{key:"getAfterBody",value:function getAfterBody(tooltipItems,options){return getBeforeAfterBodyLines(options.callbacks.afterBody.apply(this,[tooltipItems]));}},{key:"getFooter",value:function getFooter(tooltipItems,options){var callbacks=options.callbacks;var beforeFooter=callbacks.beforeFooter.apply(this,[tooltipItems]);var footer=callbacks.footer.apply(this,[tooltipItems]);var afterFooter=callbacks.afterFooter.apply(this,[tooltipItems]);var lines=[];lines=pushOrConcat(lines,splitNewlines(beforeFooter));lines=pushOrConcat(lines,splitNewlines(footer));lines=pushOrConcat(lines,splitNewlines(afterFooter));return lines;}},{key:"_createItems",value:function _createItems(options){var _this33=this;var active=this._active;var data=this._chart.data;var labelColors=[];var labelPointStyles=[];var labelTextColors=[];var tooltipItems=[];var i,len;for(i=0,len=active.length;i<len;++i){tooltipItems.push(createTooltipItem(this._chart,active[i]));}if(options.filter){tooltipItems=tooltipItems.filter(function(element,index,array){return options.filter(element,index,array,data);});}if(options.itemSort){tooltipItems=tooltipItems.sort(function(a,b){return options.itemSort(a,b,data);});}each(tooltipItems,function(context){var scoped=overrideCallbacks(options.callbacks,context);labelColors.push(scoped.labelColor.call(_this33,context));labelPointStyles.push(scoped.labelPointStyle.call(_this33,context));labelTextColors.push(scoped.labelTextColor.call(_this33,context));});this.labelColors=labelColors;this.labelPointStyles=labelPointStyles;this.labelTextColors=labelTextColors;this.dataPoints=tooltipItems;return tooltipItems;}},{key:"update",value:function update(changed,replay){var options=this.options.setContext(this.getContext());var active=this._active;var properties;var tooltipItems=[];if(!active.length){if(this.opacity!==0){properties={opacity:0};}}else{var position=positioners[options.position].call(this,active,this._eventPosition);tooltipItems=this._createItems(options);this.title=this.getTitle(tooltipItems,options);this.beforeBody=this.getBeforeBody(tooltipItems,options);this.body=this.getBody(tooltipItems,options);this.afterBody=this.getAfterBody(tooltipItems,options);this.footer=this.getFooter(tooltipItems,options);var size=this._size=getTooltipSize(this,options);var positionAndSize=Object.assign({},position,size);var alignment=determineAlignment(this._chart,options,positionAndSize);var backgroundPoint=getBackgroundPoint(options,positionAndSize,alignment,this._chart);this.xAlign=alignment.xAlign;this.yAlign=alignment.yAlign;properties={opacity:1,x:backgroundPoint.x,y:backgroundPoint.y,width:size.width,height:size.height,caretX:position.x,caretY:position.y};}this._tooltipItems=tooltipItems;this.$context=undefined;if(properties){this._resolveAnimations().update(this,properties);}if(changed&&options.external){options.external.call(this,{chart:this._chart,tooltip:this,replay:replay});}}},{key:"drawCaret",value:function drawCaret(tooltipPoint,ctx,size,options){var caretPosition=this.getCaretPosition(tooltipPoint,size,options);ctx.lineTo(caretPosition.x1,caretPosition.y1);ctx.lineTo(caretPosition.x2,caretPosition.y2);ctx.lineTo(caretPosition.x3,caretPosition.y3);}},{key:"getCaretPosition",value:function getCaretPosition(tooltipPoint,size,options){var xAlign=this.xAlign,yAlign=this.yAlign;var caretSize=options.caretSize,cornerRadius=options.cornerRadius;var _toTRBLCorners2=toTRBLCorners(cornerRadius),topLeft=_toTRBLCorners2.topLeft,topRight=_toTRBLCorners2.topRight,bottomLeft=_toTRBLCorners2.bottomLeft,bottomRight=_toTRBLCorners2.bottomRight;var ptX=tooltipPoint.x,ptY=tooltipPoint.y;var width=size.width,height=size.height;var x1,x2,x3,y1,y2,y3;if(yAlign==='center'){y2=ptY+height/2;if(xAlign==='left'){x1=ptX;x2=x1-caretSize;y1=y2+caretSize;y3=y2-caretSize;}else{x1=ptX+width;x2=x1+caretSize;y1=y2-caretSize;y3=y2+caretSize;}x3=x1;}else{if(xAlign==='left'){x2=ptX+Math.max(topLeft,bottomLeft)+caretSize;}else if(xAlign==='right'){x2=ptX+width-Math.max(topRight,bottomRight)-caretSize;}else{x2=this.caretX;}if(yAlign==='top'){y1=ptY;y2=y1-caretSize;x1=x2-caretSize;x3=x2+caretSize;}else{y1=ptY+height;y2=y1+caretSize;x1=x2+caretSize;x3=x2-caretSize;}y3=y1;}return{x1:x1,x2:x2,x3:x3,y1:y1,y2:y2,y3:y3};}},{key:"drawTitle",value:function drawTitle(pt,ctx,options){var title=this.title;var length=title.length;var titleFont,titleSpacing,i;if(length){var rtlHelper=getRtlAdapter(options.rtl,this.x,this.width);pt.x=getAlignedX(this,options.titleAlign,options);ctx.textAlign=rtlHelper.textAlign(options.titleAlign);ctx.textBaseline='middle';titleFont=toFont(options.titleFont);titleSpacing=options.titleSpacing;ctx.fillStyle=options.titleColor;ctx.font=titleFont.string;for(i=0;i<length;++i){ctx.fillText(title[i],rtlHelper.x(pt.x),pt.y+titleFont.lineHeight/2);pt.y+=titleFont.lineHeight+titleSpacing;if(i+1===length){pt.y+=options.titleMarginBottom-titleSpacing;}}}}},{key:"_drawColorBox",value:function _drawColorBox(ctx,pt,i,rtlHelper,options){var labelColors=this.labelColors[i];var labelPointStyle=this.labelPointStyles[i];var boxHeight=options.boxHeight,boxWidth=options.boxWidth,boxPadding=options.boxPadding;var bodyFont=toFont(options.bodyFont);var colorX=getAlignedX(this,'left',options);var rtlColorX=rtlHelper.x(colorX);var yOffSet=boxHeight<bodyFont.lineHeight?(bodyFont.lineHeight-boxHeight)/2:0;var colorY=pt.y+yOffSet;if(options.usePointStyle){var drawOptions={radius:Math.min(boxWidth,boxHeight)/2,pointStyle:labelPointStyle.pointStyle,rotation:labelPointStyle.rotation,borderWidth:1};var centerX=rtlHelper.leftForLtr(rtlColorX,boxWidth)+boxWidth/2;var centerY=colorY+boxHeight/2;ctx.strokeStyle=options.multiKeyBackground;ctx.fillStyle=options.multiKeyBackground;drawPoint(ctx,drawOptions,centerX,centerY);ctx.strokeStyle=labelColors.borderColor;ctx.fillStyle=labelColors.backgroundColor;drawPoint(ctx,drawOptions,centerX,centerY);}else{ctx.lineWidth=labelColors.borderWidth||1;ctx.strokeStyle=labelColors.borderColor;ctx.setLineDash(labelColors.borderDash||[]);ctx.lineDashOffset=labelColors.borderDashOffset||0;var outerX=rtlHelper.leftForLtr(rtlColorX,boxWidth-boxPadding);var innerX=rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX,1),boxWidth-boxPadding-2);var borderRadius=toTRBLCorners(labelColors.borderRadius);if(Object.values(borderRadius).some(function(v){return v!==0;})){ctx.beginPath();ctx.fillStyle=options.multiKeyBackground;addRoundedRectPath(ctx,{x:outerX,y:colorY,w:boxWidth,h:boxHeight,radius:borderRadius});ctx.fill();ctx.stroke();ctx.fillStyle=labelColors.backgroundColor;ctx.beginPath();addRoundedRectPath(ctx,{x:innerX,y:colorY+1,w:boxWidth-2,h:boxHeight-2,radius:borderRadius});ctx.fill();}else{ctx.fillStyle=options.multiKeyBackground;ctx.fillRect(outerX,colorY,boxWidth,boxHeight);ctx.strokeRect(outerX,colorY,boxWidth,boxHeight);ctx.fillStyle=labelColors.backgroundColor;ctx.fillRect(innerX,colorY+1,boxWidth-2,boxHeight-2);}}ctx.fillStyle=this.labelTextColors[i];}},{key:"drawBody",value:function drawBody(pt,ctx,options){var body=this.body;var bodySpacing=options.bodySpacing,bodyAlign=options.bodyAlign,displayColors=options.displayColors,boxHeight=options.boxHeight,boxWidth=options.boxWidth,boxPadding=options.boxPadding;var bodyFont=toFont(options.bodyFont);var bodyLineHeight=bodyFont.lineHeight;var xLinePadding=0;var rtlHelper=getRtlAdapter(options.rtl,this.x,this.width);var fillLineOfText=function fillLineOfText(line){ctx.fillText(line,rtlHelper.x(pt.x+xLinePadding),pt.y+bodyLineHeight/2);pt.y+=bodyLineHeight+bodySpacing;};var bodyAlignForCalculation=rtlHelper.textAlign(bodyAlign);var bodyItem,textColor,lines,i,j,ilen,jlen;ctx.textAlign=bodyAlign;ctx.textBaseline='middle';ctx.font=bodyFont.string;pt.x=getAlignedX(this,bodyAlignForCalculation,options);ctx.fillStyle=options.bodyColor;each(this.beforeBody,fillLineOfText);xLinePadding=displayColors&&bodyAlignForCalculation!=='right'?bodyAlign==='center'?boxWidth/2+boxPadding:boxWidth+2+boxPadding:0;for(i=0,ilen=body.length;i<ilen;++i){bodyItem=body[i];textColor=this.labelTextColors[i];ctx.fillStyle=textColor;each(bodyItem.before,fillLineOfText);lines=bodyItem.lines;if(displayColors&&lines.length){this._drawColorBox(ctx,pt,i,rtlHelper,options);bodyLineHeight=Math.max(bodyFont.lineHeight,boxHeight);}for(j=0,jlen=lines.length;j<jlen;++j){fillLineOfText(lines[j]);bodyLineHeight=bodyFont.lineHeight;}each(bodyItem.after,fillLineOfText);}xLinePadding=0;bodyLineHeight=bodyFont.lineHeight;each(this.afterBody,fillLineOfText);pt.y-=bodySpacing;}},{key:"drawFooter",value:function drawFooter(pt,ctx,options){var footer=this.footer;var length=footer.length;var footerFont,i;if(length){var rtlHelper=getRtlAdapter(options.rtl,this.x,this.width);pt.x=getAlignedX(this,options.footerAlign,options);pt.y+=options.footerMarginTop;ctx.textAlign=rtlHelper.textAlign(options.footerAlign);ctx.textBaseline='middle';footerFont=toFont(options.footerFont);ctx.fillStyle=options.footerColor;ctx.font=footerFont.string;for(i=0;i<length;++i){ctx.fillText(footer[i],rtlHelper.x(pt.x),pt.y+footerFont.lineHeight/2);pt.y+=footerFont.lineHeight+options.footerSpacing;}}}},{key:"drawBackground",value:function drawBackground(pt,ctx,tooltipSize,options){var xAlign=this.xAlign,yAlign=this.yAlign;var x=pt.x,y=pt.y;var width=tooltipSize.width,height=tooltipSize.height;var _toTRBLCorners3=toTRBLCorners(options.cornerRadius),topLeft=_toTRBLCorners3.topLeft,topRight=_toTRBLCorners3.topRight,bottomLeft=_toTRBLCorners3.bottomLeft,bottomRight=_toTRBLCorners3.bottomRight;ctx.fillStyle=options.backgroundColor;ctx.strokeStyle=options.borderColor;ctx.lineWidth=options.borderWidth;ctx.beginPath();ctx.moveTo(x+topLeft,y);if(yAlign==='top'){this.drawCaret(pt,ctx,tooltipSize,options);}ctx.lineTo(x+width-topRight,y);ctx.quadraticCurveTo(x+width,y,x+width,y+topRight);if(yAlign==='center'&&xAlign==='right'){this.drawCaret(pt,ctx,tooltipSize,options);}ctx.lineTo(x+width,y+height-bottomRight);ctx.quadraticCurveTo(x+width,y+height,x+width-bottomRight,y+height);if(yAlign==='bottom'){this.drawCaret(pt,ctx,tooltipSize,options);}ctx.lineTo(x+bottomLeft,y+height);ctx.quadraticCurveTo(x,y+height,x,y+height-bottomLeft);if(yAlign==='center'&&xAlign==='left'){this.drawCaret(pt,ctx,tooltipSize,options);}ctx.lineTo(x,y+topLeft);ctx.quadraticCurveTo(x,y,x+topLeft,y);ctx.closePath();ctx.fill();if(options.borderWidth>0){ctx.stroke();}}},{key:"_updateAnimationTarget",value:function _updateAnimationTarget(options){var chart=this._chart;var anims=this.$animations;var animX=anims&&anims.x;var animY=anims&&anims.y;if(animX||animY){var position=positioners[options.position].call(this,this._active,this._eventPosition);if(!position){return;}var size=this._size=getTooltipSize(this,options);var positionAndSize=Object.assign({},position,this._size);var alignment=determineAlignment(chart,options,positionAndSize);var point=getBackgroundPoint(options,positionAndSize,alignment,chart);if(animX._to!==point.x||animY._to!==point.y){this.xAlign=alignment.xAlign;this.yAlign=alignment.yAlign;this.width=size.width;this.height=size.height;this.caretX=position.x;this.caretY=position.y;this._resolveAnimations().update(this,point);}}}},{key:"draw",value:function draw(ctx){var options=this.options.setContext(this.getContext());var opacity=this.opacity;if(!opacity){return;}this._updateAnimationTarget(options);var tooltipSize={width:this.width,height:this.height};var pt={x:this.x,y:this.y};opacity=Math.abs(opacity)<1e-3?0:opacity;var padding=toPadding(options.padding);var hasTooltipContent=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;if(options.enabled&&hasTooltipContent){ctx.save();ctx.globalAlpha=opacity;this.drawBackground(pt,ctx,tooltipSize,options);overrideTextDirection(ctx,options.textDirection);pt.y+=padding.top;this.drawTitle(pt,ctx,options);this.drawBody(pt,ctx,options);this.drawFooter(pt,ctx,options);restoreTextDirection(ctx,options.textDirection);ctx.restore();}}},{key:"getActiveElements",value:function getActiveElements(){return this._active||[];}},{key:"setActiveElements",value:function setActiveElements(activeElements,eventPosition){var _this34=this;var lastActive=this._active;var active=activeElements.map(function(_ref42){var datasetIndex=_ref42.datasetIndex,index=_ref42.index;var meta=_this34._chart.getDatasetMeta(datasetIndex);if(!meta){throw new Error('Cannot find a dataset at index '+datasetIndex);}return{datasetIndex:datasetIndex,element:meta.data[index],index:index};});var changed=!_elementsEqual(lastActive,active);var positionChanged=this._positionChanged(active,eventPosition);if(changed||positionChanged){this._active=active;this._eventPosition=eventPosition;this.update(true);}}},{key:"handleEvent",value:function handleEvent(e,replay){var options=this.options;var lastActive=this._active||[];var changed=false;var active=[];if(e.type!=='mouseout'){active=this._chart.getElementsAtEventForMode(e,options.mode,options,replay);if(options.reverse){active.reverse();}}var positionChanged=this._positionChanged(active,e);changed=replay||!_elementsEqual(active,lastActive)||positionChanged;if(changed){this._active=active;if(options.enabled||options.external){this._eventPosition={x:e.x,y:e.y};this.update(true,replay);}}return changed;}},{key:"_positionChanged",value:function _positionChanged(active,e){var caretX=this.caretX,caretY=this.caretY,options=this.options;var position=positioners[options.position].call(this,active,e);return position!==false&&(caretX!==position.x||caretY!==position.y);}}]);return Tooltip;}(Element);Tooltip.positioners=positioners;var plugin_tooltip={id:'tooltip',_element:Tooltip,positioners:positioners,afterInit:function afterInit(chart,_args,options){if(options){chart.tooltip=new Tooltip({_chart:chart,options:options});}},beforeUpdate:function beforeUpdate(chart,_args,options){if(chart.tooltip){chart.tooltip.initialize(options);}},reset:function reset(chart,_args,options){if(chart.tooltip){chart.tooltip.initialize(options);}},afterDraw:function afterDraw(chart){var tooltip=chart.tooltip;var args={tooltip:tooltip};if(chart.notifyPlugins('beforeTooltipDraw',args)===false){return;}if(tooltip){tooltip.draw(chart.ctx);}chart.notifyPlugins('afterTooltipDraw',args);},afterEvent:function afterEvent(chart,args){if(chart.tooltip){var useFinalPosition=args.replay;if(chart.tooltip.handleEvent(args.event,useFinalPosition)){args.changed=true;}}},defaults:{enabled:true,external:null,position:'average',backgroundColor:'rgba(0,0,0,0.8)',titleColor:'#fff',titleFont:{weight:'bold'},titleSpacing:2,titleMarginBottom:6,titleAlign:'left',bodyColor:'#fff',bodySpacing:2,bodyFont:{},bodyAlign:'left',footerColor:'#fff',footerSpacing:2,footerMarginTop:6,footerFont:{weight:'bold'},footerAlign:'left',padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:function boxHeight(ctx,opts){return opts.bodyFont.size;},boxWidth:function boxWidth(ctx,opts){return opts.bodyFont.size;},multiKeyBackground:'#fff',displayColors:true,boxPadding:0,borderColor:'rgba(0,0,0,0)',borderWidth:0,animation:{duration:400,easing:'easeOutQuart'},animations:{numbers:{type:'number',properties:['x','y','width','height','caretX','caretY']},opacity:{easing:'linear',duration:200}},callbacks:{beforeTitle:noop,title:function title(tooltipItems){if(tooltipItems.length>0){var item=tooltipItems[0];var labels=item.chart.data.labels;var labelCount=labels?labels.length:0;if(this&&this.options&&this.options.mode==='dataset'){return item.dataset.label||'';}else if(item.label){return item.label;}else if(labelCount>0&&item.dataIndex<labelCount){return labels[item.dataIndex];}}return'';},afterTitle:noop,beforeBody:noop,beforeLabel:noop,label:function label(tooltipItem){if(this&&this.options&&this.options.mode==='dataset'){return tooltipItem.label+': '+tooltipItem.formattedValue||tooltipItem.formattedValue;}var label=tooltipItem.dataset.label||'';if(label){label+=': ';}var value=tooltipItem.formattedValue;if(!isNullOrUndef(value)){label+=value;}return label;},labelColor:function labelColor(tooltipItem){var meta=tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);var options=meta.controller.getStyle(tooltipItem.dataIndex);return{borderColor:options.borderColor,backgroundColor:options.backgroundColor,borderWidth:options.borderWidth,borderDash:options.borderDash,borderDashOffset:options.borderDashOffset,borderRadius:0};},labelTextColor:function labelTextColor(){return this.options.bodyColor;},labelPointStyle:function labelPointStyle(tooltipItem){var meta=tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);var options=meta.controller.getStyle(tooltipItem.dataIndex);return{pointStyle:options.pointStyle,rotation:options.rotation};},afterLabel:noop,afterBody:noop,beforeFooter:noop,footer:noop,afterFooter:noop}},defaultRoutes:{bodyFont:'font',footerFont:'font',titleFont:'font'},descriptors:{_scriptable:function _scriptable(name){return name!=='filter'&&name!=='itemSort'&&name!=='external';},_indexable:false,callbacks:{_scriptable:false,_indexable:false},animation:{_fallback:false},animations:{_fallback:'animation'}},additionalOptionScopes:['interaction']};var plugins=/*#__PURE__*/Object.freeze({__proto__:null,Decimation:plugin_decimation,Filler:plugin_filler,Legend:plugin_legend,SubTitle:plugin_subtitle,Title:plugin_title,Tooltip:plugin_tooltip});var addIfString=function addIfString(labels,raw,index){return typeof raw==='string'?labels.push(raw)-1:isNaN(raw)?null:index;};function findOrAddLabel(labels,raw,index){var first=labels.indexOf(raw);if(first===-1){return addIfString(labels,raw,index);}var last=labels.lastIndexOf(raw);return first!==last?index:first;}var validIndex=function validIndex(index,max){return index===null?null:_limitValue(Math.round(index),0,max);};var CategoryScale=/*#__PURE__*/function(_Scale){_inherits(CategoryScale,_Scale);var _super20=_createSuper(CategoryScale);function CategoryScale(cfg){var _this35;_classCallCheck(this,CategoryScale);_this35=_super20.call(this,cfg);_this35._startValue=undefined;_this35._valueRange=0;return _this35;}_createClass(CategoryScale,[{key:"parse",value:function parse(raw,index){if(isNullOrUndef(raw)){return null;}var labels=this.getLabels();index=isFinite(index)&&labels[index]===raw?index:findOrAddLabel(labels,raw,valueOrDefault(index,raw));return validIndex(index,labels.length-1);}},{key:"determineDataLimits",value:function determineDataLimits(){var _this$getUserBounds2=this.getUserBounds(),minDefined=_this$getUserBounds2.minDefined,maxDefined=_this$getUserBounds2.maxDefined;var _this$getMinMax=this.getMinMax(true),min=_this$getMinMax.min,max=_this$getMinMax.max;if(this.options.bounds==='ticks'){if(!minDefined){min=0;}if(!maxDefined){max=this.getLabels().length-1;}}this.min=min;this.max=max;}},{key:"buildTicks",value:function buildTicks(){var min=this.min;var max=this.max;var offset=this.options.offset;var ticks=[];var labels=this.getLabels();labels=min===0&&max===labels.length-1?labels:labels.slice(min,max+1);this._valueRange=Math.max(labels.length-(offset?0:1),1);this._startValue=this.min-(offset?0.5:0);for(var value=min;value<=max;value++){ticks.push({value:value});}return ticks;}},{key:"getLabelForValue",value:function getLabelForValue(value){var labels=this.getLabels();if(value>=0&&value<labels.length){return labels[value];}return value;}},{key:"configure",value:function configure(){_get2(_getPrototypeOf(CategoryScale.prototype),"configure",this).call(this);if(!this.isHorizontal()){this._reversePixels=!this._reversePixels;}}},{key:"getPixelForValue",value:function getPixelForValue(value){if(typeof value!=='number'){value=this.parse(value);}return value===null?NaN:this.getPixelForDecimal((value-this._startValue)/this._valueRange);}},{key:"getPixelForTick",value:function getPixelForTick(index){var ticks=this.ticks;if(index<0||index>ticks.length-1){return null;}return this.getPixelForValue(ticks[index].value);}},{key:"getValueForPixel",value:function getValueForPixel(pixel){return Math.round(this._startValue+this.getDecimalForPixel(pixel)*this._valueRange);}},{key:"getBasePixel",value:function getBasePixel(){return this.bottom;}}]);return CategoryScale;}(Scale);CategoryScale.id='category';CategoryScale.defaults={ticks:{callback:CategoryScale.prototype.getLabelForValue}};function generateTicks$1(generationOptions,dataRange){var ticks=[];var MIN_SPACING=1e-14;var bounds=generationOptions.bounds,step=generationOptions.step,min=generationOptions.min,max=generationOptions.max,precision=generationOptions.precision,count=generationOptions.count,maxTicks=generationOptions.maxTicks,maxDigits=generationOptions.maxDigits,includeBounds=generationOptions.includeBounds;var unit=step||1;var maxSpaces=maxTicks-1;var rmin=dataRange.min,rmax=dataRange.max;var minDefined=!isNullOrUndef(min);var maxDefined=!isNullOrUndef(max);var countDefined=!isNullOrUndef(count);var minSpacing=(rmax-rmin)/(maxDigits+1);var spacing=niceNum((rmax-rmin)/maxSpaces/unit)*unit;var factor,niceMin,niceMax,numSpaces;if(spacing<MIN_SPACING&&!minDefined&&!maxDefined){return[{value:rmin},{value:rmax}];}numSpaces=Math.ceil(rmax/spacing)-Math.floor(rmin/spacing);if(numSpaces>maxSpaces){spacing=niceNum(numSpaces*spacing/maxSpaces/unit)*unit;}if(!isNullOrUndef(precision)){factor=Math.pow(10,precision);spacing=Math.ceil(spacing*factor)/factor;}if(bounds==='ticks'){niceMin=Math.floor(rmin/spacing)*spacing;niceMax=Math.ceil(rmax/spacing)*spacing;}else{niceMin=rmin;niceMax=rmax;}if(minDefined&&maxDefined&&step&&almostWhole((max-min)/step,spacing/1000)){numSpaces=Math.round(Math.min((max-min)/spacing,maxTicks));spacing=(max-min)/numSpaces;niceMin=min;niceMax=max;}else if(countDefined){niceMin=minDefined?min:niceMin;niceMax=maxDefined?max:niceMax;numSpaces=count-1;spacing=(niceMax-niceMin)/numSpaces;}else{numSpaces=(niceMax-niceMin)/spacing;if(almostEquals(numSpaces,Math.round(numSpaces),spacing/1000)){numSpaces=Math.round(numSpaces);}else{numSpaces=Math.ceil(numSpaces);}}var decimalPlaces=Math.max(_decimalPlaces(spacing),_decimalPlaces(niceMin));factor=Math.pow(10,isNullOrUndef(precision)?decimalPlaces:precision);niceMin=Math.round(niceMin*factor)/factor;niceMax=Math.round(niceMax*factor)/factor;var j=0;if(minDefined){if(includeBounds&&niceMin!==min){ticks.push({value:min});if(niceMin<min){j++;}if(almostEquals(Math.round((niceMin+j*spacing)*factor)/factor,min,relativeLabelSize(min,minSpacing,generationOptions))){j++;}}else if(niceMin<min){j++;}}for(;j<numSpaces;++j){ticks.push({value:Math.round((niceMin+j*spacing)*factor)/factor});}if(maxDefined&&includeBounds&&niceMax!==max){if(ticks.length&&almostEquals(ticks[ticks.length-1].value,max,relativeLabelSize(max,minSpacing,generationOptions))){ticks[ticks.length-1].value=max;}else{ticks.push({value:max});}}else if(!maxDefined||niceMax===max){ticks.push({value:niceMax});}return ticks;}function relativeLabelSize(value,minSpacing,_ref43){var horizontal=_ref43.horizontal,minRotation=_ref43.minRotation;var rad=toRadians(minRotation);var ratio=(horizontal?Math.sin(rad):Math.cos(rad))||0.001;var length=0.75*minSpacing*(''+value).length;return Math.min(minSpacing/ratio,length);}var LinearScaleBase=/*#__PURE__*/function(_Scale2){_inherits(LinearScaleBase,_Scale2);var _super21=_createSuper(LinearScaleBase);function LinearScaleBase(cfg){var _this36;_classCallCheck(this,LinearScaleBase);_this36=_super21.call(this,cfg);_this36.start=undefined;_this36.end=undefined;_this36._startValue=undefined;_this36._endValue=undefined;_this36._valueRange=0;return _this36;}_createClass(LinearScaleBase,[{key:"parse",value:function parse(raw,index){if(isNullOrUndef(raw)){return null;}if((typeof raw==='number'||raw instanceof Number)&&!isFinite(+raw)){return null;}return+raw;}},{key:"handleTickRangeOptions",value:function handleTickRangeOptions(){var beginAtZero=this.options.beginAtZero;var _this$getUserBounds3=this.getUserBounds(),minDefined=_this$getUserBounds3.minDefined,maxDefined=_this$getUserBounds3.maxDefined;var min=this.min,max=this.max;var setMin=function setMin(v){return min=minDefined?min:v;};var setMax=function setMax(v){return max=maxDefined?max:v;};if(beginAtZero){var minSign=sign(min);var maxSign=sign(max);if(minSign<0&&maxSign<0){setMax(0);}else if(minSign>0&&maxSign>0){setMin(0);}}if(min===max){var offset=1;if(max>=Number.MAX_SAFE_INTEGER||min<=Number.MIN_SAFE_INTEGER){offset=Math.abs(max*0.05);}setMax(max+offset);if(!beginAtZero){setMin(min-offset);}}this.min=min;this.max=max;}},{key:"getTickLimit",value:function getTickLimit(){var tickOpts=this.options.ticks;var maxTicksLimit=tickOpts.maxTicksLimit,stepSize=tickOpts.stepSize;var maxTicks;if(stepSize){maxTicks=Math.ceil(this.max/stepSize)-Math.floor(this.min/stepSize)+1;if(maxTicks>1000){console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(stepSize," would result generating up to ").concat(maxTicks," ticks. Limiting to 1000."));maxTicks=1000;}}else{maxTicks=this.computeTickLimit();maxTicksLimit=maxTicksLimit||11;}if(maxTicksLimit){maxTicks=Math.min(maxTicksLimit,maxTicks);}return maxTicks;}},{key:"computeTickLimit",value:function computeTickLimit(){return Number.POSITIVE_INFINITY;}},{key:"buildTicks",value:function buildTicks(){var opts=this.options;var tickOpts=opts.ticks;var maxTicks=this.getTickLimit();maxTicks=Math.max(2,maxTicks);var numericGeneratorOptions={maxTicks:maxTicks,bounds:opts.bounds,min:opts.min,max:opts.max,precision:tickOpts.precision,step:tickOpts.stepSize,count:tickOpts.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:tickOpts.minRotation||0,includeBounds:tickOpts.includeBounds!==false};var dataRange=this._range||this;var ticks=generateTicks$1(numericGeneratorOptions,dataRange);if(opts.bounds==='ticks'){_setMinAndMaxByKey(ticks,this,'value');}if(opts.reverse){ticks.reverse();this.start=this.max;this.end=this.min;}else{this.start=this.min;this.end=this.max;}return ticks;}},{key:"configure",value:function configure(){var ticks=this.ticks;var start=this.min;var end=this.max;_get2(_getPrototypeOf(LinearScaleBase.prototype),"configure",this).call(this);if(this.options.offset&&ticks.length){var offset=(end-start)/Math.max(ticks.length-1,1)/2;start-=offset;end+=offset;}this._startValue=start;this._endValue=end;this._valueRange=end-start;}},{key:"getLabelForValue",value:function getLabelForValue(value){return formatNumber(value,this.chart.options.locale);}}]);return LinearScaleBase;}(Scale);var LinearScale=/*#__PURE__*/function(_LinearScaleBase){_inherits(LinearScale,_LinearScaleBase);var _super22=_createSuper(LinearScale);function LinearScale(){_classCallCheck(this,LinearScale);return _super22.apply(this,arguments);}_createClass(LinearScale,[{key:"determineDataLimits",value:function determineDataLimits(){var _this$getMinMax2=this.getMinMax(true),min=_this$getMinMax2.min,max=_this$getMinMax2.max;this.min=isNumberFinite(min)?min:0;this.max=isNumberFinite(max)?max:1;this.handleTickRangeOptions();}},{key:"computeTickLimit",value:function computeTickLimit(){var horizontal=this.isHorizontal();var length=horizontal?this.width:this.height;var minRotation=toRadians(this.options.ticks.minRotation);var ratio=(horizontal?Math.sin(minRotation):Math.cos(minRotation))||0.001;var tickFont=this._resolveTickFontOptions(0);return Math.ceil(length/Math.min(40,tickFont.lineHeight/ratio));}},{key:"getPixelForValue",value:function getPixelForValue(value){return value===null?NaN:this.getPixelForDecimal((value-this._startValue)/this._valueRange);}},{key:"getValueForPixel",value:function getValueForPixel(pixel){return this._startValue+this.getDecimalForPixel(pixel)*this._valueRange;}}]);return LinearScale;}(LinearScaleBase);LinearScale.id='linear';LinearScale.defaults={ticks:{callback:Ticks.formatters.numeric}};function isMajor(tickVal){var remain=tickVal/Math.pow(10,Math.floor(log10(tickVal)));return remain===1;}function generateTicks(generationOptions,dataRange){var endExp=Math.floor(log10(dataRange.max));var endSignificand=Math.ceil(dataRange.max/Math.pow(10,endExp));var ticks=[];var tickVal=finiteOrDefault(generationOptions.min,Math.pow(10,Math.floor(log10(dataRange.min))));var exp=Math.floor(log10(tickVal));var significand=Math.floor(tickVal/Math.pow(10,exp));var precision=exp<0?Math.pow(10,Math.abs(exp)):1;do{ticks.push({value:tickVal,major:isMajor(tickVal)});++significand;if(significand===10){significand=1;++exp;precision=exp>=0?1:precision;}tickVal=Math.round(significand*Math.pow(10,exp)*precision)/precision;}while(exp<endExp||exp===endExp&&significand<endSignificand);var lastTick=finiteOrDefault(generationOptions.max,tickVal);ticks.push({value:lastTick,major:isMajor(tickVal)});return ticks;}var LogarithmicScale=/*#__PURE__*/function(_Scale3){_inherits(LogarithmicScale,_Scale3);var _super23=_createSuper(LogarithmicScale);function LogarithmicScale(cfg){var _this37;_classCallCheck(this,LogarithmicScale);_this37=_super23.call(this,cfg);_this37.start=undefined;_this37.end=undefined;_this37._startValue=undefined;_this37._valueRange=0;return _this37;}_createClass(LogarithmicScale,[{key:"parse",value:function parse(raw,index){var value=LinearScaleBase.prototype.parse.apply(this,[raw,index]);if(value===0){this._zero=true;return undefined;}return isNumberFinite(value)&&value>0?value:null;}},{key:"determineDataLimits",value:function determineDataLimits(){var _this$getMinMax3=this.getMinMax(true),min=_this$getMinMax3.min,max=_this$getMinMax3.max;this.min=isNumberFinite(min)?Math.max(0,min):null;this.max=isNumberFinite(max)?Math.max(0,max):null;if(this.options.beginAtZero){this._zero=true;}this.handleTickRangeOptions();}},{key:"handleTickRangeOptions",value:function handleTickRangeOptions(){var _this$getUserBounds4=this.getUserBounds(),minDefined=_this$getUserBounds4.minDefined,maxDefined=_this$getUserBounds4.maxDefined;var min=this.min;var max=this.max;var setMin=function setMin(v){return min=minDefined?min:v;};var setMax=function setMax(v){return max=maxDefined?max:v;};var exp=function exp(v,m){return Math.pow(10,Math.floor(log10(v))+m);};if(min===max){if(min<=0){setMin(1);setMax(10);}else{setMin(exp(min,-1));setMax(exp(max,+1));}}if(min<=0){setMin(exp(max,-1));}if(max<=0){setMax(exp(min,+1));}if(this._zero&&this.min!==this._suggestedMin&&min===exp(this.min,0)){setMin(exp(min,-1));}this.min=min;this.max=max;}},{key:"buildTicks",value:function buildTicks(){var opts=this.options;var generationOptions={min:this._userMin,max:this._userMax};var ticks=generateTicks(generationOptions,this);if(opts.bounds==='ticks'){_setMinAndMaxByKey(ticks,this,'value');}if(opts.reverse){ticks.reverse();this.start=this.max;this.end=this.min;}else{this.start=this.min;this.end=this.max;}return ticks;}},{key:"getLabelForValue",value:function getLabelForValue(value){return value===undefined?'0':formatNumber(value,this.chart.options.locale);}},{key:"configure",value:function configure(){var start=this.min;_get2(_getPrototypeOf(LogarithmicScale.prototype),"configure",this).call(this);this._startValue=log10(start);this._valueRange=log10(this.max)-log10(start);}},{key:"getPixelForValue",value:function getPixelForValue(value){if(value===undefined||value===0){value=this.min;}if(value===null||isNaN(value)){return NaN;}return this.getPixelForDecimal(value===this.min?0:(log10(value)-this._startValue)/this._valueRange);}},{key:"getValueForPixel",value:function getValueForPixel(pixel){var decimal=this.getDecimalForPixel(pixel);return Math.pow(10,this._startValue+decimal*this._valueRange);}}]);return LogarithmicScale;}(Scale);LogarithmicScale.id='logarithmic';LogarithmicScale.defaults={ticks:{callback:Ticks.formatters.logarithmic,major:{enabled:true}}};function getTickBackdropHeight(opts){var tickOpts=opts.ticks;if(tickOpts.display&&opts.display){var padding=toPadding(tickOpts.backdropPadding);return valueOrDefault(tickOpts.font&&tickOpts.font.size,defaults.font.size)+padding.height;}return 0;}function measureLabelSize(ctx,font,label){label=isArray(label)?label:[label];return{w:_longestText(ctx,font.string,label),h:label.length*font.lineHeight};}function determineLimits(angle,pos,size,min,max){if(angle===min||angle===max){return{start:pos-size/2,end:pos+size/2};}else if(angle<min||angle>max){return{start:pos-size,end:pos};}return{start:pos,end:pos+size};}function fitWithPointLabels(scale){var furthestLimits={l:0,r:scale.width,t:0,b:scale.height-scale.paddingTop};var furthestAngles={};var labelSizes=[];var padding=[];var valueCount=scale.getLabels().length;for(var i=0;i<valueCount;i++){var opts=scale.options.pointLabels.setContext(scale.getPointLabelContext(i));padding[i]=opts.padding;var pointPosition=scale.getPointPosition(i,scale.drawingArea+padding[i]);var plFont=toFont(opts.font);var textSize=measureLabelSize(scale.ctx,plFont,scale._pointLabels[i]);labelSizes[i]=textSize;var angleRadians=scale.getIndexAngle(i);var angle=toDegrees(angleRadians);var hLimits=determineLimits(angle,pointPosition.x,textSize.w,0,180);var vLimits=determineLimits(angle,pointPosition.y,textSize.h,90,270);if(hLimits.start<furthestLimits.l){furthestLimits.l=hLimits.start;furthestAngles.l=angleRadians;}if(hLimits.end>furthestLimits.r){furthestLimits.r=hLimits.end;furthestAngles.r=angleRadians;}if(vLimits.start<furthestLimits.t){furthestLimits.t=vLimits.start;furthestAngles.t=angleRadians;}if(vLimits.end>furthestLimits.b){furthestLimits.b=vLimits.end;furthestAngles.b=angleRadians;}}scale._setReductions(scale.drawingArea,furthestLimits,furthestAngles);scale._pointLabelItems=buildPointLabelItems(scale,labelSizes,padding);}function buildPointLabelItems(scale,labelSizes,padding){var items=[];var valueCount=scale.getLabels().length;var opts=scale.options;var tickBackdropHeight=getTickBackdropHeight(opts);var outerDistance=scale.getDistanceFromCenterForValue(opts.ticks.reverse?scale.min:scale.max);for(var i=0;i<valueCount;i++){var extra=i===0?tickBackdropHeight/2:0;var pointLabelPosition=scale.getPointPosition(i,outerDistance+extra+padding[i]);var angle=toDegrees(scale.getIndexAngle(i));var size=labelSizes[i];var y=yForAngle(pointLabelPosition.y,size.h,angle);var textAlign=getTextAlignForAngle(angle);var left=leftForTextAlign(pointLabelPosition.x,size.w,textAlign);items.push({x:pointLabelPosition.x,y:y,textAlign:textAlign,left:left,top:y,right:left+size.w,bottom:y+size.h});}return items;}function getTextAlignForAngle(angle){if(angle===0||angle===180){return'center';}else if(angle<180){return'left';}return'right';}function leftForTextAlign(x,w,align){if(align==='right'){x-=w;}else if(align==='center'){x-=w/2;}return x;}function yForAngle(y,h,angle){if(angle===90||angle===270){y-=h/2;}else if(angle>270||angle<90){y-=h;}return y;}function drawPointLabels(scale,labelCount){var ctx=scale.ctx,pointLabels=scale.options.pointLabels;for(var i=labelCount-1;i>=0;i--){var optsAtIndex=pointLabels.setContext(scale.getPointLabelContext(i));var plFont=toFont(optsAtIndex.font);var _scale$_pointLabelIte=scale._pointLabelItems[i],x=_scale$_pointLabelIte.x,y=_scale$_pointLabelIte.y,textAlign=_scale$_pointLabelIte.textAlign,left=_scale$_pointLabelIte.left,top=_scale$_pointLabelIte.top,right=_scale$_pointLabelIte.right,bottom=_scale$_pointLabelIte.bottom;var backdropColor=optsAtIndex.backdropColor;if(!isNullOrUndef(backdropColor)){var padding=toPadding(optsAtIndex.backdropPadding);ctx.fillStyle=backdropColor;ctx.fillRect(left-padding.left,top-padding.top,right-left+padding.width,bottom-top+padding.height);}renderText(ctx,scale._pointLabels[i],x,y+plFont.lineHeight/2,plFont,{color:optsAtIndex.color,textAlign:textAlign,textBaseline:'middle'});}}function pathRadiusLine(scale,radius,circular,labelCount){var ctx=scale.ctx;if(circular){ctx.arc(scale.xCenter,scale.yCenter,radius,0,TAU);}else{var pointPosition=scale.getPointPosition(0,radius);ctx.moveTo(pointPosition.x,pointPosition.y);for(var i=1;i<labelCount;i++){pointPosition=scale.getPointPosition(i,radius);ctx.lineTo(pointPosition.x,pointPosition.y);}}}function drawRadiusLine(scale,gridLineOpts,radius,labelCount){var ctx=scale.ctx;var circular=gridLineOpts.circular;var color=gridLineOpts.color,lineWidth=gridLineOpts.lineWidth;if(!circular&&!labelCount||!color||!lineWidth||radius<0){return;}ctx.save();ctx.strokeStyle=color;ctx.lineWidth=lineWidth;ctx.setLineDash(gridLineOpts.borderDash);ctx.lineDashOffset=gridLineOpts.borderDashOffset;ctx.beginPath();pathRadiusLine(scale,radius,circular,labelCount);ctx.closePath();ctx.stroke();ctx.restore();}function numberOrZero(param){return isNumber(param)?param:0;}function createPointLabelContext(parent,index,label){return createContext(parent,{label:label,index:index,type:'pointLabel'});}var RadialLinearScale=/*#__PURE__*/function(_LinearScaleBase2){_inherits(RadialLinearScale,_LinearScaleBase2);var _super24=_createSuper(RadialLinearScale);function RadialLinearScale(cfg){var _this38;_classCallCheck(this,RadialLinearScale);_this38=_super24.call(this,cfg);_this38.xCenter=undefined;_this38.yCenter=undefined;_this38.drawingArea=undefined;_this38._pointLabels=[];_this38._pointLabelItems=[];return _this38;}_createClass(RadialLinearScale,[{key:"setDimensions",value:function setDimensions(){this.width=this.maxWidth;this.height=this.maxHeight;this.paddingTop=getTickBackdropHeight(this.options)/2;this.xCenter=Math.floor(this.width/2);this.yCenter=Math.floor((this.height-this.paddingTop)/2);this.drawingArea=Math.min(this.height-this.paddingTop,this.width)/2;}},{key:"determineDataLimits",value:function determineDataLimits(){var _this$getMinMax4=this.getMinMax(false),min=_this$getMinMax4.min,max=_this$getMinMax4.max;this.min=isNumberFinite(min)&&!isNaN(min)?min:0;this.max=isNumberFinite(max)&&!isNaN(max)?max:0;this.handleTickRangeOptions();}},{key:"computeTickLimit",value:function computeTickLimit(){return Math.ceil(this.drawingArea/getTickBackdropHeight(this.options));}},{key:"generateTickLabels",value:function generateTickLabels(ticks){var _this39=this;LinearScaleBase.prototype.generateTickLabels.call(this,ticks);this._pointLabels=this.getLabels().map(function(value,index){var label=callback(_this39.options.pointLabels.callback,[value,index],_this39);return label||label===0?label:'';});}},{key:"fit",value:function fit(){var opts=this.options;if(opts.display&&opts.pointLabels.display){fitWithPointLabels(this);}else{this.setCenterPoint(0,0,0,0);}}},{key:"_setReductions",value:function _setReductions(largestPossibleRadius,furthestLimits,furthestAngles){var radiusReductionLeft=furthestLimits.l/Math.sin(furthestAngles.l);var radiusReductionRight=Math.max(furthestLimits.r-this.width,0)/Math.sin(furthestAngles.r);var radiusReductionTop=-furthestLimits.t/Math.cos(furthestAngles.t);var radiusReductionBottom=-Math.max(furthestLimits.b-(this.height-this.paddingTop),0)/Math.cos(furthestAngles.b);radiusReductionLeft=numberOrZero(radiusReductionLeft);radiusReductionRight=numberOrZero(radiusReductionRight);radiusReductionTop=numberOrZero(radiusReductionTop);radiusReductionBottom=numberOrZero(radiusReductionBottom);this.drawingArea=Math.max(largestPossibleRadius/2,Math.min(Math.floor(largestPossibleRadius-(radiusReductionLeft+radiusReductionRight)/2),Math.floor(largestPossibleRadius-(radiusReductionTop+radiusReductionBottom)/2)));this.setCenterPoint(radiusReductionLeft,radiusReductionRight,radiusReductionTop,radiusReductionBottom);}},{key:"setCenterPoint",value:function setCenterPoint(leftMovement,rightMovement,topMovement,bottomMovement){var maxRight=this.width-rightMovement-this.drawingArea;var maxLeft=leftMovement+this.drawingArea;var maxTop=topMovement+this.drawingArea;var maxBottom=this.height-this.paddingTop-bottomMovement-this.drawingArea;this.xCenter=Math.floor((maxLeft+maxRight)/2+this.left);this.yCenter=Math.floor((maxTop+maxBottom)/2+this.top+this.paddingTop);}},{key:"getIndexAngle",value:function getIndexAngle(index){var angleMultiplier=TAU/this.getLabels().length;var startAngle=this.options.startAngle||0;return _normalizeAngle(index*angleMultiplier+toRadians(startAngle));}},{key:"getDistanceFromCenterForValue",value:function getDistanceFromCenterForValue(value){if(isNullOrUndef(value)){return NaN;}var scalingFactor=this.drawingArea/(this.max-this.min);if(this.options.reverse){return(this.max-value)*scalingFactor;}return(value-this.min)*scalingFactor;}},{key:"getValueForDistanceFromCenter",value:function getValueForDistanceFromCenter(distance){if(isNullOrUndef(distance)){return NaN;}var scaledDistance=distance/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-scaledDistance:this.min+scaledDistance;}},{key:"getPointLabelContext",value:function getPointLabelContext(index){var pointLabels=this._pointLabels||[];if(index>=0&&index<pointLabels.length){var pointLabel=pointLabels[index];return createPointLabelContext(this.getContext(),index,pointLabel);}}},{key:"getPointPosition",value:function getPointPosition(index,distanceFromCenter){var angle=this.getIndexAngle(index)-HALF_PI;return{x:Math.cos(angle)*distanceFromCenter+this.xCenter,y:Math.sin(angle)*distanceFromCenter+this.yCenter,angle:angle};}},{key:"getPointPositionForValue",value:function getPointPositionForValue(index,value){return this.getPointPosition(index,this.getDistanceFromCenterForValue(value));}},{key:"getBasePosition",value:function getBasePosition(index){return this.getPointPositionForValue(index||0,this.getBaseValue());}},{key:"getPointLabelPosition",value:function getPointLabelPosition(index){var _this$_pointLabelItem=this._pointLabelItems[index],left=_this$_pointLabelItem.left,top=_this$_pointLabelItem.top,right=_this$_pointLabelItem.right,bottom=_this$_pointLabelItem.bottom;return{left:left,top:top,right:right,bottom:bottom};}},{key:"drawBackground",value:function drawBackground(){var _this$options14=this.options,backgroundColor=_this$options14.backgroundColor,circular=_this$options14.grid.circular;if(backgroundColor){var ctx=this.ctx;ctx.save();ctx.beginPath();pathRadiusLine(this,this.getDistanceFromCenterForValue(this._endValue),circular,this.getLabels().length);ctx.closePath();ctx.fillStyle=backgroundColor;ctx.fill();ctx.restore();}}},{key:"drawGrid",value:function drawGrid(){var _this40=this;var ctx=this.ctx;var opts=this.options;var angleLines=opts.angleLines,grid=opts.grid;var labelCount=this.getLabels().length;var i,offset,position;if(opts.pointLabels.display){drawPointLabels(this,labelCount);}if(grid.display){this.ticks.forEach(function(tick,index){if(index!==0){offset=_this40.getDistanceFromCenterForValue(tick.value);var optsAtIndex=grid.setContext(_this40.getContext(index-1));drawRadiusLine(_this40,optsAtIndex,offset,labelCount);}});}if(angleLines.display){ctx.save();for(i=this.getLabels().length-1;i>=0;i--){var optsAtIndex=angleLines.setContext(this.getPointLabelContext(i));var color=optsAtIndex.color,lineWidth=optsAtIndex.lineWidth;if(!lineWidth||!color){continue;}ctx.lineWidth=lineWidth;ctx.strokeStyle=color;ctx.setLineDash(optsAtIndex.borderDash);ctx.lineDashOffset=optsAtIndex.borderDashOffset;offset=this.getDistanceFromCenterForValue(opts.ticks.reverse?this.min:this.max);position=this.getPointPosition(i,offset);ctx.beginPath();ctx.moveTo(this.xCenter,this.yCenter);ctx.lineTo(position.x,position.y);ctx.stroke();}ctx.restore();}}},{key:"drawBorder",value:function drawBorder(){}},{key:"drawLabels",value:function drawLabels(){var _this41=this;var ctx=this.ctx;var opts=this.options;var tickOpts=opts.ticks;if(!tickOpts.display){return;}var startAngle=this.getIndexAngle(0);var offset,width;ctx.save();ctx.translate(this.xCenter,this.yCenter);ctx.rotate(startAngle);ctx.textAlign='center';ctx.textBaseline='middle';this.ticks.forEach(function(tick,index){if(index===0&&!opts.reverse){return;}var optsAtIndex=tickOpts.setContext(_this41.getContext(index));var tickFont=toFont(optsAtIndex.font);offset=_this41.getDistanceFromCenterForValue(_this41.ticks[index].value);if(optsAtIndex.showLabelBackdrop){ctx.font=tickFont.string;width=ctx.measureText(tick.label).width;ctx.fillStyle=optsAtIndex.backdropColor;var padding=toPadding(optsAtIndex.backdropPadding);ctx.fillRect(-width/2-padding.left,-offset-tickFont.size/2-padding.top,width+padding.width,tickFont.size+padding.height);}renderText(ctx,tick.label,0,-offset,tickFont,{color:optsAtIndex.color});});ctx.restore();}},{key:"drawTitle",value:function drawTitle(){}}]);return RadialLinearScale;}(LinearScaleBase);RadialLinearScale.id='radialLinear';RadialLinearScale.defaults={display:true,animate:true,position:'chartArea',angleLines:{display:true,lineWidth:1,borderDash:[],borderDashOffset:0.0},grid:{circular:false},startAngle:0,ticks:{showLabelBackdrop:true,callback:Ticks.formatters.numeric},pointLabels:{backdropColor:undefined,backdropPadding:2,display:true,font:{size:10},callback:function callback(label){return label;},padding:5}};RadialLinearScale.defaultRoutes={'angleLines.color':'borderColor','pointLabels.color':'color','ticks.color':'color'};RadialLinearScale.descriptors={angleLines:{_fallback:'grid'}};var INTERVALS={millisecond:{common:true,size:1,steps:1000},second:{common:true,size:1000,steps:60},minute:{common:true,size:60000,steps:60},hour:{common:true,size:3600000,steps:24},day:{common:true,size:86400000,steps:30},week:{common:false,size:604800000,steps:4},month:{common:true,size:2.628e9,steps:12},quarter:{common:false,size:7.884e9,steps:4},year:{common:true,size:3.154e10}};var UNITS=Object.keys(INTERVALS);function sorter(a,b){return a-b;}function _parse(scale,input){if(isNullOrUndef(input)){return null;}var adapter=scale._adapter;var _scale$_parseOpts=scale._parseOpts,parser=_scale$_parseOpts.parser,round=_scale$_parseOpts.round,isoWeekday=_scale$_parseOpts.isoWeekday;var value=input;if(typeof parser==='function'){value=parser(value);}if(!isNumberFinite(value)){value=typeof parser==='string'?adapter.parse(value,parser):adapter.parse(value);}if(value===null){return null;}if(round){value=round==='week'&&(isNumber(isoWeekday)||isoWeekday===true)?adapter.startOf(value,'isoWeek',isoWeekday):adapter.startOf(value,round);}return+value;}function determineUnitForAutoTicks(minUnit,min,max,capacity){var ilen=UNITS.length;for(var i=UNITS.indexOf(minUnit);i<ilen-1;++i){var interval=INTERVALS[UNITS[i]];var factor=interval.steps?interval.steps:Number.MAX_SAFE_INTEGER;if(interval.common&&Math.ceil((max-min)/(factor*interval.size))<=capacity){return UNITS[i];}}return UNITS[ilen-1];}function determineUnitForFormatting(scale,numTicks,minUnit,min,max){for(var i=UNITS.length-1;i>=UNITS.indexOf(minUnit);i--){var unit=UNITS[i];if(INTERVALS[unit].common&&scale._adapter.diff(max,min,unit)>=numTicks-1){return unit;}}return UNITS[minUnit?UNITS.indexOf(minUnit):0];}function determineMajorUnit(unit){for(var i=UNITS.indexOf(unit)+1,ilen=UNITS.length;i<ilen;++i){if(INTERVALS[UNITS[i]].common){return UNITS[i];}}}function addTick(ticks,time,timestamps){if(!timestamps){ticks[time]=true;}else if(timestamps.length){var _lookup2=_lookup(timestamps,time),lo=_lookup2.lo,hi=_lookup2.hi;var timestamp=timestamps[lo]>=time?timestamps[lo]:timestamps[hi];ticks[timestamp]=true;}}function setMajorTicks(scale,ticks,map,majorUnit){var adapter=scale._adapter;var first=+adapter.startOf(ticks[0].value,majorUnit);var last=ticks[ticks.length-1].value;var major,index;for(major=first;major<=last;major=+adapter.add(major,1,majorUnit)){index=map[major];if(index>=0){ticks[index].major=true;}}return ticks;}function ticksFromTimestamps(scale,values,majorUnit){var ticks=[];var map={};var ilen=values.length;var i,value;for(i=0;i<ilen;++i){value=values[i];map[value]=i;ticks.push({value:value,major:false});}return ilen===0||!majorUnit?ticks:setMajorTicks(scale,ticks,map,majorUnit);}var TimeScale=/*#__PURE__*/function(_Scale4){_inherits(TimeScale,_Scale4);var _super25=_createSuper(TimeScale);function TimeScale(props){var _this42;_classCallCheck(this,TimeScale);_this42=_super25.call(this,props);_this42._cache={data:[],labels:[],all:[]};_this42._unit='day';_this42._majorUnit=undefined;_this42._offsets={};_this42._normalized=false;_this42._parseOpts=undefined;return _this42;}_createClass(TimeScale,[{key:"init",value:function init(scaleOpts,opts){var time=scaleOpts.time||(scaleOpts.time={});var adapter=this._adapter=new _adapters._date(scaleOpts.adapters.date);mergeIf(time.displayFormats,adapter.formats());this._parseOpts={parser:time.parser,round:time.round,isoWeekday:time.isoWeekday};_get2(_getPrototypeOf(TimeScale.prototype),"init",this).call(this,scaleOpts);this._normalized=opts.normalized;}},{key:"parse",value:function parse(raw,index){if(raw===undefined){return null;}return _parse(this,raw);}},{key:"beforeLayout",value:function beforeLayout(){_get2(_getPrototypeOf(TimeScale.prototype),"beforeLayout",this).call(this);this._cache={data:[],labels:[],all:[]};}},{key:"determineDataLimits",value:function determineDataLimits(){var options=this.options;var adapter=this._adapter;var unit=options.time.unit||'day';var _this$getUserBounds5=this.getUserBounds(),min=_this$getUserBounds5.min,max=_this$getUserBounds5.max,minDefined=_this$getUserBounds5.minDefined,maxDefined=_this$getUserBounds5.maxDefined;function _applyBounds(bounds){if(!minDefined&&!isNaN(bounds.min)){min=Math.min(min,bounds.min);}if(!maxDefined&&!isNaN(bounds.max)){max=Math.max(max,bounds.max);}}if(!minDefined||!maxDefined){_applyBounds(this._getLabelBounds());if(options.bounds!=='ticks'||options.ticks.source!=='labels'){_applyBounds(this.getMinMax(false));}}min=isNumberFinite(min)&&!isNaN(min)?min:+adapter.startOf(Date.now(),unit);max=isNumberFinite(max)&&!isNaN(max)?max:+adapter.endOf(Date.now(),unit)+1;this.min=Math.min(min,max-1);this.max=Math.max(min+1,max);}},{key:"_getLabelBounds",value:function _getLabelBounds(){var arr=this.getLabelTimestamps();var min=Number.POSITIVE_INFINITY;var max=Number.NEGATIVE_INFINITY;if(arr.length){min=arr[0];max=arr[arr.length-1];}return{min:min,max:max};}},{key:"buildTicks",value:function buildTicks(){var options=this.options;var timeOpts=options.time;var tickOpts=options.ticks;var timestamps=tickOpts.source==='labels'?this.getLabelTimestamps():this._generate();if(options.bounds==='ticks'&&timestamps.length){this.min=this._userMin||timestamps[0];this.max=this._userMax||timestamps[timestamps.length-1];}var min=this.min;var max=this.max;var ticks=_filterBetween(timestamps,min,max);this._unit=timeOpts.unit||(tickOpts.autoSkip?determineUnitForAutoTicks(timeOpts.minUnit,this.min,this.max,this._getLabelCapacity(min)):determineUnitForFormatting(this,ticks.length,timeOpts.minUnit,this.min,this.max));this._majorUnit=!tickOpts.major.enabled||this._unit==='year'?undefined:determineMajorUnit(this._unit);this.initOffsets(timestamps);if(options.reverse){ticks.reverse();}return ticksFromTimestamps(this,ticks,this._majorUnit);}},{key:"initOffsets",value:function initOffsets(timestamps){var start=0;var end=0;var first,last;if(this.options.offset&&timestamps.length){first=this.getDecimalForValue(timestamps[0]);if(timestamps.length===1){start=1-first;}else{start=(this.getDecimalForValue(timestamps[1])-first)/2;}last=this.getDecimalForValue(timestamps[timestamps.length-1]);if(timestamps.length===1){end=last;}else{end=(last-this.getDecimalForValue(timestamps[timestamps.length-2]))/2;}}var limit=timestamps.length<3?0.5:0.25;start=_limitValue(start,0,limit);end=_limitValue(end,0,limit);this._offsets={start:start,end:end,factor:1/(start+1+end)};}},{key:"_generate",value:function _generate(){var adapter=this._adapter;var min=this.min;var max=this.max;var options=this.options;var timeOpts=options.time;var minor=timeOpts.unit||determineUnitForAutoTicks(timeOpts.minUnit,min,max,this._getLabelCapacity(min));var stepSize=valueOrDefault(timeOpts.stepSize,1);var weekday=minor==='week'?timeOpts.isoWeekday:false;var hasWeekday=isNumber(weekday)||weekday===true;var ticks={};var first=min;var time,count;if(hasWeekday){first=+adapter.startOf(first,'isoWeek',weekday);}first=+adapter.startOf(first,hasWeekday?'day':minor);if(adapter.diff(max,min,minor)>100000*stepSize){throw new Error(min+' and '+max+' are too far apart with stepSize of '+stepSize+' '+minor);}var timestamps=options.ticks.source==='data'&&this.getDataTimestamps();for(time=first,count=0;time<max;time=+adapter.add(time,stepSize,minor),count++){addTick(ticks,time,timestamps);}if(time===max||options.bounds==='ticks'||count===1){addTick(ticks,time,timestamps);}return Object.keys(ticks).sort(function(a,b){return a-b;}).map(function(x){return+x;});}},{key:"getLabelForValue",value:function getLabelForValue(value){var adapter=this._adapter;var timeOpts=this.options.time;if(timeOpts.tooltipFormat){return adapter.format(value,timeOpts.tooltipFormat);}return adapter.format(value,timeOpts.displayFormats.datetime);}},{key:"_tickFormatFunction",value:function _tickFormatFunction(time,index,ticks,format){var options=this.options;var formats=options.time.displayFormats;var unit=this._unit;var majorUnit=this._majorUnit;var minorFormat=unit&&formats[unit];var majorFormat=majorUnit&&formats[majorUnit];var tick=ticks[index];var major=majorUnit&&majorFormat&&tick&&tick.major;var label=this._adapter.format(time,format||(major?majorFormat:minorFormat));var formatter=options.ticks.callback;return formatter?callback(formatter,[label,index,ticks],this):label;}},{key:"generateTickLabels",value:function generateTickLabels(ticks){var i,ilen,tick;for(i=0,ilen=ticks.length;i<ilen;++i){tick=ticks[i];tick.label=this._tickFormatFunction(tick.value,i,ticks);}}},{key:"getDecimalForValue",value:function getDecimalForValue(value){return value===null?NaN:(value-this.min)/(this.max-this.min);}},{key:"getPixelForValue",value:function getPixelForValue(value){var offsets=this._offsets;var pos=this.getDecimalForValue(value);return this.getPixelForDecimal((offsets.start+pos)*offsets.factor);}},{key:"getValueForPixel",value:function getValueForPixel(pixel){var offsets=this._offsets;var pos=this.getDecimalForPixel(pixel)/offsets.factor-offsets.end;return this.min+pos*(this.max-this.min);}},{key:"_getLabelSize",value:function _getLabelSize(label){var ticksOpts=this.options.ticks;var tickLabelWidth=this.ctx.measureText(label).width;var angle=toRadians(this.isHorizontal()?ticksOpts.maxRotation:ticksOpts.minRotation);var cosRotation=Math.cos(angle);var sinRotation=Math.sin(angle);var tickFontSize=this._resolveTickFontOptions(0).size;return{w:tickLabelWidth*cosRotation+tickFontSize*sinRotation,h:tickLabelWidth*sinRotation+tickFontSize*cosRotation};}},{key:"_getLabelCapacity",value:function _getLabelCapacity(exampleTime){var timeOpts=this.options.time;var displayFormats=timeOpts.displayFormats;var format=displayFormats[timeOpts.unit]||displayFormats.millisecond;var exampleLabel=this._tickFormatFunction(exampleTime,0,ticksFromTimestamps(this,[exampleTime],this._majorUnit),format);var size=this._getLabelSize(exampleLabel);var capacity=Math.floor(this.isHorizontal()?this.width/size.w:this.height/size.h)-1;return capacity>0?capacity:1;}},{key:"getDataTimestamps",value:function getDataTimestamps(){var timestamps=this._cache.data||[];var i,ilen;if(timestamps.length){return timestamps;}var metas=this.getMatchingVisibleMetas();if(this._normalized&&metas.length){return this._cache.data=metas[0].controller.getAllParsedValues(this);}for(i=0,ilen=metas.length;i<ilen;++i){timestamps=timestamps.concat(metas[i].controller.getAllParsedValues(this));}return this._cache.data=this.normalize(timestamps);}},{key:"getLabelTimestamps",value:function getLabelTimestamps(){var timestamps=this._cache.labels||[];var i,ilen;if(timestamps.length){return timestamps;}var labels=this.getLabels();for(i=0,ilen=labels.length;i<ilen;++i){timestamps.push(_parse(this,labels[i]));}return this._cache.labels=this._normalized?timestamps:this.normalize(timestamps);}},{key:"normalize",value:function normalize(values){return _arrayUnique(values.sort(sorter));}}]);return TimeScale;}(Scale);TimeScale.id='time';TimeScale.defaults={bounds:'data',adapters:{},time:{parser:false,unit:false,round:false,isoWeekday:false,minUnit:'millisecond',displayFormats:{}},ticks:{source:'auto',major:{enabled:false}}};function interpolate(table,val,reverse){var lo=0;var hi=table.length-1;var prevSource,nextSource,prevTarget,nextTarget;if(reverse){if(val>=table[lo].pos&&val<=table[hi].pos){var _lookupByKey2=_lookupByKey(table,'pos',val);lo=_lookupByKey2.lo;hi=_lookupByKey2.hi;}var _table$lo=table[lo];prevSource=_table$lo.pos;prevTarget=_table$lo.time;var _table$hi=table[hi];nextSource=_table$hi.pos;nextTarget=_table$hi.time;}else{if(val>=table[lo].time&&val<=table[hi].time){var _lookupByKey3=_lookupByKey(table,'time',val);lo=_lookupByKey3.lo;hi=_lookupByKey3.hi;}var _table$lo2=table[lo];prevSource=_table$lo2.time;prevTarget=_table$lo2.pos;var _table$hi2=table[hi];nextSource=_table$hi2.time;nextTarget=_table$hi2.pos;}var span=nextSource-prevSource;return span?prevTarget+(nextTarget-prevTarget)*(val-prevSource)/span:prevTarget;}var TimeSeriesScale=/*#__PURE__*/function(_TimeScale){_inherits(TimeSeriesScale,_TimeScale);var _super26=_createSuper(TimeSeriesScale);function TimeSeriesScale(props){var _this43;_classCallCheck(this,TimeSeriesScale);_this43=_super26.call(this,props);_this43._table=[];_this43._minPos=undefined;_this43._tableRange=undefined;return _this43;}_createClass(TimeSeriesScale,[{key:"initOffsets",value:function initOffsets(){var timestamps=this._getTimestampsForTable();var table=this._table=this.buildLookupTable(timestamps);this._minPos=interpolate(table,this.min);this._tableRange=interpolate(table,this.max)-this._minPos;_get2(_getPrototypeOf(TimeSeriesScale.prototype),"initOffsets",this).call(this,timestamps);}},{key:"buildLookupTable",value:function buildLookupTable(timestamps){var min=this.min,max=this.max;var items=[];var table=[];var i,ilen,prev,curr,next;for(i=0,ilen=timestamps.length;i<ilen;++i){curr=timestamps[i];if(curr>=min&&curr<=max){items.push(curr);}}if(items.length<2){return[{time:min,pos:0},{time:max,pos:1}];}for(i=0,ilen=items.length;i<ilen;++i){next=items[i+1];prev=items[i-1];curr=items[i];if(Math.round((next+prev)/2)!==curr){table.push({time:curr,pos:i/(ilen-1)});}}return table;}},{key:"_getTimestampsForTable",value:function _getTimestampsForTable(){var timestamps=this._cache.all||[];if(timestamps.length){return timestamps;}var data=this.getDataTimestamps();var label=this.getLabelTimestamps();if(data.length&&label.length){timestamps=this.normalize(data.concat(label));}else{timestamps=data.length?data:label;}timestamps=this._cache.all=timestamps;return timestamps;}},{key:"getDecimalForValue",value:function getDecimalForValue(value){return(interpolate(this._table,value)-this._minPos)/this._tableRange;}},{key:"getValueForPixel",value:function getValueForPixel(pixel){var offsets=this._offsets;var decimal=this.getDecimalForPixel(pixel)/offsets.factor-offsets.end;return interpolate(this._table,decimal*this._tableRange+this._minPos,true);}}]);return TimeSeriesScale;}(TimeScale);TimeSeriesScale.id='timeseries';TimeSeriesScale.defaults=TimeScale.defaults;var scales=/*#__PURE__*/Object.freeze({__proto__:null,CategoryScale:CategoryScale,LinearScale:LinearScale,LogarithmicScale:LogarithmicScale,RadialLinearScale:RadialLinearScale,TimeScale:TimeScale,TimeSeriesScale:TimeSeriesScale});Chart.register(controllers,scales,elements,plugins);Chart.helpers=_objectSpread({},helpers);Chart._adapters=_adapters;Chart.Animation=Animation;Chart.Animations=Animations;Chart.animator=animator;Chart.controllers=registry.controllers.items;Chart.DatasetController=DatasetController;Chart.Element=Element;Chart.elements=elements;Chart.Interaction=Interaction;Chart.layouts=layouts;Chart.platforms=platforms;Chart.Scale=Scale;Chart.Ticks=Ticks;Object.assign(Chart,controllers,scales,elements,plugins,platforms);Chart.Chart=Chart;if(typeof window!=='undefined'){window.Chart=Chart;}return Chart;});;document.addEventListener("DOMContentLoaded",function(){// Menu btn
var burgerBtn=document.querySelector('.burger');var navMenu=document.querySelector('.menu-1');burgerBtn.onclick=function(){burgerBtn.classList.toggle('active');navMenu.classList.toggle('active');};// function startResize(e) {
//   let windowWidth = window.innerWidth;
//   let burgerBtn = document.querySelector('.burger');
//   let navMenu = document.querySelector('.menu-1');
//   let menuItems = navMenu.querySelectorAll('li');
//   if (windowWidth > 991) {
//     console.log('Больше 991');
//   } else {
//     console.log('Меньше 991');
//     burgerBtn.onclick = function () {
//       burgerBtn.classList.toggle('active');
//       navMenu.classList.toggle('active');
//     };
//     let buttonsMenu = document.querySelectorAll('.menu-toggle');
//     buttonsMenu.forEach((elem) => {
//       elem.addEventListener('click', () => {
//         let menuItem = elem.parentNode.closest('.menu-item').find('.submenu')[0];
//         menuItem.classList.toggle('active');
//         elem.closest('.menu-wrap').querySelector('.menu_btn').classList.toggle('menu_btn-active')
//       })
//     });
//     // let menuItemOne = document.querySelector('.menu-1__title');
//     // let menuTwo = document.querySelector('.menu-2');
//     // menuItemOne.onclick = function () {
//     //   menuItemOne.classList.toggle('active');
//     //   menuTwo.classList.toggle('active');
//     // };
//     // let menuItemTwo = document.querySelector('.menu-2__title');
//     // let menuThree = document.querySelector('.menu-3');
//     // menuItemTwo.onclick = function () {
//     //   menuItemTwo.classList.toggle('active');
//     //   menuThree.classList.toggle('active');
//     // };
//   }
// }
// startResize();
// window.addEventListener("resize", startResize);
// // window.addEventListener("resize", function (e) {
// //   let windowWidth = window.innerWidth;
// //   // let menu = document.querySelector('.menu-1');
// //   let burgerBtn = document.querySelector('.burger');
// //   let navMenu = document.querySelector('.menu-1');
// //   let menuItems = navMenu.querySelectorAll('li');
// //   let mouseenterFunc = function (i) {
// //     i.classList.add('active');
// //   }
// //   let mouseleaveFunc = function (i) {
// //     i.classList.remove('active');
// //   }
// //   if (windowWidth > 991) {
// //     console.log('Больше 991');
// //     menuItems.forEach(i => {
// //       i.addEventListener('mouseenter', mouseenterFunc, false);
// //       i.addEventListener('mouseleave', mouseleaveFunc, false);
// //     })
// //   } else {
// //     console.log('Меньше 991');
// //     burgerBtn.onclick = function () {
// //       burgerBtn.classList.toggle('active');
// //       navMenu.classList.toggle('active');
// //     };
// //     menuItems.forEach(i => {
// //       i.removeEventListener('mouseenter', mouseenterFunc, false);
// //       i.removeEventListener('mouseleave', mouseleaveFunc, false);
// //     })
// //   }
// // }, false);
// // let menu = document.querySelector('menu-1');
// // window.addEventListener("resize", function (e) {
// //   let menuItems = navMenu.querySelectorAll('li');
// //   menuItems.forEach(i => {
// //     i.addEventListener('mouseenter', () => {
// //       i.classList.add('active')
// //     })
// //     i.addEventListener('mouseleave', () => {
// //       i.classList.remove('active')
// //     })
// //   })
// // });
// // const InitMultiMenu = ({ menu, params = {} }) => {
// //   //Initialization
// //   let menuObject = document.querySelector(menu);
// //   let subMenus = menuObject.querySelectorAll('ul');
// //   let initParams = {
// //     parentItem: '.menu-toggle',
// //     subMenuClass: 'sub-menu',
// //     itemClass: 'menu-item',
// //     activeClass: 'active',
// //     subMenuWrapper: null,
// //     action: 'click',
// //     responsive: [],
// //     ...params
// //   };
// //   let newParams = { ...initParams };
// //   if (newParams?.responsive) {
// //     newParams?.responsive.sort((a, b) => parseFloat(a?.breakpoint) - parseFloat(b?.breakpoint));
// //   }
// //   //init li class
// //   let menuItems = menuObject.querySelectorAll('li');
// //   menuItems.forEach(li => {
// //     li.classList.add(newParams?.itemClass);
// //   })
// //   //methods
// //   function toggleMenu({
// //     subMenuInstance,
// //     parentLi,
// //     liMenuToggle,
// //     show = true,
// //   }) {
// //     try {
// //       if (show) {
// //         subMenuInstance.classList.add(newParams?.activeClass);
// //         parentLi.classList.add(newParams?.activeClass);
// //         liMenuToggle.classList.add(newParams?.activeClass);
// //       } else {
// //         subMenuInstance.classList.remove(newParams?.activeClass);
// //         parentLi.classList.remove(newParams?.activeClass);
// //         liMenuToggle.classList.remove(newParams?.activeClass);
// //       }
// //     } catch (er) { }
// //   }
// //   function findAll(item) {
// //     let res = [];
// //     if (item) {
// //       let parent = item.parentElement.closest('li');
// //       console.log(parent);
// //       if (parent) {
// //         findAll(parent);
// //       } else {
// //         return;
// //       }
// //     } else {
// //       return;
// //     }
// //   }
// //   function initBreakpoit(e) {
// //     let windowWidth = window.innerWidth;
// //     if (Array.isArray(newParams?.responsive)) {
// //       let foundBreak = newParams?.responsive.find(i => i.breakpoint >= windowWidth);
// //       if (foundBreak) {
// //         let tmpParams = foundBreak?.params || {};
// //         newParams = {
// //           ...newParams,
// //           ...tmpParams,
// //         };
// //       } else {
// //         newParams = { ...initParams };
// //       }
// //       initSubmenu();
// //     }
// //   }
// //   initBreakpoit();
// //   window.addEventListener("resize", initBreakpoit, false);
// //   //Init submenu
// //   function initSubmenu() {
// //     subMenus.forEach(sub => {
// //       sub.classList.add(newParams?.subMenuClass);
// //       let subMenuInstance = sub;
// //       let parentLi = sub.closest('li');
// //       parentLi.classList.add('has-sub');
// //       if (newParams?.subMenuWrapper) {
// //         subMenuInstance = parentLi.querySelector(newParams?.subMenuWrapper) || sub;
// //       }
// //       let liMenuToggle = parentLi.querySelector(newParams?.parentItem);
// //       //Listeners
// //       var mouseEnterListener = function (e) {
// //         e.preventDefault();
// //         toggleMenu({
// //           subMenuInstance: subMenuInstance,
// //           parentLi: parentLi,
// //           liMenuToggle: liMenuToggle,
// //           show: true,
// //         })
// //       }
// //       var mouseLeaveListener = function (e) {
// //         e.preventDefault();
// //         toggleMenu({
// //           subMenuInstance: subMenuInstance,
// //           parentLi: parentLi,
// //           liMenuToggle: liMenuToggle,
// //           show: false,
// //         })
// //       }
// //       var clickListener = function (e) {
// //         e.preventDefault();
// //         subMenuInstance.classList.toggle(newParams?.activeClass);
// //         parentLi.classList.toggle(newParams?.activeClass);
// //         liMenuToggle.classList.toggle(newParams?.activeClass);
// //       }
// //       function clearListeners() {
// //         parentLi?.removeEventListener('mouseenter', mouseEnterListener, true)
// //         parentLi?.removeEventListener('mouseleave', mouseEnterListener, true)
// //         liMenuToggle?.removeEventListener('click', clickListener, true);
// //       }
// //       clearListeners();
// //       // if (liMenuToggle) {
// //       //   if (newParams?.action.toLowerCase() == 'hover') {
// //       //     //При наведении мышки - показываем меню
// //       //     parentLi.addEventListener('mouseenter', mouseEnterListener, true)
// //       //     //При наведении мышки - показываем меню
// //       //     parentLi.addEventListener('mouseleave', mouseLeaveListener, true)
// //       //   } else {
// //       //     liMenuToggle.addEventListener('click', clickListener, true);
// //       //   }
// //       // }
// //     });
// //   }
// //   //initSubmenu();
// // }
// // InitMultiMenu({
// //   menu: '.menu-1',
// //   params: { subMenuWrapper: '.menu-2', action: 'hover' },
// // });;
// main Slider
var swiper=new Swiper(".main-slider",{pagination:{el:".swiper-pagination"},autoplay:{delay:5000,disableOnInteraction:false},loop:true});;// Numbers
var counter=document.querySelectorAll('.numbers__number');function numberWithCommas(x){var suffix=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+suffix;}function animateValue(obj,start,end,duration,suffix){var startTimestamp=null;var step=function step(timestamp){if(!startTimestamp)startTimestamp=timestamp;var progress=Math.min((timestamp-startTimestamp)/duration,1);obj.innerHTML=numberWithCommas(Math.floor(progress*(end-start)+start),suffix);if(progress<1){window.requestAnimationFrame(step);}};window.requestAnimationFrame(step);}function elementInViewport(el){var top=el.offsetTop;var left=el.offsetLeft;var width=el.offsetWidth;var height=el.offsetHeight;while(el.offsetParent){el=el.offsetParent;top+=el.offsetTop;left+=el.offsetLeft;}return top<window.pageYOffset+window.innerHeight&&left<window.pageXOffset+window.innerWidth&&top+height>window.pageYOffset&&left+width>window.pageXOffset;}window.addEventListener('scroll',function(){counter.forEach(function(el){var isEnded=el.dataset.ended;var start=parseFloat(el.dataset.start);var end=parseFloat(el.dataset.end);var duration=parseFloat(el.dataset.duration);var delay=el.dataset.delay?parseFloat(el.dataset.delay):0;var suffix=el.dataset.suffix?el.dataset.suffix:'';if(!isEnded&&elementInViewport(el)){el.setAttribute('data-ended',true);setTimeout(function(){animateValue(el,start,end,duration,suffix);},delay);}});},false);// Video
var videoPlayer=document.querySelectorAll('.js-video');videoPlayer.forEach(function(element){var video=element.querySelector('video');var videoFilter=element.querySelector('.video__filter');video.volume=0.2;element.addEventListener('click',function(){if(video.paused){videoFilter.classList.add('active');video.play();}else{video.pause();videoFilter.classList.remove('active');}});});;//Chart
var ctx=document.getElementById('myChart');var myChart=new Chart(ctx,{type:'bar',data:{labels:['2010','2011','2012','2013','2014','2015','2016','2017','2018','2019'],datasets:[{label:'Продано',data:[650000,900000,900000,1000000,1000000,1200000,1500000,1600000,1650000,1800000],backgroundColor:'#00A7B5'}]},options:{scales:{y:{beginAtZero:true,ticks:{callback:function callback(val,index){var result=nFormatter(val,1);var tmp=result.split(' ');tmp[0]=tmp[0].replace('.',',');return tmp.join(' ');},stepSize:400000,padding:18},grid:{drawBorder:false}},x:{grid:{display:false,drawBorder:false}}},plugins:{legend:{display:false}}}});function nFormatter(num,digits){var lookup=[{value:1,symbol:""},{value:1e3,symbol:" тыс."},{value:1e6,symbol:" млн."},{value:1e9,symbol:" млрд."}// { value: 1e12, symbol: "T" },
// { value: 1e15, symbol: "P" },
// { value: 1e18, symbol: "E" }
];var rx=/\.0+$|(\.[0-9]*[1-9])0+$/;var item=lookup.slice().reverse().find(function(item){return num>=item.value;});return item?(num/item.value).toFixed(digits).replace(rx,"$1")+item.symbol:"0";};;// p-category-slider
var swiper=new Swiper("#p-category-slider",{pagination:{el:".swiper-pagination"}});;});